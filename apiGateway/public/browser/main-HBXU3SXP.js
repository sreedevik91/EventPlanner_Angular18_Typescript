var Bh=Object.defineProperty,db=Object.defineProperties;var fb=Object.getOwnPropertyDescriptors;var Qs=Object.getOwnPropertySymbols;var $h=Object.prototype.hasOwnProperty,Hh=Object.prototype.propertyIsEnumerable;var jh=(e,t,n)=>t in e?Bh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,O=(e,t)=>{for(var n in t||={})$h.call(t,n)&&jh(e,n,t[n]);if(Qs)for(var n of Qs(t))Hh.call(t,n)&&jh(e,n,t[n]);return e},we=(e,t)=>db(e,fb(t));var kt=(e,t)=>{var n={};for(var r in e)$h.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Qs)for(var r of Qs(e))t.indexOf(r)<0&&Hh.call(e,r)&&(n[r]=e[r]);return n};var zh=(e,t)=>{for(var n in t)Bh(e,n,{get:t[n],enumerable:!0})};var te=(e,t,n)=>new Promise((r,i)=>{var o=l=>{try{a(n.next(l))}catch(d){i(d)}},s=l=>{try{a(n.throw(l))}catch(d){i(d)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(e,t)).next())});function Gh(e,t){return Object.is(e,t)}var ut=null,Ys=!1,Ks=1,hr=Symbol("SIGNAL");function ve(e){let t=ut;return ut=e,t}function qh(){return ut}var Ao={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Su(e){if(Ys)throw new Error("");if(ut===null)return;ut.consumerOnSignalRead(e);let t=ut.nextProducerIndex++;if(ta(ut),t<ut.producerNode.length&&ut.producerNode[t]!==e&&Fo(ut)){let n=ut.producerNode[t];ea(n,ut.producerIndexOfThis[t])}ut.producerNode[t]!==e&&(ut.producerNode[t]=e,ut.producerIndexOfThis[t]=Fo(ut)?Yh(e,ut,t):0),ut.producerLastReadVersion[t]=e.version}function pb(){Ks++}function Wh(e){if(!(Fo(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Ks)){if(!e.producerMustRecompute(e)&&!xu(e)){e.dirty=!1,e.lastCleanEpoch=Ks;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Ks}}function Zh(e){if(e.liveConsumerNode===void 0)return;let t=Ys;Ys=!0;try{for(let n of e.liveConsumerNode)n.dirty||hb(n)}finally{Ys=t}}function Qh(){return ut?.consumerAllowSignalWrites!==!1}function hb(e){e.dirty=!0,Zh(e),e.consumerMarkedDirty?.(e)}function Xs(e){return e&&(e.nextProducerIndex=0),ve(e)}function Du(e,t){if(ve(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Fo(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)ea(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function xu(e){ta(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(Wh(n),r!==n.version))return!0}return!1}function Iu(e){if(ta(e),Fo(e))for(let t=0;t<e.producerNode.length;t++)ea(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Yh(e,t,n){if(Kh(e),e.liveConsumerNode.length===0&&Jh(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=Yh(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function ea(e,t){if(Kh(e),e.liveConsumerNode.length===1&&Jh(e))for(let r=0;r<e.producerNode.length;r++)ea(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];ta(i),i.producerIndexOfThis[r]=t}}function Fo(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function ta(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Kh(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Jh(e){return e.producerNode!==void 0}function Xh(e){let t=Object.create(mb);t.computation=e;let n=()=>{if(Wh(t),Su(t),t.value===Js)throw t.error;return t.value};return n[hr]=t,n}var Eu=Symbol("UNSET"),wu=Symbol("COMPUTING"),Js=Symbol("ERRORED"),mb=we(O({},Ao),{value:Eu,dirty:!0,error:null,equal:Gh,producerMustRecompute(e){return e.value===Eu||e.value===wu},producerRecomputeValue(e){if(e.value===wu)throw new Error("Detected cycle in computations.");let t=e.value;e.value=wu;let n=Xs(e),r;try{r=e.computation()}catch(i){r=Js,e.error=i}finally{Du(e,n)}if(t!==Eu&&t!==Js&&r!==Js&&e.equal(t,r)){e.value=t;return}e.value=r,e.version++}});function gb(){throw new Error}var em=gb;function tm(){em()}function nm(e){em=e}var vb=null;function rm(e){let t=Object.create(om);t.value=e;let n=()=>(Su(t),t.value);return n[hr]=t,n}function Tu(e,t){Qh()||tm(),e.equal(e.value,t)||(e.value=t,yb(e))}function im(e,t){Qh()||tm(),Tu(e,t(e.value))}var om=we(O({},Ao),{equal:Gh,value:void 0});function yb(e){e.version++,pb(),Zh(e),vb?.()}function ce(e){return typeof e=="function"}function Ei(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var na=Ei(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Mo(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var at=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ce(r))try{r()}catch(o){t=o instanceof na?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{sm(o)}catch(s){t=t??[],s instanceof na?t=[...t,...s.errors]:t.push(s)}}if(t)throw new na(t)}}add(t){var n;if(t&&t!==this)if(this.closed)sm(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Mo(n,t)}remove(t){let{_finalizers:n}=this;n&&Mo(n,t),t instanceof e&&t._removeParent(this)}};at.EMPTY=(()=>{let e=new at;return e.closed=!0,e})();var Fu=at.EMPTY;function ra(e){return e instanceof at||e&&"closed"in e&&ce(e.remove)&&ce(e.add)&&ce(e.unsubscribe)}function sm(e){ce(e)?e():e.unsubscribe()}var mn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var wi={setTimeout(e,t,...n){let{delegate:r}=wi;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=wi;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function ia(e){wi.setTimeout(()=>{let{onUnhandledError:t}=mn;if(t)t(e);else throw e})}function ko(){}var am=Au("C",void 0,void 0);function lm(e){return Au("E",void 0,e)}function cm(e){return Au("N",e,void 0)}function Au(e,t,n){return{kind:e,value:t,error:n}}var Br=null;function Si(e){if(mn.useDeprecatedSynchronousErrorHandling){let t=!Br;if(t&&(Br={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=Br;if(Br=null,n)throw r}}else e()}function um(e){mn.useDeprecatedSynchronousErrorHandling&&Br&&(Br.errorThrown=!0,Br.error=e)}var $r=class extends at{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,ra(t)&&t.add(this)):this.destination=bb}static create(t,n,r){return new jn(t,n,r)}next(t){this.isStopped?ku(cm(t),this):this._next(t)}error(t){this.isStopped?ku(lm(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?ku(am,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},_b=Function.prototype.bind;function Mu(e,t){return _b.call(e,t)}var Nu=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){oa(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){oa(r)}else oa(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){oa(n)}}},jn=class extends $r{constructor(t,n,r){super();let i;if(ce(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&mn.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Mu(t.next,o),error:t.error&&Mu(t.error,o),complete:t.complete&&Mu(t.complete,o)}):i=t}this.destination=new Nu(i)}};function oa(e){mn.useDeprecatedSynchronousErrorHandling?um(e):ia(e)}function Cb(e){throw e}function ku(e,t){let{onStoppedNotification:n}=mn;n&&wi.setTimeout(()=>n(e,t))}var bb={closed:!0,next:ko,error:Cb,complete:ko};var Di=typeof Symbol=="function"&&Symbol.observable||"@@observable";function zt(e){return e}function Ou(...e){return Ru(e)}function Ru(e){return e.length===0?zt:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var _e=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=wb(n)?n:new jn(n,r,i);return Si(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=dm(r),new r((i,o)=>{let s=new jn({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Di](){return this}pipe(...n){return Ru(n)(this)}toPromise(n){return n=dm(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function dm(e){var t;return(t=e??mn.Promise)!==null&&t!==void 0?t:Promise}function Eb(e){return e&&ce(e.next)&&ce(e.error)&&ce(e.complete)}function wb(e){return e&&e instanceof $r||Eb(e)&&ra(e)}function Pu(e){return ce(e?.lift)}function Ce(e){return t=>{if(Pu(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function be(e,t,n,r,i){return new Lu(e,t,n,r,i)}var Lu=class extends $r{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function xi(){return Ce((e,t)=>{let n=null;e._refCount++;let r=be(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var Ii=class extends _e{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Pu(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new at;let n=this.getSubject();t.add(this.source.subscribe(be(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=at.EMPTY)}return t}refCount(){return xi()(this)}};var fm=Ei(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var V=(()=>{class e extends _e{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new sa(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new fm}next(n){Si(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Si(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Si(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Fu:(this.currentObservers=null,o.push(n),new at(()=>{this.currentObservers=null,Mo(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new _e;return n.source=this,n}}return e.create=(t,n)=>new sa(t,n),e})(),sa=class extends V{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:Fu}};var rt=class extends V{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var Gt=new _e(e=>e.complete());function pm(e){return e&&ce(e.schedule)}function hm(e){return e[e.length-1]}function aa(e){return ce(hm(e))?e.pop():void 0}function mr(e){return pm(hm(e))?e.pop():void 0}function gm(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{d(r.next(h))}catch(m){s(m)}}function l(h){try{d(r.throw(h))}catch(m){s(m)}}function d(h){h.done?o(h.value):i(h.value).then(a,l)}d((r=r.apply(e,t||[])).next())})}function mm(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Hr(e){return this instanceof Hr?(this.v=e,this):new Hr(e)}function vm(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(_){return function(x){return Promise.resolve(x).then(_,m)}}function a(_,x){r[_]&&(i[_]=function(M){return new Promise(function(R,j){o.push([_,M,R,j])>1||l(_,M)})},x&&(i[_]=x(i[_])))}function l(_,x){try{d(r[_](x))}catch(M){y(o[0][3],M)}}function d(_){_.value instanceof Hr?Promise.resolve(_.value.v).then(h,m):y(o[0][2],_)}function h(_){l("next",_)}function m(_){l("throw",_)}function y(_,x){_(x),o.shift(),o.length&&l(o[0][0],o[0][1])}}function ym(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof mm=="function"?mm(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,l){s=e[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(d){o({value:d,done:a})},s)}}var la=e=>e&&typeof e.length=="number"&&typeof e!="function";function ca(e){return ce(e?.then)}function ua(e){return ce(e[Di])}function da(e){return Symbol.asyncIterator&&ce(e?.[Symbol.asyncIterator])}function fa(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Sb(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var pa=Sb();function ha(e){return ce(e?.[pa])}function ma(e){return vm(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield Hr(n.read());if(i)return yield Hr(void 0);yield yield Hr(r)}}finally{n.releaseLock()}})}function ga(e){return ce(e?.getReader)}function Ze(e){if(e instanceof _e)return e;if(e!=null){if(ua(e))return Db(e);if(la(e))return xb(e);if(ca(e))return Ib(e);if(da(e))return _m(e);if(ha(e))return Tb(e);if(ga(e))return Fb(e)}throw fa(e)}function Db(e){return new _e(t=>{let n=e[Di]();if(ce(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function xb(e){return new _e(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function Ib(e){return new _e(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,ia)})}function Tb(e){return new _e(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function _m(e){return new _e(t=>{Ab(e,t).catch(n=>t.error(n))})}function Fb(e){return _m(ma(e))}function Ab(e,t){var n,r,i,o;return gm(this,void 0,void 0,function*(){try{for(n=ym(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function Nt(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function va(e,t=0){return Ce((n,r)=>{n.subscribe(be(r,i=>Nt(r,e,()=>r.next(i),t),()=>Nt(r,e,()=>r.complete(),t),i=>Nt(r,e,()=>r.error(i),t)))})}function ya(e,t=0){return Ce((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Cm(e,t){return Ze(e).pipe(ya(t),va(t))}function bm(e,t){return Ze(e).pipe(ya(t),va(t))}function Em(e,t){return new _e(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function wm(e,t){return new _e(n=>{let r;return Nt(n,t,()=>{r=e[pa](),Nt(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>ce(r?.return)&&r.return()})}function _a(e,t){if(!e)throw new Error("Iterable cannot be null");return new _e(n=>{Nt(n,t,()=>{let r=e[Symbol.asyncIterator]();Nt(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Sm(e,t){return _a(ma(e),t)}function Dm(e,t){if(e!=null){if(ua(e))return Cm(e,t);if(la(e))return Em(e,t);if(ca(e))return bm(e,t);if(da(e))return _a(e,t);if(ha(e))return wm(e,t);if(ga(e))return Sm(e,t)}throw fa(e)}function ze(e,t){return t?Dm(e,t):Ze(e)}function ne(...e){let t=mr(e);return ze(e,t)}function rn(e,t){let n=ce(e)?e:()=>e,r=i=>i.error(n());return new _e(t?i=>t.schedule(r,0,i):r)}function Vu(e){return!!e&&(e instanceof _e||ce(e.lift)&&ce(e.subscribe))}var Bn=Ei(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function re(e,t){return Ce((n,r)=>{let i=0;n.subscribe(be(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:Mb}=Array;function kb(e,t){return Mb(t)?e(...t):e(t)}function Ca(e){return re(t=>kb(e,t))}var{isArray:Nb}=Array,{getPrototypeOf:Ob,prototype:Rb,keys:Pb}=Object;function ba(e){if(e.length===1){let t=e[0];if(Nb(t))return{args:t,keys:null};if(Lb(t)){let n=Pb(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function Lb(e){return e&&typeof e=="object"&&Ob(e)===Rb}function Ea(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function wa(...e){let t=mr(e),n=aa(e),{args:r,keys:i}=ba(e);if(r.length===0)return ze([],t);let o=new _e(Vb(r,t,i?s=>Ea(i,s):zt));return n?o.pipe(Ca(n)):o}function Vb(e,t,n=zt){return r=>{xm(t,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)xm(t,()=>{let d=ze(e[l],t),h=!1;d.subscribe(be(r,m=>{o[l]=m,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function xm(e,t,n){e?Nt(n,e,t):t()}function Im(e,t,n,r,i,o,s,a){let l=[],d=0,h=0,m=!1,y=()=>{m&&!l.length&&!d&&t.complete()},_=M=>d<r?x(M):l.push(M),x=M=>{o&&t.next(M),d++;let R=!1;Ze(n(M,h++)).subscribe(be(t,j=>{i?.(j),o?_(j):t.next(j)},()=>{R=!0},void 0,()=>{if(R)try{for(d--;l.length&&d<r;){let j=l.shift();s?Nt(t,s,()=>x(j)):x(j)}y()}catch(j){t.error(j)}}))};return e.subscribe(be(t,_,()=>{m=!0,y()})),()=>{a?.()}}function dt(e,t,n=1/0){return ce(t)?dt((r,i)=>re((o,s)=>t(r,o,i,s))(Ze(e(r,i))),n):(typeof t=="number"&&(n=t),Ce((r,i)=>Im(r,i,e,n)))}function Ti(e=1/0){return dt(zt,e)}function Tm(){return Ti(1)}function Fi(...e){return Tm()(ze(e,mr(e)))}function Sa(e){return new _e(t=>{Ze(e()).subscribe(t)})}function Uu(...e){let t=aa(e),{args:n,keys:r}=ba(e),i=new _e(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,d=s;for(let h=0;h<s;h++){let m=!1;Ze(n[h]).subscribe(be(o,y=>{m||(m=!0,d--),a[h]=y},()=>l--,void 0,()=>{(!l||!m)&&(d||o.next(r?Ea(r,a):a),o.complete())}))}});return t?i.pipe(Ca(t)):i}function qt(e,t){return Ce((n,r)=>{let i=0;n.subscribe(be(r,o=>e.call(t,o,i++)&&r.next(o)))})}function Dt(e){return Ce((t,n)=>{let r=null,i=!1,o;r=t.subscribe(be(n,void 0,void 0,s=>{o=Ze(e(s,Dt(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Fm(e,t,n,r,i){return(o,s)=>{let a=n,l=t,d=0;o.subscribe(be(s,h=>{let m=d++;l=a?e(l,h,m):(a=!0,h),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function gr(e,t){return ce(t)?dt(e,t,1):dt(e,1)}function vr(e){return Ce((t,n)=>{let r=!1;t.subscribe(be(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function on(e){return e<=0?()=>Gt:Ce((t,n)=>{let r=0;t.subscribe(be(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function ju(e){return re(()=>e)}function Da(e=Ub){return Ce((t,n)=>{let r=!1;t.subscribe(be(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function Ub(){return new Bn}function zr(e){return Ce((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function xn(e,t){let n=arguments.length>=2;return r=>r.pipe(e?qt((i,o)=>e(i,o,r)):zt,on(1),n?vr(t):Da(()=>new Bn))}function Ai(e){return e<=0?()=>Gt:Ce((t,n)=>{let r=[];t.subscribe(be(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Bu(e,t){let n=arguments.length>=2;return r=>r.pipe(e?qt((i,o)=>e(i,o,r)):zt,Ai(1),n?vr(t):Da(()=>new Bn))}function $u(e,t){return Ce(Fm(e,t,arguments.length>=2,!0))}function zu(e={}){let{connector:t=()=>new V,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,l,d=0,h=!1,m=!1,y=()=>{a?.unsubscribe(),a=void 0},_=()=>{y(),s=l=void 0,h=m=!1},x=()=>{let M=s;_(),M?.unsubscribe()};return Ce((M,R)=>{d++,!m&&!h&&y();let j=l=l??t();R.add(()=>{d--,d===0&&!m&&!h&&(a=Hu(x,i))}),j.subscribe(R),!s&&d>0&&(s=new jn({next:P=>j.next(P),error:P=>{m=!0,y(),a=Hu(_,n,P),j.error(P)},complete:()=>{h=!0,y(),a=Hu(_,r),j.complete()}}),Ze(M).subscribe(s))})(o)}}function Hu(e,t,...n){if(t===!0){e();return}if(t===!1)return;let r=new jn({next:()=>{r.unsubscribe(),e()}});return Ze(t(...n)).subscribe(r)}function Gu(...e){let t=mr(e);return Ce((n,r)=>{(t?Fi(e,n,t):Fi(e,n)).subscribe(r)})}function Ct(e,t){return Ce((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(be(r,l=>{i?.unsubscribe();let d=0,h=o++;Ze(e(l,h)).subscribe(i=be(r,m=>r.next(t?t(l,m,h,d++):m),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function F(e){return Ce((t,n)=>{Ze(e).subscribe(be(n,()=>n.complete(),ko)),!n.closed&&t.subscribe(n)})}function it(e,t,n){let r=ce(e)||t||n?{next:e,error:t,complete:n}:e;return r?Ce((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(be(o,l=>{var d;(d=r.next)===null||d===void 0||d.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var d;a=!1,(d=r.error)===null||d===void 0||d.call(r,l),o.error(l)},()=>{var l,d;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):zt}var fg="https://g.co/ng/security#xss",K=class extends Error{constructor(t,n){super(al(t,n)),this.code=t}};function al(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}function ll(e){return{toString:e}.toString()}var qr=globalThis;function Re(e){for(let t in e)if(e[t]===Re)return t;throw Error("Could not find renamed property on target object.")}function jb(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Pt(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(Pt).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let n=t.indexOf(`
`);return n===-1?t:t.substring(0,n)}function ad(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var Bb=Re({__forward_ref__:Re});function _n(e){return e.__forward_ref__=_n,e.toString=function(){return Pt(this())},e}function xt(e){return pg(e)?e():e}function pg(e){return typeof e=="function"&&e.hasOwnProperty(Bb)&&e.__forward_ref__===_n}function B(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Gn(e){return{providers:e.providers||[],imports:e.imports||[]}}function cl(e){return Am(e,mg)||Am(e,gg)}function hg(e){return cl(e)!==null}function Am(e,t){return e.hasOwnProperty(t)?e[t]:null}function $b(e){let t=e&&(e[mg]||e[gg]);return t||null}function Mm(e){return e&&(e.hasOwnProperty(km)||e.hasOwnProperty(Hb))?e[km]:null}var mg=Re({\u0275prov:Re}),km=Re({\u0275inj:Re}),gg=Re({ngInjectableDef:Re}),Hb=Re({ngInjectorDef:Re}),Y=class{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=B({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function vg(e){return e&&!!e.\u0275providers}var zb=Re({\u0275cmp:Re}),Gb=Re({\u0275dir:Re}),qb=Re({\u0275pipe:Re}),Wb=Re({\u0275mod:Re}),Pa=Re({\u0275fac:Re}),Ro=Re({__NG_ELEMENT_ID__:Re}),Nm=Re({__NG_ENV_ID__:Re});function Wt(e){return typeof e=="string"?e:e==null?"":String(e)}function Zb(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Wt(e)}function Qb(e,t){let n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new K(-200,e)}function rf(e,t){throw new K(-201,!1)}var me=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(me||{}),ld;function yg(){return ld}function Ot(e){let t=ld;return ld=e,t}function _g(e,t,n){let r=cl(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&me.Optional)return null;if(t!==void 0)return t;rf(e,"Injector")}var Yb={},Po=Yb,Kb="__NG_DI_FLAG__",La="ngTempTokenPath",Jb="ngTokenPath",Xb=/\n/gm,eE="\u0275",Om="__source",Oi;function tE(){return Oi}function yr(e){let t=Oi;return Oi=e,t}function nE(e,t=me.Default){if(Oi===void 0)throw new K(-203,!1);return Oi===null?_g(e,void 0,t):Oi.get(e,t&me.Optional?null:void 0,t)}function ue(e,t=me.Default){return(yg()||nE)(xt(e),t)}function b(e,t=me.Default){return ue(e,ul(t))}function ul(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function cd(e){let t=[];for(let n=0;n<e.length;n++){let r=xt(e[n]);if(Array.isArray(r)){if(r.length===0)throw new K(900,!1);let i,o=me.Default;for(let s=0;s<r.length;s++){let a=r[s],l=rE(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}t.push(ue(i,o))}else t.push(ue(r))}return t}function rE(e){return e[Kb]}function iE(e,t,n,r){let i=e[La];throw t[Om]&&i.unshift(t[Om]),e.message=oE(`
`+e.message,i,n,r),e[Jb]=i,e[La]=null,e}function oE(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==eE?e.slice(2):e;let i=Pt(t);if(Array.isArray(t))i=t.map(Pt).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Pt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(Xb,`
  `)}`}function Zr(e,t){let n=e.hasOwnProperty(Pa);return n?e[Pa]:null}function sE(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function aE(e){return e.flat(Number.POSITIVE_INFINITY)}function of(e,t){e.forEach(n=>Array.isArray(n)?of(n,t):t(n))}function Cg(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Va(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function lE(e,t){let n=[];for(let r=0;r<e;r++)n.push(t);return n}function cE(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function sf(e,t,n){let r=qo(e,t);return r>=0?e[r|1]=n:(r=~r,cE(e,r,t,n)),r}function qu(e,t){let n=qo(e,t);if(n>=0)return e[n|1]}function qo(e,t){return uE(e,t,1)}function uE(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}var Pi={},Rt=[],Li=new Y(""),bg=new Y("",-1),Eg=new Y(""),Ua=class{get(t,n=Po){if(n===Po){let r=new Error(`NullInjectorError: No provider for ${Pt(t)}!`);throw r.name="NullInjectorError",r}return n}},wg=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(wg||{}),Fn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Fn||{}),br=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(br||{});function dE(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function ud(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];fE(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function Sg(e){return e===3||e===4||e===6}function fE(e){return e.charCodeAt(0)===64}function Lo(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Rm(e,n,i,null,t[++r]):Rm(e,n,i,null,null))}}return e}function Rm(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(e[o+1]=i);return}else if(r===e[o+1]){e[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),r!==null&&e.splice(o++,0,r),i!==null&&e.splice(o++,0,i)}var Dg="ng-template";function pE(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&dE(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(af(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function af(e){return e.type===4&&e.value!==Dg}function hE(e,t,n){let r=e.type===4&&!n?Dg:e.value;return t===r}function mE(e,t,n){let r=4,i=e.attrs,o=i!==null?yE(i):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!gn(r)&&!gn(l))return!1;if(s&&gn(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!hE(e,l,n)||l===""&&t.length===1){if(gn(r))return!1;s=!0}}else if(r&8){if(i===null||!pE(e,i,l,n)){if(gn(r))return!1;s=!0}}else{let d=t[++a],h=gE(l,i,af(e),n);if(h===-1){if(gn(r))return!1;s=!0;continue}if(d!==""){let m;if(h>o?m="":m=i[h+1].toLowerCase(),r&2&&d!==m){if(gn(r))return!1;s=!0}}}}return gn(r)||s}function gn(e){return(e&1)===0}function gE(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return _E(t,e)}function xg(e,t,n=!1){for(let r=0;r<t.length;r++)if(mE(e,t[r],n))return!0;return!1}function vE(e){let t=e.attrs;if(t!=null){let n=t.indexOf(5);if(!(n&1))return t[n+1]}return null}function yE(e){for(let t=0;t<e.length;t++){let n=e[t];if(Sg(n))return t}return e.length}function _E(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function CE(e,t){e:for(let n=0;n<t.length;n++){let r=t[n];if(e.length===r.length){for(let i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function Pm(e,t){return e?":not("+t.trim()+")":t}function bE(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!gn(s)&&(t+=Pm(o,i),i=""),r=s,o=o||!gn(r);n++}return i!==""&&(t+=Pm(o,i)),t}function EE(e){return e.map(bE).join(",")}function wE(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!gn(i))break;i=o}r++}return{attrs:t,classes:n}}function H(e){return ll(()=>{let t=kg(e),n=we(O({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===wg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Fn.Emulated,styles:e.styles||Rt,_:null,schemas:e.schemas||null,tView:null,id:""});Ng(n);let r=e.dependencies;return n.directiveDefs=Vm(r,!1),n.pipeDefs=Vm(r,!0),n.id=xE(n),n})}function SE(e){return Qr(e)||Tg(e)}function DE(e){return e!==null}function qn(e){return ll(()=>({type:e.type,bootstrap:e.bootstrap||Rt,declarations:e.declarations||Rt,imports:e.imports||Rt,exports:e.exports||Rt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Lm(e,t){if(e==null)return Pi;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a=br.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),t?(n[o]=a!==br.None?[r,a]:r,t[o]=s):n[o]=r}return n}function et(e){return ll(()=>{let t=kg(e);return Ng(t),t})}function Ig(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone===!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function Qr(e){return e[zb]||null}function Tg(e){return e[Gb]||null}function Fg(e){return e[qb]||null}function Ag(e){let t=Qr(e)||Tg(e)||Fg(e);return t!==null?t.standalone:!1}function Mg(e,t){let n=e[Wb]||null;if(!n&&t===!0)throw new Error(`Type ${Pt(e)} does not have '\u0275mod' property.`);return n}function kg(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Pi,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||Rt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Lm(e.inputs,t),outputs:Lm(e.outputs),debugInfo:null}}function Ng(e){e.features?.forEach(t=>t(e))}function Vm(e,t){if(!e)return null;let n=t?Fg:SE;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(DE)}function xE(e){let t=0,n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let i of n)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Qi(e){return{\u0275providers:e}}function lf(...e){return{\u0275providers:Og(!0,e),\u0275fromNgModule:!0}}function Og(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return of(t,s=>{let a=s;dd(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Rg(i,o),n}function Rg(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];cf(i,o=>{t(o,r)})}}function dd(e,t,n,r){if(e=xt(e),!e)return!1;let i=null,o=Mm(e),s=!o&&Qr(e);if(!o&&!s){let l=e.ngModule;if(o=Mm(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of l)dd(d,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let d;try{of(o.imports,h=>{dd(h,t,n,r)&&(d||=[],d.push(h))})}finally{}d!==void 0&&Rg(d,t)}if(!a){let d=Zr(i)||(()=>new i);t({provide:i,useFactory:d,deps:Rt},i),t({provide:Eg,useValue:i,multi:!0},i),t({provide:Li,useValue:()=>ue(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let d=e;cf(l,h=>{t(h,d)})}}else return!1;return i!==e&&e.providers!==void 0}function cf(e,t){for(let n of e)vg(n)&&(n=n.\u0275providers),Array.isArray(n)?cf(n,t):t(n)}var IE=Re({provide:String,useValue:Re});function Pg(e){return e!==null&&typeof e=="object"&&IE in e}function TE(e){return!!(e&&e.useExisting)}function FE(e){return!!(e&&e.useFactory)}function Vi(e){return typeof e=="function"}function AE(e){return!!e.useClass}var dl=new Y(""),Aa={},ME={},Wu;function uf(){return Wu===void 0&&(Wu=new Ua),Wu}var Lt=class{},Vo=class extends Lt{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,pd(t,s=>this.processProvider(s)),this.records.set(bg,Mi(void 0,this)),i.has("environment")&&this.records.set(Lt,Mi(void 0,this));let o=this.records.get(dl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Eg,Rt,me.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=ve(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ve(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let n=yr(this),r=Ot(void 0),i;try{return t()}finally{yr(n),Ot(r)}}get(t,n=Po,r=me.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Nm))return t[Nm](this);r=ul(r);let i,o=yr(this),s=Ot(void 0);try{if(!(r&me.SkipSelf)){let l=this.records.get(t);if(l===void 0){let d=PE(t)&&cl(t);d&&this.injectableDefInScope(d)?l=Mi(fd(t),Aa):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l)}let a=r&me.Self?uf():this.parent;return n=r&me.Optional&&n===Po?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[La]=a[La]||[]).unshift(Pt(t)),o)throw a;return iE(a,t,"R3InjectorError",this.source)}else throw a}finally{Ot(s),yr(o)}}resolveInjectorInitializers(){let t=ve(null),n=yr(this),r=Ot(void 0),i;try{let o=this.get(Li,Rt,me.Self);for(let s of o)s()}finally{yr(n),Ot(r),ve(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(Pt(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new K(205,!1)}processProvider(t){t=xt(t);let n=Vi(t)?t:xt(t&&t.provide),r=NE(t);if(!Vi(t)&&t.multi===!0){let i=this.records.get(n);i||(i=Mi(void 0,Aa,!0),i.factory=()=>cd(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){let r=ve(null);try{return n.value===Aa&&(n.value=ME,n.value=n.factory()),typeof n.value=="object"&&n.value&&RE(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ve(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=xt(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function fd(e){let t=cl(e),n=t!==null?t.factory:Zr(e);if(n!==null)return n;if(e instanceof Y)throw new K(204,!1);if(e instanceof Function)return kE(e);throw new K(204,!1)}function kE(e){if(e.length>0)throw new K(204,!1);let n=$b(e);return n!==null?()=>n.factory(e):()=>new e}function NE(e){if(Pg(e))return Mi(void 0,e.useValue);{let t=Lg(e);return Mi(t,Aa)}}function Lg(e,t,n){let r;if(Vi(e)){let i=xt(e);return Zr(i)||fd(i)}else if(Pg(e))r=()=>xt(e.useValue);else if(FE(e))r=()=>e.useFactory(...cd(e.deps||[]));else if(TE(e))r=()=>ue(xt(e.useExisting));else{let i=xt(e&&(e.useClass||e.provide));if(OE(e))r=()=>new i(...cd(e.deps));else return Zr(i)||fd(i)}return r}function Mi(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function OE(e){return!!e.deps}function RE(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function PE(e){return typeof e=="function"||typeof e=="object"&&e instanceof Y}function pd(e,t){for(let n of e)Array.isArray(n)?pd(n,t):n&&vg(n)?pd(n.\u0275providers,t):t(n)}function Cn(e,t){e instanceof Vo&&e.assertNotDestroyed();let n,r=yr(e),i=Ot(void 0);try{return t()}finally{yr(r),Ot(i)}}function LE(){return yg()!==void 0||tE()!=null}function VE(e){return typeof e=="function"}var Wn=0,oe=1,ie=2,wt=3,yn=4,Vt=5,Ui=6,ja=7,bt=8,ji=9,An=10,lt=11,Uo=12,Um=13,Yi=14,Zt=15,Yr=16,ki=17,$n=18,fl=19,Vg=20,_r=21,Zu=22,sn=23,It=25,Ug=1;var Kr=7,Ba=8,Bi=9,Et=10,$a=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}($a||{});function Cr(e){return Array.isArray(e)&&typeof e[Ug]=="object"}function Zn(e){return Array.isArray(e)&&e[Ug]===!0}function jg(e){return(e.flags&4)!==0}function pl(e){return e.componentOffset>-1}function df(e){return(e.flags&1)===1}function Er(e){return!!e.template}function hd(e){return(e[ie]&512)!==0}var md=class{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Bg(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}function Qn(){return $g}function $g(e){return e.type.prototype.ngOnChanges&&(e.setInput=jE),UE}Qn.ngInherit=!0;function UE(){let e=zg(this),t=e?.current;if(t){let n=e.previous;if(n===Pi)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function jE(e,t,n,r,i){let o=this.declaredInputs[r],s=zg(e)||BE(e,{previous:Pi,current:null}),a=s.current||(s.current={}),l=s.previous,d=l[o];a[o]=new md(d&&d.currentValue,n,l===Pi),Bg(e,t,i,n)}var Hg="__ngSimpleChanges__";function zg(e){return e[Hg]||null}function BE(e,t){return e[Hg]=t}var jm=null;var In=function(e,t,n){jm?.(e,t,n)},Gg="svg",$E="math";function Mn(e){for(;Array.isArray(e);)e=e[Wn];return e}function qg(e,t){return Mn(t[e])}function an(e,t){return Mn(t[e.index])}function ff(e,t){return e.data[t]}function HE(e,t){return e[t]}function Dr(e,t){let n=t[e];return Cr(n)?n:n[Wn]}function zE(e){return(e[ie]&4)===4}function pf(e){return(e[ie]&128)===128}function GE(e){return Zn(e[wt])}function $i(e,t){return t==null?null:e[t]}function Wg(e){e[ki]=0}function Zg(e){e[ie]&1024||(e[ie]|=1024,pf(e)&&ml(e))}function qE(e,t){for(;e>0;)t=t[Yi],e--;return t}function hl(e){return!!(e[ie]&9216||e[sn]?.dirty)}function gd(e){e[An].changeDetectionScheduler?.notify(8),e[ie]&64&&(e[ie]|=1024),hl(e)&&ml(e)}function ml(e){e[An].changeDetectionScheduler?.notify(0);let t=Jr(e);for(;t!==null&&!(t[ie]&8192||(t[ie]|=8192,!pf(t)));)t=Jr(t)}function Qg(e,t){if((e[ie]&256)===256)throw new K(911,!1);e[_r]===null&&(e[_r]=[]),e[_r].push(t)}function WE(e,t){if(e[_r]===null)return;let n=e[_r].indexOf(t);n!==-1&&e[_r].splice(n,1)}function Jr(e){let t=e[wt];return Zn(t)?t[wt]:t}var fe={lFrame:av(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Yg=!1;function ZE(){return fe.lFrame.elementDepthCount}function QE(){fe.lFrame.elementDepthCount++}function YE(){fe.lFrame.elementDepthCount--}function Kg(){return fe.bindingsEnabled}function Jg(){return fe.skipHydrationRootTNode!==null}function KE(e){return fe.skipHydrationRootTNode===e}function JE(){fe.skipHydrationRootTNode=null}function pe(){return fe.lFrame.lView}function ft(){return fe.lFrame.tView}function S(e){return fe.lFrame.contextLView=e,e[bt]}function D(e){return fe.lFrame.contextLView=null,e}function Tt(){let e=Xg();for(;e!==null&&e.type===64;)e=e.parent;return e}function Xg(){return fe.lFrame.currentTNode}function XE(){let e=fe.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Wo(e,t){let n=fe.lFrame;n.currentTNode=e,n.isParent=t}function ev(){return fe.lFrame.isParent}function tv(){fe.lFrame.isParent=!1}function nv(){return Yg}function Bm(e){Yg=e}function rv(){let e=fe.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function hf(){return fe.lFrame.bindingIndex}function ew(e){return fe.lFrame.bindingIndex=e}function Zo(){return fe.lFrame.bindingIndex++}function Qo(e){let t=fe.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function tw(){return fe.lFrame.inI18n}function nw(e,t){let n=fe.lFrame;n.bindingIndex=n.bindingRootIndex=e,vd(t)}function rw(){return fe.lFrame.currentDirectiveIndex}function vd(e){fe.lFrame.currentDirectiveIndex=e}function iw(e){let t=fe.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function iv(){return fe.lFrame.currentQueryIndex}function mf(e){fe.lFrame.currentQueryIndex=e}function ow(e){let t=e[oe];return t.type===2?t.declTNode:t.type===1?e[Vt]:null}function ov(e,t,n){if(n&me.SkipSelf){let i=t,o=e;for(;i=i.parent,i===null&&!(n&me.Host);)if(i=ow(o),i===null||(o=o[Yi],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=fe.lFrame=sv();return r.currentTNode=t,r.lView=e,!0}function gf(e){let t=sv(),n=e[oe];fe.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function sv(){let e=fe.lFrame,t=e===null?null:e.child;return t===null?av(e):t}function av(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function lv(){let e=fe.lFrame;return fe.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var cv=lv;function vf(){let e=lv();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function sw(e){return(fe.lFrame.contextLView=qE(e,fe.lFrame.contextLView))[bt]}function bn(){return fe.lFrame.selectedIndex}function Xr(e){fe.lFrame.selectedIndex=e}function yf(){let e=fe.lFrame;return ff(e.tView,e.selectedIndex)}function _f(){fe.lFrame.currentNamespace=Gg}function uv(){aw()}function aw(){fe.lFrame.currentNamespace=null}function lw(){return fe.lFrame.currentNamespace}var dv=!0;function Cf(){return dv}function bf(e){dv=e}function cw(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=$g(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function Ef(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:d,ngOnDestroy:h}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),d&&((e.viewHooks??=[]).push(n,d),(e.viewCheckHooks??=[]).push(n,d)),h!=null&&(e.destroyHooks??=[]).push(n,h)}}function Ma(e,t,n){fv(e,t,3,n)}function ka(e,t,n,r){(e[ie]&3)===n&&fv(e,t,n,r)}function Qu(e,t){let n=e[ie];(n&3)===t&&(n&=16383,n+=1,e[ie]=n)}function fv(e,t,n,r){let i=r!==void 0?e[ki]&65535:0,o=r??-1,s=t.length-1,a=0;for(let l=i;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],r!=null&&a>=r)break}else t[l]<0&&(e[ki]+=65536),(a<o||o==-1)&&(uw(e,n,t,l),e[ki]=(e[ki]&4294901760)+l+2),l++}function $m(e,t){In(4,e,t);let n=ve(null);try{t.call(e)}finally{ve(n),In(5,e,t)}}function uw(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[ie]>>14<e[ki]>>16&&(e[ie]&3)===t&&(e[ie]+=16384,$m(a,o)):$m(a,o)}var Ri=-1,ei=class{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function dw(e){return e instanceof ei}function fw(e){return(e.flags&8)!==0}function pw(e){return(e.flags&16)!==0}var Yu={},yd=class{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=ul(r);let i=this.injector.get(t,Yu,r);return i!==Yu||n===Yu?i:this.parentInjector.get(t,n,r)}};function pv(e){return e!==Ri}function Ha(e){return e&32767}function hw(e){return e>>16}function za(e,t){let n=hw(e),r=t;for(;n>0;)r=r[Yi],n--;return r}var _d=!0;function Ga(e){let t=_d;return _d=e,t}var mw=256,hv=mw-1,mv=5,gw=0,Tn={};function vw(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ro)&&(r=n[Ro]),r==null&&(r=n[Ro]=gw++);let i=r&hv,o=1<<i;t.data[e+(i>>mv)]|=o}function qa(e,t){let n=gv(e,t);if(n!==-1)return n;let r=t[oe];r.firstCreatePass&&(e.injectorIndex=t.length,Ku(r.data,e),Ku(t,null),Ku(r.blueprint,null));let i=wf(e,t),o=e.injectorIndex;if(pv(i)){let s=Ha(i),a=za(i,t),l=a[oe].data;for(let d=0;d<8;d++)t[o+d]=a[s+d]|l[s+d]}return t[o+8]=i,o}function Ku(e,t){e.push(0,0,0,0,0,0,0,0,t)}function gv(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function wf(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=bv(i),r===null)return Ri;if(n++,i=i[Yi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ri}function Cd(e,t,n){vw(e,t,n)}function yw(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(Sg(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===t)return n[i+1];i=i+2}}}return null}function vv(e,t,n){if(n&me.Optional||e!==void 0)return e;rf(t,"NodeInjector")}function yv(e,t,n,r){if(n&me.Optional&&r===void 0&&(r=null),!(n&(me.Self|me.Host))){let i=e[ji],o=Ot(void 0);try{return i?i.get(t,r,n&me.Optional):_g(t,r,n&me.Optional)}finally{Ot(o)}}return vv(r,t,n)}function _v(e,t,n,r=me.Default,i){if(e!==null){if(t[ie]&2048&&!(r&me.Self)){let s=Ew(e,t,n,r,Tn);if(s!==Tn)return s}let o=Cv(e,t,n,r,Tn);if(o!==Tn)return o}return yv(t,n,r,i)}function Cv(e,t,n,r,i){let o=Cw(n);if(typeof o=="function"){if(!ov(t,e,r))return r&me.Host?vv(i,n,r):yv(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&me.Optional))rf(n);else return s}finally{cv()}}else if(typeof o=="number"){let s=null,a=gv(e,t),l=Ri,d=r&me.Host?t[Zt][Vt]:null;for((a===-1||r&me.SkipSelf)&&(l=a===-1?wf(e,t):t[a+8],l===Ri||!zm(r,!1)?a=-1:(s=t[oe],a=Ha(l),t=za(l,t)));a!==-1;){let h=t[oe];if(Hm(o,a,h.data)){let m=_w(a,t,n,s,r,d);if(m!==Tn)return m}l=t[a+8],l!==Ri&&zm(r,t[oe].data[a+8]===d)&&Hm(o,a,t)?(s=h,a=Ha(l),t=za(l,t)):a=-1}}return i}function _w(e,t,n,r,i,o){let s=t[oe],a=s.data[e+8],l=r==null?pl(a)&&_d:r!=s&&(a.type&3)!==0,d=i&me.Host&&o===a,h=Na(a,s,n,l,d);return h!==null?ti(t,s,h,a):Tn}function Na(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,l=e.directiveStart,d=e.directiveEnd,h=o>>20,m=r?a:a+h,y=i?a+h:d;for(let _=m;_<y;_++){let x=s[_];if(_<l&&n===x||_>=l&&x.type===n)return _}if(i){let _=s[l];if(_&&Er(_)&&_.type===n)return l}return null}function ti(e,t,n,r){let i=e[n],o=t.data;if(dw(i)){let s=i;s.resolving&&Qb(Zb(o[n]));let a=Ga(s.canSeeViewProviders);s.resolving=!0;let l,d=s.injectImpl?Ot(s.injectImpl):null,h=ov(e,r,me.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&cw(n,o[n],t)}finally{d!==null&&Ot(d),Ga(a),s.resolving=!1,cv()}}return i}function Cw(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Ro)?e[Ro]:void 0;return typeof t=="number"?t>=0?t&hv:bw:t}function Hm(e,t,n){let r=1<<e;return!!(n[t+(e>>mv)]&r)}function zm(e,t){return!(e&me.Self)&&!(e&me.Host&&t)}var Wr=class{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return _v(this._tNode,this._lView,t,ul(r),n)}};function bw(){return new Wr(Tt(),pe())}function Yn(e){return ll(()=>{let t=e.prototype.constructor,n=t[Pa]||bd(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[Pa]||bd(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function bd(e){return pg(e)?()=>{let t=bd(xt(e));return t&&t()}:Zr(e)}function Ew(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[ie]&2048&&!(s[ie]&512);){let a=Cv(o,s,n,r|me.Self,Tn);if(a!==Tn)return a;let l=o.parent;if(!l){let d=s[Vg];if(d){let h=d.get(n,Tn,r);if(h!==Tn)return h}l=bv(s),s=s[Yi]}o=l}return i}function bv(e){let t=e[oe],n=t.type;return n===2?t.declTNode:n===1?e[Vt]:null}function Sf(e){return yw(Tt(),e)}function Gm(e,t=null,n=null,r){let i=Ev(e,t,n,r);return i.resolveInjectorInitializers(),i}function Ev(e,t=null,n=null,r,i=new Set){let o=[n||Rt,lf(e)];return r=r||(typeof e=="object"?void 0:Pt(e)),new Vo(o,t||uf(),r||null,i)}var wr=class e{static{this.THROW_IF_NOT_FOUND=Po}static{this.NULL=new Ua}static create(t,n){if(Array.isArray(t))return Gm({name:""},n,t,"");{let r=t.name??"";return Gm({name:r},t.parent,t.providers,r)}}static{this.\u0275prov=B({token:e,providedIn:"any",factory:()=>ue(bg)})}static{this.__NG_ELEMENT_ID__=-1}};var ww=new Y("");ww.__NG_ELEMENT_ID__=e=>{let t=Tt();if(t===null)throw new K(204,!1);if(t.type&2)return t.value;if(e&me.Optional)return null;throw new K(204,!1)};var Sw="ngOriginalError";function Ju(e){return e[Sw]}var wv=!0,Sv=(()=>{class e{static{this.__NG_ELEMENT_ID__=Dw}static{this.__NG_ENV_ID__=n=>n}}return e})(),Ed=class extends Sv{constructor(t){super(),this._lView=t}onDestroy(t){return Qg(this._lView,t),()=>WE(this._lView,t)}};function Dw(){return new Ed(pe())}var xr=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new rt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=B({token:e,providedIn:"root",factory:()=>new e})}}return e})();var wd=class extends V{constructor(t=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,LE()&&(this.destroyRef=b(Sv,{optional:!0})??void 0,this.pendingTasks=b(xr,{optional:!0})??void 0)}emit(t){let n=ve(null);try{super.next(t)}finally{ve(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof at&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{t(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ge=wd;function Wa(...e){}function Dv(e){let t,n;function r(){e=Wa;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function qm(e){return queueMicrotask(()=>e()),()=>{e=Wa}}var Df="isAngularZone",Za=Df+"_ID",xw=0,Xe=class e{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ge(!1),this.onMicrotaskEmpty=new Ge(!1),this.onStable=new Ge(!1),this.onError=new Ge(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=wv}=t;if(typeof Zone>"u")throw new K(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Fw(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Df)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new K(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new K(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,Iw,Wa,Wa);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},Iw={};function xf(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Tw(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){Dv(()=>{e.callbackScheduled=!1,Sd(e),e.isCheckStableRunning=!0,xf(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Sd(e)}function Fw(e){let t=()=>{Tw(e)},n=xw++;e._inner=e._inner.fork({name:"angular",properties:{[Df]:!0,[Za]:n,[Za+n]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(Aw(l))return r.invokeTask(o,s,a,l);try{return Wm(e),r.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Zm(e)}},onInvoke:(r,i,o,s,a,l,d)=>{try{return Wm(e),r.invoke(o,s,a,l,d)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!Mw(l)&&t(),Zm(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Sd(e),xf(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Sd(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Wm(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Zm(e){e._nesting--,xf(e)}var Dd=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ge,this.onMicrotaskEmpty=new Ge,this.onStable=new Ge,this.onError=new Ge}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function Aw(e){return xv(e,"__ignore_ng_zone__")}function Mw(e){return xv(e,"__scheduler_tick__")}function xv(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var Hn=class{constructor(){this._console=console}handleError(t){let n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Ju(t);for(;n&&Ju(n);)n=Ju(n);return n||null}},kw=new Y("",{providedIn:"root",factory:()=>{let e=b(Xe),t=b(Hn);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function Nw(){return Ki(Tt(),pe())}function Ki(e,t){return new Ut(an(e,t))}var Ut=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=Nw}}return e})();function Ow(e){return e instanceof Ut?e.nativeElement:e}function Rw(){return this._results[Symbol.iterator]()}var xd=class e{get changes(){return this._changes??=new Ge}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=e.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=Rw)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let r=aE(t);(this._changesDetected=!sE(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function Iv(e){return(e.flags&128)===128}var Tv=new Map,Pw=0;function Lw(){return Pw++}function Vw(e){Tv.set(e[fl],e)}function Id(e){Tv.delete(e[fl])}var Qm="__ngContext__";function ni(e,t){Cr(t)?(e[Qm]=t[fl],Vw(t)):e[Qm]=t}function Fv(e){return Mv(e[Uo])}function Av(e){return Mv(e[yn])}function Mv(e){for(;e!==null&&!Zn(e);)e=e[yn];return e}var Td;function kv(e){Td=e}function Uw(){if(Td!==void 0)return Td;if(typeof document<"u")return document;throw new K(210,!1)}var If=new Y("",{providedIn:"root",factory:()=>jw}),jw="ng",Tf=new Y(""),Ir=new Y("",{providedIn:"platform",factory:()=>"unknown"});var Ff=new Y("",{providedIn:"root",factory:()=>Uw().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Bw="h",$w="b";var Hw=()=>null;function Af(e,t,n=!1){return Hw(e,t,n)}var Nv=!1,zw=new Y("",{providedIn:"root",factory:()=>Nv});var xa;function Gw(){if(xa===void 0&&(xa=null,qr.trustedTypes))try{xa=qr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return xa}function Ym(e){return Gw()?.createScriptURL(e)||e}var Qa=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${fg})`}};function Ji(e){return e instanceof Qa?e.changingThisBreaksApplicationSecurity:e}function Mf(e,t){let n=qw(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${fg})`)}return n===t}function qw(e){return e instanceof Qa&&e.getTypeName()||null}var Ww=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ov(e){return e=String(e),e.match(Ww)?e:"unsafe:"+e}var gl=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(gl||{});function X(e){let t=Pv();return t?t.sanitize(gl.URL,e)||"":Mf(e,"URL")?Ji(e):Ov(Wt(e))}function Zw(e){let t=Pv();if(t)return Ym(t.sanitize(gl.RESOURCE_URL,e)||"");if(Mf(e,"ResourceURL"))return Ym(Ji(e));throw new K(904,!1)}function Qw(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?Zw:X}function Rv(e,t,n){return Qw(t,n)(e)}function Pv(){let e=pe();return e&&e[An].sanitizer}function Lv(e){return e instanceof Function?e():e}var zn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(zn||{}),Yw;function kf(e,t){return Yw(e,t)}function Ni(e,t,n,r,i){if(r!=null){let o,s=!1;Zn(r)?o=r:Cr(r)&&(s=!0,r=r[Wn]);let a=Mn(r);e===0&&n!==null?i==null?$v(t,n,a):Ya(t,n,a,i||null,!0):e===1&&n!==null?Ya(t,n,a,i||null,!0):e===2?cS(t,a,s):e===3&&t.destroyNode(a),o!=null&&dS(t,e,o,n,i)}}function Kw(e,t){return e.createText(t)}function Jw(e,t,n){e.setValue(t,n)}function Vv(e,t,n){return e.createElement(t,n)}function Xw(e,t){Uv(e,t),t[Wn]=null,t[Vt]=null}function eS(e,t,n,r,i,o){r[Wn]=i,r[Vt]=t,yl(e,r,n,1,i,o)}function Uv(e,t){t[An].changeDetectionScheduler?.notify(9),yl(e,t,t[lt],2,null,null)}function tS(e){let t=e[Uo];if(!t)return Xu(e[oe],e);for(;t;){let n=null;if(Cr(t))n=t[Uo];else{let r=t[Et];r&&(n=r)}if(!n){for(;t&&!t[yn]&&t!==e;)Cr(t)&&Xu(t[oe],t),t=t[wt];t===null&&(t=e),Cr(t)&&Xu(t[oe],t),n=t&&t[yn]}t=n}}function nS(e,t,n,r){let i=Et+r,o=n.length;r>0&&(n[i-1][yn]=t),r<o-Et?(t[yn]=n[i],Cg(n,Et+r,t)):(n.push(t),t[yn]=null),t[wt]=n;let s=t[Yr];s!==null&&n!==s&&jv(s,t);let a=t[$n];a!==null&&a.insertView(e),gd(t),t[ie]|=128}function jv(e,t){let n=e[Bi],r=t[wt];if(Cr(r))e[ie]|=$a.HasTransplantedViews;else{let i=r[wt][Zt];t[Zt]!==i&&(e[ie]|=$a.HasTransplantedViews)}n===null?e[Bi]=[t]:n.push(t)}function Nf(e,t){let n=e[Bi],r=n.indexOf(t);n.splice(r,1)}function jo(e,t){if(e.length<=Et)return;let n=Et+t,r=e[n];if(r){let i=r[Yr];i!==null&&i!==e&&Nf(i,r),t>0&&(e[n-1][yn]=r[yn]);let o=Va(e,Et+t);Xw(r[oe],r);let s=o[$n];s!==null&&s.detachView(o[oe]),r[wt]=null,r[yn]=null,r[ie]&=-129}return r}function vl(e,t){if(!(t[ie]&256)){let n=t[lt];n.destroyNode&&yl(e,t,n,3,null,null),tS(t)}}function Xu(e,t){if(t[ie]&256)return;let n=ve(null);try{t[ie]&=-129,t[ie]|=256,t[sn]&&Iu(t[sn]),iS(e,t),rS(e,t),t[oe].type===1&&t[lt].destroy();let r=t[Yr];if(r!==null&&Zn(t[wt])){r!==t[wt]&&Nf(r,t);let i=t[$n];i!==null&&i.detachView(e)}Id(t)}finally{ve(n)}}function rS(e,t){let n=e.cleanup,r=t[ja];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(t[ja]=null);let i=t[_r];if(i!==null){t[_r]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function iS(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof ei)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];In(4,a,l);try{l.call(a)}finally{In(5,a,l)}}else{In(4,i,o);try{o.call(i)}finally{In(5,i,o)}}}}}function Bv(e,t,n){return oS(e,t.parent,n)}function oS(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[Wn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=e.data[r.directiveStart+i];if(o===Fn.None||o===Fn.Emulated)return null}return an(r,n)}}function Ya(e,t,n,r,i){e.insertBefore(t,n,r,i)}function $v(e,t,n){e.appendChild(t,n)}function Km(e,t,n,r,i){r!==null?Ya(e,t,n,r,i):$v(e,t,n)}function Hv(e,t){return e.parentNode(t)}function sS(e,t){return e.nextSibling(t)}function zv(e,t,n){return lS(e,t,n)}function aS(e,t,n){return e.type&40?an(e,n):null}var lS=aS,Jm;function Of(e,t,n,r){let i=Bv(e,r,t),o=t[lt],s=r.parent||t[Vt],a=zv(s,r,t);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)Km(o,i,n[l],a,!1);else Km(o,i,n,a,!1);Jm!==void 0&&Jm(o,r,t,n,i)}function No(e,t){if(t!==null){let n=t.type;if(n&3)return an(t,e);if(n&4)return Fd(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return No(e,r);{let i=e[t.index];return Zn(i)?Fd(-1,i):Mn(i)}}else{if(n&128)return No(e,t.next);if(n&32)return kf(t,e)()||Mn(e[t.index]);{let r=Gv(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=Jr(e[Zt]);return No(i,r)}else return No(e,t.next)}}}return null}function Gv(e,t){if(t!==null){let r=e[Zt][Vt],i=t.projection;return r.projection[i]}return null}function Fd(e,t){let n=Et+e+1;if(n<t.length){let r=t[n],i=r[oe].firstChild;if(i!==null)return No(r,i)}return t[Kr]}function cS(e,t,n){e.removeChild(null,t,n)}function Rf(e,t,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],l=n.type;if(s&&t===0&&(a&&ni(Mn(a),r),n.flags|=2),(n.flags&32)!==32)if(l&8)Rf(e,t,n.child,r,i,o,!1),Ni(t,e,i,a,o);else if(l&32){let d=kf(n,r),h;for(;h=d();)Ni(t,e,i,h,o);Ni(t,e,i,a,o)}else l&16?qv(e,t,r,n,i,o):Ni(t,e,i,a,o);n=s?n.projectionNext:n.next}}function yl(e,t,n,r,i,o){Rf(n,r,e.firstChild,t,i,o,!1)}function uS(e,t,n){let r=t[lt],i=Bv(e,n,t),o=n.parent||t[Vt],s=zv(o,n,t);qv(r,0,t,n,i,s)}function qv(e,t,n,r,i,o){let s=n[Zt],l=s[Vt].projection[r.projection];if(Array.isArray(l))for(let d=0;d<l.length;d++){let h=l[d];Ni(t,e,i,h,o)}else{let d=l,h=s[wt];Iv(r)&&(d.flags|=128),Rf(e,t,d,h,i,o,!0)}}function dS(e,t,n,r,i){let o=n[Kr],s=Mn(n);o!==s&&Ni(t,e,r,o,i);for(let a=Et;a<n.length;a++){let l=n[a];yl(l[oe],l,e,t,r,o)}}function fS(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:zn.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=zn.Important),e.setStyle(n,r,i,o))}}function pS(e,t,n){e.setAttribute(t,"style",n)}function Wv(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Zv(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&ud(e,t,r),i!==null&&Wv(e,t,i),o!==null&&pS(e,t,o)}var pt={};function f(e=1){Qv(ft(),pe(),bn()+e,!1)}function Qv(e,t,n,r){if(!r)if((t[ie]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Ma(t,o,n)}else{let o=e.preOrderHooks;o!==null&&ka(t,o,0,n)}Xr(n)}function J(e,t=me.Default){let n=pe();if(n===null)return ue(e,t);let r=Tt();return _v(r,n,xt(e),t)}function Yv(e,t,n,r,i,o){let s=ve(null);try{let a=null;i&br.SignalBased&&(a=t[r][hr]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&br.HasDecoratorInputTransform&&(o=e.inputTransforms[r].call(t,o)),e.setInput!==null?e.setInput(t,a,o,n,r):Bg(t,a,r,o)}finally{ve(s)}}function hS(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Xr(~i);else{let o=i,s=n[++r],a=n[++r];nw(s,o);let l=t[o];a(2,l)}}}finally{Xr(-1)}}function _l(e,t,n,r,i,o,s,a,l,d,h){let m=t.blueprint.slice();return m[Wn]=i,m[ie]=r|4|128|8|64,(d!==null||e&&e[ie]&2048)&&(m[ie]|=2048),Wg(m),m[wt]=m[Yi]=e,m[bt]=n,m[An]=s||e&&e[An],m[lt]=a||e&&e[lt],m[ji]=l||e&&e[ji]||null,m[Vt]=o,m[fl]=Lw(),m[Ui]=h,m[Vg]=d,m[Zt]=t.type==2?e[Zt]:m,m}function Yo(e,t,n,r,i){let o=e.data[t];if(o===null)o=mS(e,t,n,r,i),tw()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=XE();o.injectorIndex=s===null?-1:s.injectorIndex}return Wo(o,!0),o}function mS(e,t,n,r,i){let o=Xg(),s=ev(),a=s?o:o&&o.parent,l=e.data[t]=bS(e,a,n,t,r,i);return e.firstChild===null&&(e.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function Kv(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Jv(e,t,n,r,i){let o=bn(),s=r&2;try{Xr(-1),s&&t.length>It&&Qv(e,t,It,!1),In(s?2:0,i),n(r,i)}finally{Xr(o),In(s?3:1,i)}}function Xv(e,t,n){if(jg(t)){let r=ve(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{ve(r)}}}function e0(e,t,n){Kg()&&(IS(e,t,n,an(n,t)),(n.flags&64)===64&&s0(e,t,n))}function t0(e,t,n=an){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function n0(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Pf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Pf(e,t,n,r,i,o,s,a,l,d,h){let m=It+r,y=m+i,_=gS(m,y),x=typeof d=="function"?d():d;return _[oe]={type:e,blueprint:_,template:n,queries:null,viewQuery:a,declTNode:t,data:_.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:x,incompleteFirstPass:!1,ssrId:h}}function gS(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:pt);return n}function vS(e,t,n,r){let o=r.get(zw,Nv)||n===Fn.ShadowDom,s=e.selectRootElement(t,o);return yS(s),s}function yS(e){_S(e)}var _S=()=>null;function CS(e,t,n,r){let i=c0(t);i.push(n),e.firstCreatePass&&u0(e).push(r,i.length-1)}function bS(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return Jg()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Xm(e,t,n,r,i){for(let o in t){if(!t.hasOwnProperty(o))continue;let s=t[o];if(s===void 0)continue;r??={};let a,l=br.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let d=o;if(i!==null){if(!i.hasOwnProperty(o))continue;d=i[o]}e===0?eg(r,n,d,a,l):eg(r,n,d,a)}return r}function eg(e,t,n,r,i){let o;e.hasOwnProperty(n)?(o=e[n]).push(t,r):o=e[n]=[t,r],i!==void 0&&o.push(i)}function ES(e,t,n){let r=t.directiveStart,i=t.directiveEnd,o=e.data,s=t.attrs,a=[],l=null,d=null;for(let h=r;h<i;h++){let m=o[h],y=n?n.get(m):null,_=y?y.inputs:null,x=y?y.outputs:null;l=Xm(0,m.inputs,h,l,_),d=Xm(1,m.outputs,h,d,x);let M=l!==null&&s!==null&&!af(t)?VS(l,h,s):null;a.push(M)}l!==null&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=d}function wS(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function r0(e,t,n,r,i,o,s,a){let l=an(t,n),d=t.inputs,h;!a&&d!=null&&(h=d[r])?(Lf(e,n,h,r,i),pl(t)&&SS(n,t.index)):t.type&3?(r=wS(r),i=s!=null?s(i,t.value||"",r):i,o.setProperty(l,r,i)):t.type&12}function SS(e,t){let n=Dr(t,e);n[ie]&16||(n[ie]|=64)}function i0(e,t,n,r){if(Kg()){let i=r===null?null:{"":-1},o=FS(e,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&o0(e,t,n,s,i,a),i&&AS(n,r,i)}n.mergedAttrs=Lo(n.mergedAttrs,n.attrs)}function o0(e,t,n,r,i,o){for(let d=0;d<r.length;d++)Cd(qa(n,t),e,r[d].type);kS(n,e.data.length,r.length);for(let d=0;d<r.length;d++){let h=r[d];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,l=Kv(e,t,r.length,null);for(let d=0;d<r.length;d++){let h=r[d];n.mergedAttrs=Lo(n.mergedAttrs,h.hostAttrs),NS(e,n,t,l,h),MS(l,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let m=h.type.prototype;!s&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(m.ngOnChanges||m.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}ES(e,n,o)}function DS(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;xS(s)!=a&&s.push(a),s.push(n,r,o)}}function xS(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function IS(e,t,n,r){let i=n.directiveStart,o=n.directiveEnd;pl(n)&&OS(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||qa(n,t),ni(r,t);let s=n.initialInputs;for(let a=i;a<o;a++){let l=e.data[a],d=ti(t,e,a,n);if(ni(d,t),s!==null&&LS(t,a-i,d,l,n,s),Er(l)){let h=Dr(n.index,t);h[bt]=ti(t,e,a,n)}}}function s0(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=rw();try{Xr(o);for(let a=r;a<i;a++){let l=e.data[a],d=t[a];vd(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&TS(l,d)}}finally{Xr(-1),vd(s)}}function TS(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function FS(e,t){let n=e.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(xg(t,s.selectors,!1))if(r||(r=[]),Er(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let l=a.length;Ad(e,t,l)}else r.unshift(s),Ad(e,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Ad(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function AS(e,t,n){if(t){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new K(-301,!1);r.push(t[i],o)}}}function MS(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Er(t)&&(n[""]=e)}}function kS(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function NS(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=Zr(i.type,!0)),s=new ei(o,Er(i),J);e.blueprint[r]=s,n[r]=s,DS(e,t,r,Kv(e,n,i.hostVars,pt),i)}function OS(e,t,n){let r=an(t,e),i=n0(n),o=e[An].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Cl(e,_l(e,i,null,s,r,t,null,o.createRenderer(r,n),null,null,null));e[t.index]=a}function RS(e,t,n,r,i,o){let s=an(e,t);PS(t[lt],s,o,e.value,n,r,i)}function PS(e,t,n,r,i,o,s){if(o==null)e.removeAttribute(t,i,n);else{let a=s==null?Wt(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}function LS(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],d=s[a++],h=s[a++],m=s[a++];Yv(r,n,l,d,h,m)}}function VS(e,t,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){r===null&&(r=[]);let s=e[o];for(let a=0;a<s.length;a+=3)if(s[a]===t){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function a0(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function l0(e,t){let n=e.contentQueries;if(n!==null){let r=ve(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];mf(o),a.contentQueries(2,t[s],s)}}}finally{ve(r)}}}function Cl(e,t){return e[Uo]?e[Um][yn]=t:e[Uo]=t,e[Um]=t,t}function Md(e,t,n){mf(0);let r=ve(null);try{t(e,n)}finally{ve(r)}}function c0(e){return e[ja]??=[]}function u0(e){return e.cleanup??=[]}function d0(e,t){let n=e[ji],r=n?n.get(Hn,null):null;r&&r.handleError(t)}function Lf(e,t,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],l=n[o++],d=t[s],h=e.data[s];Yv(h,d,r,a,l,i)}}function bl(e,t,n){let r=qg(t,e);Jw(e[lt],r,n)}function US(e,t){let n=Dr(t,e),r=n[oe];jS(r,n);let i=n[Wn];i!==null&&n[Ui]===null&&(n[Ui]=Af(i,n[ji])),Vf(r,n,n[bt])}function jS(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Vf(e,t,n){gf(t);try{let r=e.viewQuery;r!==null&&Md(1,r,n);let i=e.template;i!==null&&Jv(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[$n]?.finishViewCreation(e),e.staticContentQueries&&l0(e,t),e.staticViewQueries&&Md(2,e.viewQuery,n);let o=e.components;o!==null&&BS(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[ie]&=-5,vf()}}function BS(e,t){for(let n=0;n<t.length;n++)US(e,t[n])}function Ko(e,t,n,r){let i=ve(null);try{let o=t.tView,a=e[ie]&4096?4096:16,l=_l(e,o,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=e[t.index];l[Yr]=d;let h=e[$n];return h!==null&&(l[$n]=h.createEmbeddedView(o)),Vf(o,l,n),l}finally{ve(i)}}function f0(e,t){let n=Et+t;if(n<e.length)return e[n]}function Hi(e,t){return!t||t.firstChild===null||Iv(e)}function Jo(e,t,n,r=!0){let i=t[oe];if(nS(i,t,e,n),r){let s=Fd(n,e),a=t[lt],l=Hv(a,e[Kr]);l!==null&&eS(i,e[Vt],a,t,l,s)}let o=t[Ui];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function p0(e,t){let n=jo(e,t);return n!==void 0&&vl(n[oe],n),n}function Ka(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(Mn(o)),Zn(o)&&$S(o,r);let s=n.type;if(s&8)Ka(e,t,n.child,r);else if(s&32){let a=kf(n,t),l;for(;l=a();)r.push(l)}else if(s&16){let a=Gv(t,n);if(Array.isArray(a))r.push(...a);else{let l=Jr(t[Zt]);Ka(l[oe],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function $S(e,t){for(let n=Et;n<e.length;n++){let r=e[n],i=r[oe].firstChild;i!==null&&Ka(r[oe],r,i,t)}e[Kr]!==e[Wn]&&t.push(e[Kr])}var h0=[];function HS(e){return e[sn]??zS(e)}function zS(e){let t=h0.pop()??Object.create(qS);return t.lView=e,t}function GS(e){e.lView[sn]!==e&&(e.lView=null,h0.push(e))}var qS=we(O({},Ao),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{ml(e.lView)},consumerOnSignalRead(){this.lView[sn]=this}});function WS(e){let t=e[sn]??Object.create(ZS);return t.lView=e,t}var ZS=we(O({},Ao),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=Jr(e.lView);for(;t&&!m0(t[oe]);)t=Jr(t);t&&Zg(t)},consumerOnSignalRead(){this.lView[sn]=this}});function m0(e){return e.type!==2}var QS=100;function g0(e,t=!0,n=0){let r=e[An],i=r.rendererFactory,o=!1;o||i.begin?.();try{YS(e,n)}catch(s){throw t&&d0(e,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function YS(e,t){let n=nv();try{Bm(!0),kd(e,t);let r=0;for(;hl(e);){if(r===QS)throw new K(103,!1);r++,kd(e,1)}}finally{Bm(n)}}function KS(e,t,n,r){let i=t[ie];if((i&256)===256)return;let o=!1,s=!1;!o&&t[An].inlineEffectRunner?.flush(),gf(t);let a=!0,l=null,d=null;o||(m0(e)?(d=HS(t),l=Xs(d)):qh()===null?(a=!1,d=WS(t),l=Xs(d)):t[sn]&&(Iu(t[sn]),t[sn]=null));try{Wg(t),ew(e.bindingStartIndex),n!==null&&Jv(e,t,n,2,r);let h=(i&3)===3;if(!o)if(h){let _=e.preOrderCheckHooks;_!==null&&Ma(t,_,null)}else{let _=e.preOrderHooks;_!==null&&ka(t,_,0,null),Qu(t,0)}if(s||JS(t),v0(t,0),e.contentQueries!==null&&l0(e,t),!o)if(h){let _=e.contentCheckHooks;_!==null&&Ma(t,_)}else{let _=e.contentHooks;_!==null&&ka(t,_,1),Qu(t,1)}hS(e,t);let m=e.components;m!==null&&_0(t,m,0);let y=e.viewQuery;if(y!==null&&Md(2,y,r),!o)if(h){let _=e.viewCheckHooks;_!==null&&Ma(t,_)}else{let _=e.viewHooks;_!==null&&ka(t,_,2),Qu(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Zu]){for(let _ of t[Zu])_();t[Zu]=null}o||(t[ie]&=-73)}catch(h){throw o||ml(t),h}finally{d!==null&&(Du(d,l),a&&GS(d)),vf()}}function v0(e,t){for(let n=Fv(e);n!==null;n=Av(n))for(let r=Et;r<n.length;r++){let i=n[r];y0(i,t)}}function JS(e){for(let t=Fv(e);t!==null;t=Av(t)){if(!(t[ie]&$a.HasTransplantedViews))continue;let n=t[Bi];for(let r=0;r<n.length;r++){let i=n[r];Zg(i)}}}function XS(e,t,n){let r=Dr(t,e);y0(r,n)}function y0(e,t){pf(e)&&kd(e,t)}function kd(e,t){let r=e[oe],i=e[ie],o=e[sn],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&xu(o)),s||=!1,o&&(o.dirty=!1),e[ie]&=-9217,s)KS(r,e,r.template,e[bt]);else if(i&8192){v0(e,1);let a=r.components;a!==null&&_0(e,a,1)}}function _0(e,t,n){for(let r=0;r<t.length;r++)XS(e,t[r],n)}function Uf(e,t){let n=nv()?64:1088;for(e[An].changeDetectionScheduler?.notify(t);e;){e[ie]|=n;let r=Jr(e);if(hd(e)&&!r)return e;e=r}return null}var ri=class{get rootNodes(){let t=this._lView,n=t[oe];return Ka(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[bt]}set context(t){this._lView[bt]=t}get destroyed(){return(this._lView[ie]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[wt];if(Zn(t)){let n=t[Ba],r=n?n.indexOf(this):-1;r>-1&&(jo(t,r),Va(n,r))}this._attachedToViewContainer=!1}vl(this._lView[oe],this._lView)}onDestroy(t){Qg(this._lView,t)}markForCheck(){Uf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ie]&=-129}reattach(){gd(this._lView),this._lView[ie]|=128}detectChanges(){this._lView[ie]|=1024,g0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new K(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=hd(this._lView),n=this._lView[Yr];n!==null&&!t&&Nf(n,this._lView),Uv(this._lView[oe],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new K(902,!1);this._appRef=t;let n=hd(this._lView),r=this._lView[Yr];r!==null&&!n&&jv(r,this._lView),gd(this._lView)}},Bo=(()=>{class e{static{this.__NG_ELEMENT_ID__=n1}}return e})(),e1=Bo,t1=class extends e1{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){let i=Ko(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new ri(i)}};function n1(){return jf(Tt(),pe())}function jf(e,t){return e.type&4?new t1(t,e,Ki(e,t)):null}var I3=new RegExp(`^(\\d+)*(${$w}|${Bw})*(.*)`);var r1=()=>null;function zi(e,t){return r1(e,t)}var Gi=class{},El=new Y("",{providedIn:"root",factory:()=>!1});var C0=new Y(""),b0=new Y(""),Nd=class{},Ja=class{};function i1(e){let t=Error(`No component factory found for ${Pt(e)}.`);return t[o1]=e,t}var o1="ngComponent";var Od=class{resolveComponentFactory(t){throw i1(t)}},qi=class{static{this.NULL=new Od}},Wi=class{},Nn=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>s1()}}return e})();function s1(){let e=pe(),t=Tt(),n=Dr(t.index,e);return(Cr(n)?n:e)[lt]}var a1=(()=>{class e{static{this.\u0275prov=B({token:e,providedIn:"root",factory:()=>null})}}return e})();function Rd(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=ad(i,a);else if(o==2){let l=a,d=t[++s];r=ad(r,l+": "+d+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}var Xa=class extends qi{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=Qr(t);return new $o(n,this.ngModule)}};function tg(e,t){let n=[];for(let r in e){if(!e.hasOwnProperty(r))continue;let i=e[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:br.None;t?n.push({propName:s,templateName:r,isSignal:(a&br.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function l1(e){let t=e.toLowerCase();return t==="svg"?Gg:t==="math"?$E:null}var $o=class extends Ja{get inputs(){let t=this.componentDef,n=t.inputTransforms,r=tg(t.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return tg(this.componentDef.outputs,!1)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=EE(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let o=ve(null);try{i=i||this.ngModule;let s=i instanceof Lt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new yd(t,s):t,l=a.get(Wi,null);if(l===null)throw new K(407,!1);let d=a.get(a1,null),h=a.get(Gi,null),m={rendererFactory:l,sanitizer:d,inlineEffectRunner:null,changeDetectionScheduler:h},y=l.createRenderer(null,this.componentDef),_=this.componentDef.selectors[0][0]||"div",x=r?vS(y,r,this.componentDef.encapsulation,a):Vv(y,_,l1(_)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let R=null;x!==null&&(R=Af(x,a,!0));let j=Pf(0,null,null,1,0,null,null,null,null,null,null),P=_l(null,j,null,M,null,null,m,y,a,null,R);gf(P);let Q,Se,Oe=null;try{let He=this.componentDef,nn,To=null;He.findHostDirectiveDefs?(nn=[],To=new Map,He.findHostDirectiveDefs(He,nn,To),nn.push(He)):nn=[He];let _u=c1(P,x);Oe=u1(_u,x,He,nn,P,m,y),Se=ff(j,It),x&&p1(y,He,x,r),n!==void 0&&h1(Se,this.ngContentSelectors,n),Q=f1(Oe,He,nn,To,P,[m1]),Vf(j,P,null)}catch(He){throw Oe!==null&&Id(Oe),Id(P),He}finally{vf()}return new Pd(this.componentType,Q,Ki(Se,P),P,Se)}finally{ve(o)}}},Pd=class extends Nd{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ri(i,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView;Lf(o[oe],o,i,t,n),this.previousInputValues.set(t,n);let s=Dr(this._tNode.index,o);Uf(s,1)}}get injector(){return new Wr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function c1(e,t){let n=e[oe],r=It;return e[r]=t,Yo(n,r,2,"#host",null)}function u1(e,t,n,r,i,o,s){let a=i[oe];d1(r,e,t,s);let l=null;t!==null&&(l=Af(t,i[ji]));let d=o.rendererFactory.createRenderer(t,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let m=_l(i,n0(n),null,h,i[e.index],e,o,d,null,null,l);return a.firstCreatePass&&Ad(a,e,r.length-1),Cl(i,m),i[e.index]=m}function d1(e,t,n,r){for(let i of e)t.mergedAttrs=Lo(t.mergedAttrs,i.hostAttrs);t.mergedAttrs!==null&&(Rd(t,t.mergedAttrs,!0),n!==null&&Zv(r,n,t))}function f1(e,t,n,r,i,o){let s=Tt(),a=i[oe],l=an(s,i);o0(a,i,s,n,null,r);for(let h=0;h<n.length;h++){let m=s.directiveStart+h,y=ti(i,a,m,s);ni(y,i)}s0(a,i,s),l&&ni(l,i);let d=ti(i,a,s.directiveStart+s.componentOffset,s);if(e[bt]=i[bt]=d,o!==null)for(let h of o)h(d,t);return Xv(a,s,i),d}function p1(e,t,n,r){if(r)ud(e,n,["ng-version","18.2.10"]);else{let{attrs:i,classes:o}=wE(t.selectors[0]);i&&ud(e,n,i),o&&o.length>0&&Wv(e,n,o.join(" "))}}function h1(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function m1(){let e=Tt();Ef(pe()[oe],e)}var Xi=(()=>{class e{static{this.__NG_ELEMENT_ID__=g1}}return e})();function g1(){let e=Tt();return w0(e,pe())}var v1=Xi,E0=class extends v1{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Ki(this._hostTNode,this._hostLView)}get injector(){return new Wr(this._hostTNode,this._hostLView)}get parentInjector(){let t=wf(this._hostTNode,this._hostLView);if(pv(t)){let n=za(t,this._hostLView),r=Ha(t),i=n[oe].data[r+8];return new Wr(i,n)}else return new Wr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=ng(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-Et}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=zi(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Hi(this._hostTNode,s)),a}createComponent(t,n,r,i,o){let s=t&&!VE(t),a;if(s)a=n;else{let x=n||{};a=x.index,r=x.injector,i=x.projectableNodes,o=x.environmentInjector||x.ngModuleRef}let l=s?t:new $o(Qr(t)),d=r||this.parentInjector;if(!o&&l.ngModule==null){let M=(s?d:this.parentInjector).get(Lt,null);M&&(o=M)}let h=Qr(l.componentType??{}),m=zi(this._lContainer,h?.id??null),y=m?.firstChild??null,_=l.create(d,i,y,o);return this.insertImpl(_.hostView,a,Hi(this._hostTNode,m)),_}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(GE(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=i[wt],d=new E0(l,l[Vt],l[wt]);d.detach(d.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return Jo(s,i,o,r),t.attachToViewContainerRef(),Cg(ed(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=ng(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=jo(this._lContainer,n);r&&(Va(ed(this._lContainer),n),vl(r[oe],r))}detach(t){let n=this._adjustIndex(t,-1),r=jo(this._lContainer,n);return r&&Va(ed(this._lContainer),n)!=null?new ri(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function ng(e){return e[Ba]}function ed(e){return e[Ba]||(e[Ba]=[])}function w0(e,t){let n,r=t[e.index];return Zn(r)?n=r:(n=a0(r,t,null,e),t[e.index]=n,Cl(t,n)),_1(n,t,e,r),new E0(n,e,t)}function y1(e,t){let n=e[lt],r=n.createComment(""),i=an(t,e),o=Hv(n,i);return Ya(n,o,r,sS(n,i),!1),r}var _1=E1,C1=()=>!1;function b1(e,t,n){return C1(e,t,n)}function E1(e,t,n,r){if(e[Kr])return;let i;n.type&8?i=Mn(r):i=y1(t,n),e[Kr]=i}var Ld=class e{constructor(t){this.queryList=t,this.matches=null}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},Vd=class e{constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let r=t.contentQueries!==null?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new e(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)Bf(t,n).matches!==null&&this.queries[n].setDirty()}},el=class{constructor(t,n,r=null){this.flags=n,this.read=r,typeof t=="string"?this.predicate=A1(t):this.predicate=t}},Ud=class e{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new e(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},jd=class e{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(t,n,w1(n,o)),this.matchTNodeWithReadOption(t,n,Na(n,t,o,!1,!1))}else r===Bo?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Na(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Ut||i===Xi||i===Bo&&n.type&4)this.addMatch(n.index,-2);else{let o=Na(n,t,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function w1(e,t){let n=e.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1]}return null}function S1(e,t){return e.type&11?Ki(e,t):e.type&4?jf(e,t):null}function D1(e,t,n,r){return n===-1?S1(t,e):n===-2?x1(e,t,r):ti(e,e[oe],n,t)}function x1(e,t,n){if(n===Ut)return Ki(t,e);if(n===Bo)return jf(t,e);if(n===Xi)return w0(t,e)}function S0(e,t,n,r){let i=t[$n].queries[r];if(i.matches===null){let o=e.data,s=n.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let d=s[l];if(d<0)a.push(null);else{let h=o[d];a.push(D1(t,h,s[l+1],n.metadata.read))}}i.matches=a}return i.matches}function Bd(e,t,n,r){let i=e.queries.getByIndex(n),o=i.matches;if(o!==null){let s=S0(e,t,i,n);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let d=o[a+1],h=t[-l];for(let m=Et;m<h.length;m++){let y=h[m];y[Yr]===y[wt]&&Bd(y[oe],y,d,r)}if(h[Bi]!==null){let m=h[Bi];for(let y=0;y<m.length;y++){let _=m[y];Bd(_[oe],_,d,r)}}}}}return r}function I1(e,t){return e[$n].queries[t].queryList}function D0(e,t,n){let r=new xd((n&4)===4);return CS(e,t,r,r.destroy),(t[$n]??=new Vd).queries.push(new Ld(r))-1}function T1(e,t,n){let r=ft();return r.firstCreatePass&&(x0(r,new el(e,t,n),-1),(t&2)===2&&(r.staticViewQueries=!0)),D0(r,pe(),t)}function F1(e,t,n,r){let i=ft();if(i.firstCreatePass){let o=Tt();x0(i,new el(t,n,r),o.index),M1(i,e),(n&2)===2&&(i.staticContentQueries=!0)}return D0(i,pe(),n)}function A1(e){return e.split(",").map(t=>t.trim())}function x0(e,t,n){e.queries===null&&(e.queries=new Ud),e.queries.track(new jd(t,n))}function M1(e,t){let n=e.contentQueries||(e.contentQueries=[]),r=n.length?n[n.length-1]:-1;t!==r&&n.push(e.queries.length-1,t)}function Bf(e,t){return e.queries.getByIndex(t)}function k1(e,t){let n=e[oe],r=Bf(n,t);return r.crossesNgTemplate?Bd(n,e,t,[]):S0(n,e,r,t)}var rg=new Set;function Tr(e){rg.has(e)||(rg.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function ge(e,t){Tr("NgSignals");let n=rm(e),r=n[hr];return t?.equal&&(r.equal=t.equal),n.set=i=>Tu(r,i),n.update=i=>im(r,i),n.asReadonly=N1.bind(n),n}function N1(){let e=this[hr];if(e.readonlyFn===void 0){let t=()=>this();t[hr]=e,e.readonlyFn=t}return e.readonlyFn}function O1(e){return Object.getPrototypeOf(e.prototype).constructor}function jt(e){let t=O1(e.type),n=!0,r=[e];for(;t;){let i;if(Er(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new K(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let s=e;s.inputs=Ia(e.inputs),s.inputTransforms=Ia(e.inputTransforms),s.declaredInputs=Ia(e.declaredInputs),s.outputs=Ia(e.outputs);let a=i.hostBindings;a&&U1(e,a);let l=i.viewQuery,d=i.contentQueries;if(l&&L1(e,l),d&&V1(e,d),R1(e,i),jb(e.outputs,i.outputs),Er(i)&&i.data.animation){let h=e.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===jt&&(n=!1)}}t=Object.getPrototypeOf(t)}P1(r)}function R1(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];if(r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n],t.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!t.inputTransforms.hasOwnProperty(i))continue;e.inputTransforms??={},e.inputTransforms[i]=t.inputTransforms[i]}}}function P1(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Lo(i.hostAttrs,n=Lo(n,i.hostAttrs))}}function Ia(e){return e===Pi?{}:e===Rt?[]:e}function L1(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function V1(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function U1(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}function $f(e){let t=e.inputConfig,n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}e.inputTransforms=n}var Sr=class{},Ho=class{};var $d=class extends Sr{constructor(t,n,r,i=!0){super(),this.ngModuleType=t,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Xa(this);let o=Mg(t);this._bootstrapComponents=Lv(o.bootstrap),this._r3Injector=Ev(t,n,[{provide:Sr,useValue:this},{provide:qi,useValue:this.componentFactoryResolver},...r],Pt(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Hd=class extends Ho{constructor(t){super(),this.moduleType=t}create(t){return new $d(this.moduleType,t,[])}};var tl=class extends Sr{constructor(t){super(),this.componentFactoryResolver=new Xa(this),this.instance=null;let n=new Vo([...t.providers,{provide:Sr,useValue:this},{provide:qi,useValue:this.componentFactoryResolver}],t.parent||uf(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Hf(e,t,n=null){return new tl({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}function I0(e,t,n){return e[t]=n}function j1(e,t){return e[t]}function kn(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function zo(e,t,n,r){let i=kn(e,t,n);return kn(e,t+1,r)||i}function B1(e,t,n,r,i){let o=zo(e,t,n,r);return kn(e,t+2,i)||o}function $1(e,t,n,r,i,o){let s=zo(e,t,n,r);return zo(e,t+2,i,o)||s}function H1(e){return(e.flags&32)===32}function z1(e,t,n,r,i,o,s,a,l){let d=t.consts,h=Yo(t,e,4,s||null,a||null);i0(t,n,h,$i(d,l)),Ef(t,h);let m=h.tView=Pf(2,h,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,d,null);return t.queries!==null&&(t.queries.template(t,h),m.queries=t.queries.embeddedTView(h)),h}function nl(e,t,n,r,i,o,s,a,l,d){let h=n+It,m=t.firstCreatePass?z1(h,t,e,r,i,o,s,a,l):t.data[h];Wo(m,!1);let y=G1(t,e,m,n);Cf()&&Of(t,e,y,m),ni(y,e);let _=a0(y,e,y,m);return e[h]=_,Cl(e,_),b1(_,m,e),df(m)&&e0(t,e,m),l!=null&&t0(e,m,d),m}function k(e,t,n,r,i,o,s,a){let l=pe(),d=ft(),h=$i(d.consts,o);return nl(l,d,e,t,n,r,i,h,s,a),k}var G1=q1;function q1(e,t,n,r){return bf(!0),t[lt].createComment("")}var Oo=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Oo||{}),W1=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=B({token:e,providedIn:"root",factory:()=>new e})}}return e})(),ig=class e{constructor(){this.ngZone=b(Xe),this.scheduler=b(Gi),this.errorHandler=b(Hn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Oo.EarlyRead,Oo.Write,Oo.MixedReadWrite,Oo.Read]}execute(){this.executing=!0;for(let t of e.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[t]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[t](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let t of this.sequences)t.afterRun(),t.once&&(this.sequences.delete(t),t.destroy());for(let t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}static{this.\u0275prov=B({token:e,providedIn:"root",factory:()=>new e})}};function Ft(e,t,n,r){let i=pe(),o=Zo();if(kn(i,o,t)){let s=ft(),a=yf();RS(a,i,e,t,n,r)}return Ft}function T0(e,t,n,r){return kn(e,Zo(),n)?t+Wt(n)+r:pt}function Z1(e,t,n,r,i,o){let s=hf(),a=zo(e,s,n,i);return Qo(2),a?t+Wt(n)+r+Wt(i)+o:pt}function Q1(e,t,n,r,i,o,s,a){let l=hf(),d=B1(e,l,n,i,s);return Qo(3),d?t+Wt(n)+r+Wt(i)+o+Wt(s)+a:pt}function Y1(e,t,n,r,i,o,s,a,l,d){let h=hf(),m=$1(e,h,n,i,s,l);return Qo(4),m?t+Wt(n)+r+Wt(i)+o+Wt(s)+a+Wt(l)+d:pt}function Ta(e,t){return e<<17|t<<2}function ii(e){return e>>17&32767}function K1(e){return(e&2)==2}function J1(e,t){return e&131071|t<<17}function zd(e){return e|2}function Zi(e){return(e&131068)>>2}function td(e,t){return e&-131069|t<<2}function X1(e){return(e&1)===1}function Gd(e){return e|1}function eD(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=ii(s),l=Zi(s);e[r]=n;let d=!1,h;if(Array.isArray(n)){let m=n;h=m[1],(h===null||qo(m,h)>0)&&(d=!0)}else h=n;if(i)if(l!==0){let y=ii(e[a+1]);e[r+1]=Ta(y,a),y!==0&&(e[y+1]=td(e[y+1],r)),e[a+1]=J1(e[a+1],r)}else e[r+1]=Ta(a,0),a!==0&&(e[a+1]=td(e[a+1],r)),a=r;else e[r+1]=Ta(l,0),a===0?a=r:e[l+1]=td(e[l+1],r),l=r;d&&(e[r+1]=zd(e[r+1])),og(e,h,r,!0),og(e,h,r,!1),tD(t,h,e,r,o),s=Ta(a,l),o?t.classBindings=s:t.styleBindings=s}function tD(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&qo(o,t)>=0&&(n[r+1]=Gd(n[r+1]))}function og(e,t,n,r){let i=e[n+1],o=t===null,s=r?ii(i):Zi(i),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],d=e[s+1];nD(l,t)&&(a=!0,e[s+1]=r?Gd(d):zd(d)),s=r?ii(d):Zi(d)}a&&(e[n+1]=r?zd(i):Gd(i))}function nD(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?qo(e,t)>=0:!1}var vn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function rD(e){return e.substring(vn.key,vn.keyEnd)}function iD(e){return oD(e),F0(e,A0(e,0,vn.textEnd))}function F0(e,t){let n=vn.textEnd;return n===t?-1:(t=vn.keyEnd=sD(e,vn.key=t,n),A0(e,t,n))}function oD(e){vn.key=0,vn.keyEnd=0,vn.value=0,vn.valueEnd=0,vn.textEnd=e.length}function A0(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function sD(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function g(e,t,n){let r=pe(),i=Zo();if(kn(r,i,t)){let o=ft(),s=yf();r0(o,s,r,e,t,r[lt],n,!1)}return g}function qd(e,t,n,r,i){let o=t.inputs,s=i?"class":"style";Lf(e,n,o[s],s,r)}function qe(e,t){return lD(e,t,null,!0),qe}function wl(e){cD(mD,aD,e,!0)}function aD(e,t){for(let n=iD(t);n>=0;n=F0(t,n))sf(e,rD(t),!0)}function lD(e,t,n,r){let i=pe(),o=ft(),s=Qo(2);if(o.firstUpdatePass&&k0(o,e,s,r),t!==pt&&kn(i,s,t)){let a=o.data[bn()];N0(o,a,i,i[lt],e,i[s+1]=vD(t,n),r,s)}}function cD(e,t,n,r){let i=ft(),o=Qo(2);i.firstUpdatePass&&k0(i,null,o,r);let s=pe();if(n!==pt&&kn(s,o,n)){let a=i.data[bn()];if(O0(a,r)&&!M0(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=ad(l,n||"")),qd(i,a,s,n,r)}else gD(i,a,s,s[lt],s[o+1],s[o+1]=hD(e,t,n),r,o)}}function M0(e,t){return t>=e.expandoStartIndex}function k0(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[bn()],s=M0(e,n);O0(o,r)&&t===null&&!s&&(t=!1),t=uD(i,o,t,r),eD(i,o,t,n,s,r)}}function uD(e,t,n,r){let i=iw(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=nd(null,e,t,n,r),n=Go(n,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(n=nd(i,e,t,n,r),o===null){let l=dD(e,t,r);l!==void 0&&Array.isArray(l)&&(l=nd(null,e,t,l[1],r),l=Go(l,t.attrs,r),fD(e,t,r,l))}else o=pD(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function dD(e,t,n){let r=n?t.classBindings:t.styleBindings;if(Zi(r)!==0)return e[ii(r)]}function fD(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[ii(i)]=r}function pD(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=Go(r,s,n)}return Go(r,t.attrs,n)}function nd(e,t,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],r=Go(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function Go(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),sf(e,s,n?!0:t[++o]))}return e===void 0?null:e}function hD(e,t,n){if(n==null||n==="")return Rt;let r=[],i=Ji(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else typeof i=="string"&&t(r,i);return r}function mD(e,t,n){let r=String(t);r!==""&&!r.includes(" ")&&sf(e,r,n)}function gD(e,t,n,r,i,o,s,a){i===pt&&(i=Rt);let l=0,d=0,h=0<i.length?i[0]:null,m=0<o.length?o[0]:null;for(;h!==null||m!==null;){let y=l<i.length?i[l+1]:void 0,_=d<o.length?o[d+1]:void 0,x=null,M;h===m?(l+=2,d+=2,y!==_&&(x=m,M=_)):m===null||h!==null&&h<m?(l+=2,x=h):(d+=2,x=m,M=_),x!==null&&N0(e,t,n,r,x,M,s,a),h=l<i.length?i[l]:null,m=d<o.length?o[d]:null}}function N0(e,t,n,r,i,o,s,a){if(!(t.type&3))return;let l=e.data,d=l[a+1],h=X1(d)?sg(l,t,n,i,Zi(d),s):void 0;if(!rl(h)){rl(o)||K1(d)&&(o=sg(l,null,n,i,a,s));let m=qg(bn(),n);fS(r,s,m,i,o)}}function sg(e,t,n,r,i,o){let s=t===null,a;for(;i>0;){let l=e[i],d=Array.isArray(l),h=d?l[1]:l,m=h===null,y=n[i+1];y===pt&&(y=m?Rt:void 0);let _=m?qu(y,r):h===r?y:void 0;if(d&&!rl(_)&&(_=qu(l,r)),rl(_)&&(a=_,s))return a;let x=e[i+1];i=s?ii(x):Zi(x)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=qu(l,r))}return a}function rl(e){return e!==void 0}function vD(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Pt(Ji(e)))),e}function O0(e,t){return(e.flags&(t?8:16))!==0}var Wd=class{destroy(t){}updateValue(t,n){}swap(t,n){let r=Math.min(t,n),i=Math.max(t,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(t,n){this.attach(n,this.detach(t))}};function rd(e,t,n,r,i){return e===n&&Object.is(t,r)?1:Object.is(i(e,t),i(n,r))?-1:0}function yD(e,t,n){let r,i,o=0,s=e.length-1,a=void 0;if(Array.isArray(t)){let l=t.length-1;for(;o<=s&&o<=l;){let d=e.at(o),h=t[o],m=rd(o,d,o,h,n);if(m!==0){m<0&&e.updateValue(o,h),o++;continue}let y=e.at(s),_=t[l],x=rd(s,y,l,_,n);if(x!==0){x<0&&e.updateValue(s,_),s--,l--;continue}let M=n(o,d),R=n(s,y),j=n(o,h);if(Object.is(j,R)){let P=n(l,_);Object.is(P,M)?(e.swap(o,s),e.updateValue(s,_),l--,s--):e.move(s,o),e.updateValue(o,h),o++;continue}if(r??=new il,i??=lg(e,o,s,n),Zd(e,r,o,j))e.updateValue(o,h),o++,s++;else if(i.has(j))r.set(M,e.detach(o)),s--;else{let P=e.create(o,t[o]);e.attach(o,P),o++,s++}}for(;o<=l;)ag(e,r,n,o,t[o]),o++}else if(t!=null){let l=t[Symbol.iterator](),d=l.next();for(;!d.done&&o<=s;){let h=e.at(o),m=d.value,y=rd(o,h,o,m,n);if(y!==0)y<0&&e.updateValue(o,m),o++,d=l.next();else{r??=new il,i??=lg(e,o,s,n);let _=n(o,m);if(Zd(e,r,o,_))e.updateValue(o,m),o++,s++,d=l.next();else if(!i.has(_))e.attach(o,e.create(o,m)),o++,s++,d=l.next();else{let x=n(o,h);r.set(x,e.detach(o)),s--}}}for(;!d.done;)ag(e,r,n,e.length,d.value),d=l.next()}for(;o<=s;)e.destroy(e.detach(s--));r?.forEach(l=>{e.destroy(l)})}function Zd(e,t,n,r){return t!==void 0&&t.has(r)?(e.attach(n,t.get(r)),t.delete(r),!0):!1}function ag(e,t,n,r,i){if(Zd(e,t,r,n(r,i)))e.updateValue(r,i);else{let o=e.create(r,i);e.attach(r,o)}}function lg(e,t,n,r){let i=new Set;for(let o=t;o<=n;o++)i.add(r(o,e.at(o)));return i}var il=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let n=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),t(r,n)}}};function T(e,t){Tr("NgControlFlow");let n=pe(),r=Zo(),i=n[r]!==pt?n[r]:-1,o=i!==-1?ol(n,It+i):void 0,s=0;if(kn(n,r,e)){let a=ve(null);try{if(o!==void 0&&p0(o,s),e!==-1){let l=It+e,d=ol(n,l),h=Jd(n[oe],l),m=zi(d,h.tView.ssrId),y=Ko(n,h,t,{dehydratedView:m});Jo(d,y,s,Hi(h,m))}}finally{ve(a)}}else if(o!==void 0){let a=f0(o,s);a!==void 0&&(a[bt]=t)}}var Qd=class{constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Et}};function z(e){return e}var Yd=class{constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}};function G(e,t,n,r,i,o,s,a,l,d,h,m,y){Tr("NgControlFlow");let _=pe(),x=ft(),M=l!==void 0,R=pe(),j=a?s.bind(R[Zt][bt]):s,P=new Yd(M,j);R[It+e]=P,nl(_,x,e+1,t,n,r,i,$i(x.consts,o)),M&&nl(_,x,e+2,l,d,h,m,$i(x.consts,y))}var Kd=class extends Wd{constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Et}at(t){return this.getLView(t)[bt].$implicit}attach(t,n){let r=n[Ui];this.needsIndexUpdate||=t!==this.length,Jo(this.lContainer,n,t,Hi(this.templateTNode,r))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,_D(this.lContainer,t)}create(t,n){let r=zi(this.lContainer,this.templateTNode.tView.ssrId),i=Ko(this.hostLView,this.templateTNode,new Qd(this.lContainer,n,t),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(t){vl(t[oe],t),this.operationsCounter?.recordDestroy()}updateValue(t,n){this.getLView(t)[bt].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[bt].$index=t}getLView(t){return CD(this.lContainer,t)}};function q(e){let t=ve(null),n=bn();try{let r=pe(),i=r[oe],o=r[n],s=n+1,a=ol(r,s);if(o.liveCollection===void 0){let d=Jd(i,s);o.liveCollection=new Kd(a,r,d)}else o.liveCollection.reset();let l=o.liveCollection;if(yD(l,e,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let d=Zo(),h=l.length===0;if(kn(r,d,h)){let m=n+2,y=ol(r,m);if(h){let _=Jd(i,m),x=zi(y,_.tView.ssrId),M=Ko(r,_,void 0,{dehydratedView:x});Jo(y,M,0,Hi(_,x))}else p0(y,0)}}}finally{ve(t)}}function ol(e,t){return e[t]}function _D(e,t){return jo(e,t)}function CD(e,t){return f0(e,t)}function Jd(e,t){return ff(e,t)}function bD(e,t,n,r,i,o){let s=t.consts,a=$i(s,i),l=Yo(t,e,2,r,a);return i0(t,n,l,$i(s,o)),l.attrs!==null&&Rd(l,l.attrs,!1),l.mergedAttrs!==null&&Rd(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function c(e,t,n,r){let i=pe(),o=ft(),s=It+e,a=i[lt],l=o.firstCreatePass?bD(s,o,i,t,n,r):o.data[s],d=ED(o,i,l,a,t,e);i[s]=d;let h=df(l);return Wo(l,!0),Zv(a,d,l),!H1(l)&&Cf()&&Of(o,i,d,l),ZE()===0&&ni(d,i),QE(),h&&(e0(o,i,l),Xv(o,l,i)),r!==null&&t0(i,l),c}function u(){let e=Tt();ev()?tv():(e=e.parent,Wo(e,!1));let t=e;KE(t)&&JE(),YE();let n=ft();return n.firstCreatePass&&(Ef(n,e),jg(e)&&n.queries.elementEnd(e)),t.classesWithoutHost!=null&&fw(t)&&qd(n,t,pe(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&pw(t)&&qd(n,t,pe(),t.stylesWithoutHost,!1),u}function C(e,t,n,r){return c(e,t,n,r),u(),C}var ED=(e,t,n,r,i,o)=>(bf(!0),Vv(r,i,lw()));function U(){return pe()}var Gr=void 0;function wD(e){let t=e,n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var SD=["en",[["a","p"],["AM","PM"],Gr],[["AM","PM"],Gr,Gr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Gr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Gr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Gr,"{1} 'at' {0}",Gr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",wD],id={};function ln(e){let t=DD(e),n=cg(t);if(n)return n;let r=t.split("-")[0];if(n=cg(r),n)return n;if(r==="en")return SD;throw new K(701,!1)}function cg(e){return e in id||(id[e]=qr.ng&&qr.ng.common&&qr.ng.common.locales&&qr.ng.common.locales[e]),id[e]}var ot=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(ot||{});function DD(e){return e.toLowerCase().replace(/_/g,"-")}var sl="en-US";var xD=sl;function ID(e){typeof e=="string"&&(xD=e.toLowerCase().replace(/_/g,"-"))}var TD=(e,t,n)=>{};function E(e,t,n,r){let i=pe(),o=ft(),s=Tt();return AD(o,i,i[lt],s,e,t,r),E}function FD(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=t[ja],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function AD(e,t,n,r,i,o,s){let a=df(r),d=e.firstCreatePass&&u0(e),h=t[bt],m=c0(t),y=!0;if(r.type&3||s){let M=an(r,t),R=s?s(M):M,j=m.length,P=s?Se=>s(Mn(Se[r.index])):r.index,Q=null;if(!s&&a&&(Q=FD(e,t,i,r.index)),Q!==null){let Se=Q.__ngLastListenerFn__||Q;Se.__ngNextListenerFn__=o,Q.__ngLastListenerFn__=o,y=!1}else{o=dg(r,t,h,o),TD(M,i,o);let Se=n.listen(R,i,o);m.push(o,Se),d&&d.push(i,P,j,j+1)}}else o=dg(r,t,h,o);let _=r.outputs,x;if(y&&_!==null&&(x=_[i])){let M=x.length;if(M)for(let R=0;R<M;R+=2){let j=x[R],P=x[R+1],Oe=t[j][P].subscribe(o),He=m.length;m.push(o,Oe),d&&d.push(i,r.index,He,-(He+1))}}}function ug(e,t,n,r){let i=ve(null);try{return In(6,t,n),n(r)!==!1}catch(o){return d0(e,o),!1}finally{In(7,t,n),ve(i)}}function dg(e,t,n,r){return function i(o){if(o===Function)return r;let s=e.componentOffset>-1?Dr(e.index,t):t;Uf(s,5);let a=ug(t,n,r,o),l=i.__ngNextListenerFn__;for(;l;)a=ug(t,n,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function v(e=1){return sw(e)}function MD(e,t){let n=null,r=vE(e);for(let i=0;i<t.length;i++){let o=t[i];if(o==="*"){n=i;continue}if(r===null?xg(e,o,!0):CE(r,o))return i}return n}function Sl(e){let t=pe()[Zt][Vt];if(!t.projection){let n=e?e.length:1,r=t.projection=lE(n,null),i=r.slice(),o=t.child;for(;o!==null;){if(o.type!==128){let s=e?MD(o,e):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function Dl(e,t=0,n,r,i,o){let s=pe(),a=ft(),l=r?e+1:null;l!==null&&nl(s,a,l,r,i,o,null,n);let d=Yo(a,It+e,16,null,n||null);d.projection===null&&(d.projection=t),tv();let m=!s[Ui]||Jg();s[Zt][Vt].projection[d.projection]===null&&l!==null?kD(s,a,l):m&&(d.flags&32)!==32&&uS(a,s,d)}function kD(e,t,n){let r=It+n,i=t.data[r],o=e[r],s=zi(o,i.tView.ssrId),a=Ko(e,i,void 0,{dehydratedView:s});Jo(o,a,0,Hi(i,s))}function Qt(e,t,n){return R0(e,"",t,"",n),Qt}function R0(e,t,n,r,i){let o=pe(),s=T0(o,t,n,r);if(s!==pt){let a=ft(),l=yf();r0(a,l,o,e,s,o[lt],i,!1)}return R0}function P0(e,t,n,r){F1(e,t,n,r)}function st(e,t,n){T1(e,t,n)}function Qe(e){let t=pe(),n=ft(),r=iv();mf(r+1);let i=Bf(n,r);if(e.dirty&&zE(t)===((i.metadata.flags&2)===2)){if(i.matches===null)e.reset([]);else{let o=k1(t,r);e.reset(o,Ow),e.notifyOnChanges()}return!0}return!1}function Ye(){return I1(pe(),iv())}function ND(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function p(e,t=""){let n=pe(),r=ft(),i=e+It,o=r.firstCreatePass?Yo(r,i,1,t,null):r.data[i],s=OD(r,n,o,t,e);n[i]=s,Cf()&&Of(r,n,s,o),Wo(o,!1)}var OD=(e,t,n,r,i)=>(bf(!0),Kw(t[lt],r));function N(e){return $("",e,""),N}function $(e,t,n){let r=pe(),i=T0(r,e,t,n);return i!==pt&&bl(r,bn(),i),$}function Yt(e,t,n,r,i){let o=pe(),s=Z1(o,e,t,n,r,i);return s!==pt&&bl(o,bn(),s),Yt}function zf(e,t,n,r,i,o,s){let a=pe(),l=Q1(a,e,t,n,r,i,o,s);return l!==pt&&bl(a,bn(),l),zf}function Xo(e,t,n,r,i,o,s,a,l){let d=pe(),h=Y1(d,e,t,n,r,i,o,s,a,l);return h!==pt&&bl(d,bn(),h),Xo}function RD(e,t,n){let r=ft();if(r.firstCreatePass){let i=Er(e);Xd(n,r.data,r.blueprint,i,!0),Xd(t,r.data,r.blueprint,i,!1)}}function Xd(e,t,n,r,i){if(e=xt(e),Array.isArray(e))for(let o=0;o<e.length;o++)Xd(e[o],t,n,r,i);else{let o=ft(),s=pe(),a=Tt(),l=Vi(e)?e:xt(e.provide),d=Lg(e),h=a.providerIndexes&1048575,m=a.directiveStart,y=a.providerIndexes>>20;if(Vi(e)||!e.multi){let _=new ei(d,i,J),x=sd(l,t,i?h:h+y,m);x===-1?(Cd(qa(a,s),o,l),od(o,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(_),s.push(_)):(n[x]=_,s[x]=_)}else{let _=sd(l,t,h+y,m),x=sd(l,t,h,h+y),M=_>=0&&n[_],R=x>=0&&n[x];if(i&&!R||!i&&!M){Cd(qa(a,s),o,l);let j=VD(i?LD:PD,n.length,i,r,d);!i&&R&&(n[x].providerFactory=j),od(o,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(j),s.push(j)}else{let j=L0(n[i?x:_],d,!i&&r);od(o,e,_>-1?_:x,j)}!i&&r&&R&&n[x].componentProviders++}}}function od(e,t,n,r){let i=Vi(t),o=AE(t);if(i||o){let l=(o?xt(t.useClass):t).prototype.ngOnDestroy;if(l){let d=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let h=d.indexOf(n);h===-1?d.push(n,[r,l]):d[h+1].push(r,l)}else d.push(n,l)}}}function L0(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function sd(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function PD(e,t,n,r){return ef(this.multi,[])}function LD(e,t,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=ti(n,n[oe],this.providerFactory.index,r);o=a.slice(0,s),ef(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],ef(i,o);return o}function ef(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function VD(e,t,n,r,i){let o=new ei(e,n,J);return o.multi=[],o.index=t,o.componentProviders=0,L0(o,i,r&&!n),o}function Kn(e,t=[]){return n=>{n.providersResolver=(r,i)=>RD(r,i?i(e):e,t)}}var UD=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Og(!1,n.type),i=r.length>0?Hf([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=B({token:e,providedIn:"environment",factory:()=>new e(ue(Lt))})}}return e})();function W(e){Tr("NgStandalone"),e.getStandaloneInjector=t=>t.get(UD).getOrCreateStandaloneInjector(e)}function ee(e,t,n){let r=rv()+e,i=pe();return i[r]===pt?I0(i,r,n?t.call(n):t()):j1(i,r)}function jD(e,t){let n=e[t];return n===pt?void 0:n}function BD(e,t,n,r,i,o,s){let a=t+n;return zo(e,a,i,o)?I0(e,a+2,s?r.call(s,i,o):r(i,o)):jD(e,a+2)}function Ke(e,t){let n=ft(),r,i=e+It;n.firstCreatePass?(r=$D(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Zr(r.type,!0)),s,a=Ot(J);try{let l=Ga(!1),d=o();return Ga(l),ND(n,pe(),i,d),d}finally{Ot(a)}}function $D(e,t){if(t)for(let n=t.length-1;n>=0;n--){let r=t[n];if(e===r.name)return r}}function Je(e,t,n,r){let i=e+It,o=pe(),s=HE(o,i);return HD(o,i)?BD(o,rv(),t,s.transform,n,r,s):s.transform(n,r)}function HD(e,t){return e[oe].data[t].pure}var xl=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();var V0=new Y("");function oi(e){return!!e&&typeof e.then=="function"}function U0(e){return!!e&&typeof e.subscribe=="function"}var j0=new Y(""),B0=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=b(j0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(oi(o))n.push(o);else if(U0(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Il=new Y("");function zD(){nm(()=>{throw new K(600,!1)})}function GD(e){return e.isBoundToModule}var qD=10;function WD(e,t,n){try{let r=n();return oi(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var Fr=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=b(kw),this.afterRenderManager=b(W1),this.zonelessEnabled=b(El),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new V,this.afterTick=new V,this.componentTypes=[],this.components=[],this.isStable=b(xr).hasPendingTasks.pipe(re(n=>!n)),this._injector=b(Lt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Ja;if(!this._injector.get(B0).done){let y=!i&&Ag(n),_=!1;throw new K(405,_)}let s;i?s=n:s=this._injector.get(qi).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=GD(s)?void 0:this._injector.get(Sr),l=r||s.selector,d=s.create(wr.NULL,[],l,a),h=d.location.nativeElement,m=d.injector.get(V0,null);return m?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),Oa(this.components,d),m?.unregisterApplication(h)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new K(101,!1);let n=ve(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,ve(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(Wi,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<qD;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)ZD(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>hl(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Oa(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(Il,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Oa(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new K(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Oa(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function ZD(e,t,n,r){if(!n&&!hl(e))return;g0(e,t,n&&!r?0:1)}var tf=class{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},Gf=(()=>{class e{compileModuleSync(n){return new Hd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Mg(n),o=Lv(i.declarations).reduce((s,a)=>{let l=Qr(a);return l&&s.push(new $o(l)),s},[]);return new tf(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var QD=(()=>{class e{constructor(){this.zone=b(Xe),this.changeDetectionScheduler=b(Gi),this.applicationRef=b(Fr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),YD=new Y("",{factory:()=>!1});function $0({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new Xe(we(O({},z0()),{scheduleInRootZone:n})),[{provide:Xe,useFactory:e},{provide:Li,multi:!0,useFactory:()=>{let r=b(QD,{optional:!0});return()=>r.initialize()}},{provide:Li,multi:!0,useFactory:()=>{let r=b(KD);return()=>{r.initialize()}}},t===!0?{provide:C0,useValue:!0}:[],{provide:b0,useValue:n??wv}]}function H0(e){let t=e?.ignoreChangesOutsideZone,n=e?.scheduleInRootZone,r=$0({ngZoneFactory:()=>{let i=z0(e);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Tr("NgZone_CoalesceEvent"),new Xe(i)},ignoreChangesOutsideZone:t,scheduleInRootZone:n});return Qi([{provide:YD,useValue:!0},{provide:El,useValue:!1},r])}function z0(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var KD=(()=>{class e{constructor(){this.subscription=new at,this.initialized=!1,this.zone=b(Xe),this.pendingTasks=b(xr)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Xe.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Xe.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var JD=(()=>{class e{constructor(){this.appRef=b(Fr),this.taskService=b(xr),this.ngZone=b(Xe),this.zonelessEnabled=b(El),this.disableScheduling=b(C0,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new at,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Za):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(b(b0,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Dd||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?qm:Dv;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Za+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,qm(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function XD(){return typeof $localize<"u"&&$localize.locale||sl}var Tl=new Y("",{providedIn:"root",factory:()=>b(Tl,me.Optional|me.SkipSelf)||XD()});var nf=new Y("");function Fa(e){return!e.moduleRef}function ex(e){let t=Fa(e)?e.r3Injector:e.moduleRef.injector,n=t.get(Xe);return n.run(()=>{Fa(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(Hn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Fa(e)){let o=()=>t.destroy(),s=e.platformInjector.get(nf);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(nf);s.add(o),e.moduleRef.onDestroy(()=>{Oa(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return WD(r,n,()=>{let o=t.get(B0);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(Tl,sl);if(ID(s||sl),Fa(e)){let a=t.get(Fr);return e.rootComponent!==void 0&&a.bootstrap(e.rootComponent),a}else return tx(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function tx(e,t){let n=e.injector.get(Fr);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new K(-403,!1);t.push(e)}var Ra=null;function nx(e=[],t){return wr.create({name:t,providers:[{provide:dl,useValue:"platform"},{provide:nf,useValue:new Set([()=>Ra=null])},...e]})}function rx(e=[]){if(Ra)return Ra;let t=nx(e);return Ra=t,zD(),ix(t),t}function ix(e){e.get(Tf,null)?.forEach(n=>n())}var si=(()=>{class e{static{this.__NG_ELEMENT_ID__=ox}}return e})();function ox(e){return sx(Tt(),pe(),(e&16)===16)}function sx(e,t,n){if(pl(e)&&!n){let r=Dr(e.index,t);return new ri(r,r)}else if(e.type&175){let r=t[Zt];return new ri(r,t)}return null}function G0(e){try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,i=rx(r),o=[$0({}),{provide:Gi,useExisting:JD},...n||[]],s=new tl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return ex({r3Injector:s.injector,platformInjector:i,rootComponent:t})}catch(t){return Promise.reject(t)}}function eo(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function es(e,t){Tr("NgSignals");let n=Xh(e);return t?.equal&&(n[hr].equal=t.equal),n}function Jn(e){let t=ve(null);try{return e()}finally{ve(t)}}var Q0=null;function tr(){return Q0}function Y0(e){Q0??=e}var Ll=class{};var Bt=new Y(""),K0=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=B({token:e,factory:()=>b(lx),providedIn:"platform"})}}return e})();var lx=(()=>{class e extends K0{constructor(){super(),this._doc=b(Bt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return tr().getBaseHref(this._doc)}onPopState(n){let r=tr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=tr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=B({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function J0(e,t){if(e.length==0)return t;if(t.length==0)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,n==2?e+t.substring(1):n==1?e+t:e+"/"+t}function q0(e){let t=e.match(/#|\?|$/),n=t&&t.index||e.length,r=n-(e[n-1]==="/"?1:0);return e.slice(0,r)+e.slice(n)}function ai(e){return e&&e[0]!=="?"?"?"+e:e}var no=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=B({token:e,factory:()=>b(X0),providedIn:"root"})}}return e})(),cx=new Y(""),X0=(()=>{class e extends no{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??b(Bt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return J0(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+ai(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+ai(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+ai(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||e)(ue(K0),ue(cx,8))}}static{this.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var ts=(()=>{class e{constructor(n){this._subject=new Ge,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=fx(q0(W0(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ai(r))}normalize(n){return e.stripTrailingSlash(dx(this._basePath,W0(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ai(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ai(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=ai}static{this.joinWithSlash=J0}static{this.stripTrailingSlash=q0}static{this.\u0275fac=function(r){return new(r||e)(ue(no))}}static{this.\u0275prov=B({token:e,factory:()=>ux(),providedIn:"root"})}}return e})();function ux(){return new ts(ue(no))}function dx(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function W0(e){return e.replace(/\/index.html$/,"")}function fx(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var At=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(At||{}),Pe=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(Pe||{}),Kt=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(Kt||{}),Ar={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function px(e){return ln(e)[ot.LocaleId]}function hx(e,t,n){let r=ln(e),i=[r[ot.DayPeriodsFormat],r[ot.DayPeriodsStandalone]],o=cn(i,t);return cn(o,n)}function mx(e,t,n){let r=ln(e),i=[r[ot.DaysFormat],r[ot.DaysStandalone]],o=cn(i,t);return cn(o,n)}function gx(e,t,n){let r=ln(e),i=[r[ot.MonthsFormat],r[ot.MonthsStandalone]],o=cn(i,t);return cn(o,n)}function vx(e,t){let r=ln(e)[ot.Eras];return cn(r,t)}function Fl(e,t){let n=ln(e);return cn(n[ot.DateFormat],t)}function Al(e,t){let n=ln(e);return cn(n[ot.TimeFormat],t)}function Ml(e,t){let r=ln(e)[ot.DateTimeFormat];return cn(r,t)}function Ul(e,t){let n=ln(e),r=n[ot.NumberSymbols][t];if(typeof r>"u"){if(t===Ar.CurrencyDecimal)return n[ot.NumberSymbols][Ar.Decimal];if(t===Ar.CurrencyGroup)return n[ot.NumberSymbols][Ar.Group]}return r}function ey(e){if(!e[ot.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[ot.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function yx(e){let t=ln(e);return ey(t),(t[ot.ExtraData][2]||[]).map(r=>typeof r=="string"?qf(r):[qf(r[0]),qf(r[1])])}function _x(e,t,n){let r=ln(e);ey(r);let i=[r[ot.ExtraData][0],r[ot.ExtraData][1]],o=cn(i,t)||[];return cn(o,n)||[]}function cn(e,t){for(let n=t;n>-1;n--)if(typeof e[n]<"u")return e[n];throw new Error("Locale data API: locale data undefined")}function qf(e){let[t,n]=e.split(":");return{hours:+t,minutes:+n}}var Cx=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,kl={},bx=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,er=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}(er||{}),xe=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}(xe||{}),De=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}(De||{});function Ex(e,t,n,r){let i=Mx(e);t=Xn(n,t)||t;let s=[],a;for(;t;)if(a=bx.exec(t),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;t=h}else{s.push(t);break}let l=i.getTimezoneOffset();r&&(l=ny(r,l),i=Ax(i,r,!0));let d="";return s.forEach(h=>{let m=Tx(h);d+=m?m(i,n,l):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),d}function Vl(e,t,n){let r=new Date(0);return r.setFullYear(e,t,n),r.setHours(0,0,0),r}function Xn(e,t){let n=px(e);if(kl[n]??={},kl[n][t])return kl[n][t];let r="";switch(t){case"shortDate":r=Fl(e,Kt.Short);break;case"mediumDate":r=Fl(e,Kt.Medium);break;case"longDate":r=Fl(e,Kt.Long);break;case"fullDate":r=Fl(e,Kt.Full);break;case"shortTime":r=Al(e,Kt.Short);break;case"mediumTime":r=Al(e,Kt.Medium);break;case"longTime":r=Al(e,Kt.Long);break;case"fullTime":r=Al(e,Kt.Full);break;case"short":let i=Xn(e,"shortTime"),o=Xn(e,"shortDate");r=Nl(Ml(e,Kt.Short),[i,o]);break;case"medium":let s=Xn(e,"mediumTime"),a=Xn(e,"mediumDate");r=Nl(Ml(e,Kt.Medium),[s,a]);break;case"long":let l=Xn(e,"longTime"),d=Xn(e,"longDate");r=Nl(Ml(e,Kt.Long),[l,d]);break;case"full":let h=Xn(e,"fullTime"),m=Xn(e,"fullDate");r=Nl(Ml(e,Kt.Full),[h,m]);break}return r&&(kl[n][t]=r),r}function Nl(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(n,r){return t!=null&&r in t?t[r]:n})),e}function En(e,t,n="-",r,i){let o="";(e<0||i&&e<=0)&&(i?e=-e+1:(e=-e,o=n));let s=String(e);for(;s.length<t;)s="0"+s;return r&&(s=s.slice(s.length-t)),o+s}function wx(e,t){return En(e,3).substring(0,t)}function ct(e,t,n=0,r=!1,i=!1){return function(o,s){let a=Sx(e,o);if((n>0||a>-n)&&(a+=n),e===xe.Hours)a===0&&n===-12&&(a=12);else if(e===xe.FractionalSeconds)return wx(a,t);let l=Ul(s,Ar.MinusSign);return En(a,t,l,r,i)}}function Sx(e,t){switch(e){case xe.FullYear:return t.getFullYear();case xe.Month:return t.getMonth();case xe.Date:return t.getDate();case xe.Hours:return t.getHours();case xe.Minutes:return t.getMinutes();case xe.Seconds:return t.getSeconds();case xe.FractionalSeconds:return t.getMilliseconds();case xe.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}function Ve(e,t,n=At.Format,r=!1){return function(i,o){return Dx(i,o,e,t,n,r)}}function Dx(e,t,n,r,i,o){switch(n){case De.Months:return gx(t,i,r)[e.getMonth()];case De.Days:return mx(t,i,r)[e.getDay()];case De.DayPeriods:let s=e.getHours(),a=e.getMinutes();if(o){let d=yx(t),h=_x(t,i,r),m=d.findIndex(y=>{if(Array.isArray(y)){let[_,x]=y,M=s>=_.hours&&a>=_.minutes,R=s<x.hours||s===x.hours&&a<x.minutes;if(_.hours<x.hours){if(M&&R)return!0}else if(M||R)return!0}else if(y.hours===s&&y.minutes===a)return!0;return!1});if(m!==-1)return h[m]}return hx(t,i,r)[s<12?0:1];case De.Eras:return vx(t,r)[e.getFullYear()<=0?0:1];default:let l=n;throw new Error(`unexpected translation type ${l}`)}}function Ol(e){return function(t,n,r){let i=-1*r,o=Ul(n,Ar.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case er.Short:return(i>=0?"+":"")+En(s,2,o)+En(Math.abs(i%60),2,o);case er.ShortGMT:return"GMT"+(i>=0?"+":"")+En(s,1,o);case er.Long:return"GMT"+(i>=0?"+":"")+En(s,2,o)+":"+En(Math.abs(i%60),2,o);case er.Extended:return r===0?"Z":(i>=0?"+":"")+En(s,2,o)+":"+En(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}var xx=0,Pl=4;function Ix(e){let t=Vl(e,xx,1).getDay();return Vl(e,0,1+(t<=Pl?Pl:Pl+7)-t)}function ty(e){let t=e.getDay(),n=t===0?-3:Pl-t;return Vl(e.getFullYear(),e.getMonth(),e.getDate()+n)}function Wf(e,t=!1){return function(n,r){let i;if(t){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=ty(n),s=Ix(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return En(i,e,Ul(r,Ar.MinusSign))}}function Rl(e,t=!1){return function(n,r){let o=ty(n).getFullYear();return En(o,e,Ul(r,Ar.MinusSign),t)}}var Zf={};function Tx(e){if(Zf[e])return Zf[e];let t;switch(e){case"G":case"GG":case"GGG":t=Ve(De.Eras,Pe.Abbreviated);break;case"GGGG":t=Ve(De.Eras,Pe.Wide);break;case"GGGGG":t=Ve(De.Eras,Pe.Narrow);break;case"y":t=ct(xe.FullYear,1,0,!1,!0);break;case"yy":t=ct(xe.FullYear,2,0,!0,!0);break;case"yyy":t=ct(xe.FullYear,3,0,!1,!0);break;case"yyyy":t=ct(xe.FullYear,4,0,!1,!0);break;case"Y":t=Rl(1);break;case"YY":t=Rl(2,!0);break;case"YYY":t=Rl(3);break;case"YYYY":t=Rl(4);break;case"M":case"L":t=ct(xe.Month,1,1);break;case"MM":case"LL":t=ct(xe.Month,2,1);break;case"MMM":t=Ve(De.Months,Pe.Abbreviated);break;case"MMMM":t=Ve(De.Months,Pe.Wide);break;case"MMMMM":t=Ve(De.Months,Pe.Narrow);break;case"LLL":t=Ve(De.Months,Pe.Abbreviated,At.Standalone);break;case"LLLL":t=Ve(De.Months,Pe.Wide,At.Standalone);break;case"LLLLL":t=Ve(De.Months,Pe.Narrow,At.Standalone);break;case"w":t=Wf(1);break;case"ww":t=Wf(2);break;case"W":t=Wf(1,!0);break;case"d":t=ct(xe.Date,1);break;case"dd":t=ct(xe.Date,2);break;case"c":case"cc":t=ct(xe.Day,1);break;case"ccc":t=Ve(De.Days,Pe.Abbreviated,At.Standalone);break;case"cccc":t=Ve(De.Days,Pe.Wide,At.Standalone);break;case"ccccc":t=Ve(De.Days,Pe.Narrow,At.Standalone);break;case"cccccc":t=Ve(De.Days,Pe.Short,At.Standalone);break;case"E":case"EE":case"EEE":t=Ve(De.Days,Pe.Abbreviated);break;case"EEEE":t=Ve(De.Days,Pe.Wide);break;case"EEEEE":t=Ve(De.Days,Pe.Narrow);break;case"EEEEEE":t=Ve(De.Days,Pe.Short);break;case"a":case"aa":case"aaa":t=Ve(De.DayPeriods,Pe.Abbreviated);break;case"aaaa":t=Ve(De.DayPeriods,Pe.Wide);break;case"aaaaa":t=Ve(De.DayPeriods,Pe.Narrow);break;case"b":case"bb":case"bbb":t=Ve(De.DayPeriods,Pe.Abbreviated,At.Standalone,!0);break;case"bbbb":t=Ve(De.DayPeriods,Pe.Wide,At.Standalone,!0);break;case"bbbbb":t=Ve(De.DayPeriods,Pe.Narrow,At.Standalone,!0);break;case"B":case"BB":case"BBB":t=Ve(De.DayPeriods,Pe.Abbreviated,At.Format,!0);break;case"BBBB":t=Ve(De.DayPeriods,Pe.Wide,At.Format,!0);break;case"BBBBB":t=Ve(De.DayPeriods,Pe.Narrow,At.Format,!0);break;case"h":t=ct(xe.Hours,1,-12);break;case"hh":t=ct(xe.Hours,2,-12);break;case"H":t=ct(xe.Hours,1);break;case"HH":t=ct(xe.Hours,2);break;case"m":t=ct(xe.Minutes,1);break;case"mm":t=ct(xe.Minutes,2);break;case"s":t=ct(xe.Seconds,1);break;case"ss":t=ct(xe.Seconds,2);break;case"S":t=ct(xe.FractionalSeconds,1);break;case"SS":t=ct(xe.FractionalSeconds,2);break;case"SSS":t=ct(xe.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Ol(er.Short);break;case"ZZZZZ":t=Ol(er.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Ol(er.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Ol(er.Long);break;default:return null}return Zf[e]=t,t}function ny(e,t){e=e.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function Fx(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function Ax(e,t,n){let r=n?-1:1,i=e.getTimezoneOffset(),o=ny(t,i);return Fx(e,r*(o-i))}function Mx(e){if(Z0(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[i,o=1,s=1]=e.split("-").map(a=>+a);return Vl(i,o-1,s)}let n=parseFloat(e);if(!isNaN(e-n))return new Date(n);let r;if(r=e.match(Cx))return kx(r)}let t=new Date(e);if(!Z0(t))throw new Error(`Unable to convert "${e}" into a date`);return t}function kx(e){let t=new Date(0),n=0,r=0,i=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));let s=Number(e[4]||0)-n,a=Number(e[5]||0)-r,l=Number(e[6]||0),d=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return o.call(t,s,a,l,d),t}function Z0(e){return e instanceof Date&&!isNaN(e.valueOf())}function jl(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}function Nx(e,t){return new K(2100,!1)}var Ox="mediumDate",Rx=new Y(""),Px=new Y(""),Mr=(()=>{class e{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??Ox,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Ex(n,s,o||this.locale,a)}catch(s){throw Nx(e,s.message)}}static{this.\u0275fac=function(r){return new(r||e)(J(Tl,16),J(Rx,24),J(Px,24))}}static{this.\u0275pipe=Ig({name:"date",type:e,pure:!0,standalone:!0})}}return e})();var ry="browser",Lx="server";function Bl(e){return e===Lx}var to=class{};var rs=class{},Hl=class{},nr=class e{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let i=(t.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var Kf=class{encodeKey(t){return oy(t)}encodeValue(t){return oy(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function Vx(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}var Ux=/%(\d[a-f0-9])/gi,jx={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function oy(e){return encodeURIComponent(e).replace(Ux,(t,n)=>jx[n]??t)}function $l(e){return`${e}`}var Ie=class e{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Kf,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Vx(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let r=t.fromObject[n],i=Array.isArray(r)?r.map($l):[$l(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push($l(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf($l(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Jf=class{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function Bx(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function sy(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function ay(e){return typeof Blob<"u"&&e instanceof Blob}function ly(e){return typeof FormData<"u"&&e instanceof FormData}function $x(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var ns=class e{constructor(t,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let o;if(Bx(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new nr,this.context??=new Jf,!this.params)this.params=new Ie,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||sy(this.body)||ay(this.body)||ly(this.body)||$x(this.body)?this.body:this.body instanceof Ie?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||ly(this.body)?null:ay(this.body)?this.body.type||null:sy(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Ie?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,d=t.headers||this.headers,h=t.params||this.params,m=t.context??this.context;return t.setHeaders!==void 0&&(d=Object.keys(t.setHeaders).reduce((y,_)=>y.set(_,t.setHeaders[_]),d)),t.setParams&&(h=Object.keys(t.setParams).reduce((y,_)=>y.set(_,t.setParams[_]),h)),new e(n,r,s,{params:h,headers:d,context:m,reportProgress:l,responseType:i,withCredentials:a,transferCache:o})}},Nr=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Nr||{}),is=class{constructor(t,n=200,r="OK"){this.headers=t.headers||new nr,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},zl=class e extends is{constructor(t={}){super(t),this.type=Nr.ResponseHeader}clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},li=class e extends is{constructor(t={}){super(t),this.type=Nr.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},kr=class extends is{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},fy=200,Hx=204;function Yf(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var wn=(()=>{class e{constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof ns)o=n;else{let l;i.headers instanceof nr?l=i.headers:l=new nr(i.headers);let d;i.params&&(i.params instanceof Ie?d=i.params:d=new Ie({fromObject:i.params})),o=new ns(n,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:d,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=ne(o).pipe(gr(l=>this.handler.handle(l)));if(n instanceof ns||i.observe==="events")return s;let a=s.pipe(qt(l=>l instanceof li));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(re(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(re(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(re(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(re(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Ie().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Yf(i,r))}post(n,r,i={}){return this.request("POST",n,Yf(i,r))}put(n,r,i={}){return this.request("PUT",n,Yf(i,r))}static{this.\u0275fac=function(r){return new(r||e)(ue(rs))}}static{this.\u0275prov=B({token:e,factory:e.\u0275fac})}}return e})(),zx=/^\)\]\}',?\n/,Gx="X-Request-URL";function cy(e){if(e.url)return e.url;let t=Gx.toLocaleLowerCase();return e.headers.get(t)}var qx=(()=>{class e{constructor(){this.fetchImpl=b(Xf,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n)),this.ngZone=b(Xe)}handle(n){return new _e(r=>{let i=new AbortController;return this.doRequest(n,i.signal,r).then(ep,o=>r.error(new kr({error:o}))),()=>i.abort()})}doRequest(n,r,i){return te(this,null,function*(){let o=this.createRequestInit(n),s;try{let _=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,O({signal:r},o)));Wx(_),i.next({type:Nr.Sent}),s=yield _}catch(_){i.error(new kr({error:_,status:_.status??0,statusText:_.statusText,url:n.urlWithParams,headers:_.headers}));return}let a=new nr(s.headers),l=s.statusText,d=cy(s)??n.urlWithParams,h=s.status,m=null;if(n.reportProgress&&i.next(new zl({headers:a,status:h,statusText:l,url:d})),s.body){let _=s.headers.get("content-length"),x=[],M=s.body.getReader(),R=0,j,P,Q=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>te(this,null,function*(){for(;;){let{done:Oe,value:He}=yield M.read();if(Oe)break;if(x.push(He),R+=He.length,n.reportProgress){P=n.responseType==="text"?(P??"")+(j??=new TextDecoder).decode(He,{stream:!0}):void 0;let nn=()=>i.next({type:Nr.DownloadProgress,total:_?+_:void 0,loaded:R,partialText:P});Q?Q.run(nn):nn()}}}));let Se=this.concatChunks(x,R);try{let Oe=s.headers.get("Content-Type")??"";m=this.parseBody(n,Se,Oe)}catch(Oe){i.error(new kr({error:Oe,headers:new nr(s.headers),status:s.status,statusText:s.statusText,url:cy(s)??n.urlWithParams}));return}}h===0&&(h=m?fy:0),h>=200&&h<300?(i.next(new li({body:m,headers:a,status:h,statusText:l,url:d})),i.complete()):i.error(new kr({error:m,headers:a,status:h,statusText:l,url:d}))})}parseBody(n,r,i){switch(n.responseType){case"json":let o=new TextDecoder().decode(r).replace(zx,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},i=n.withCredentials?"include":void 0;if(n.headers.forEach((o,s)=>r[o]=s.join(",")),n.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){let o=n.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:i}}concatChunks(n,r){let i=new Uint8Array(r),o=0;for(let s of n)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=B({token:e,factory:e.\u0275fac})}}return e})(),Xf=class{};function ep(){}function Wx(e){e.then(ep,ep)}function Zx(e,t){return t(e)}function Qx(e,t,n){return(r,i)=>Cn(n,()=>t(r,o=>e(o,i)))}var tp=new Y(""),Yx=new Y(""),Kx=new Y("",{providedIn:"root",factory:()=>!0});var uy=(()=>{class e extends rs{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=b(xr),this.contributeToStability=b(Kx)}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(tp),...this.injector.get(Yx,[])]));this.chain=r.reduceRight((i,o)=>Qx(i,o,this.injector),Zx)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(zr(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||e)(ue(Hl),ue(Lt))}}static{this.\u0275prov=B({token:e,factory:e.\u0275fac})}}return e})();var Jx=/^\)\]\}',?\n/;function Xx(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}var dy=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new K(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?ze(r.\u0275loadImpl()):ne(null)).pipe(Ct(()=>new _e(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((M,R)=>s.setRequestHeader(M,R.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let M=n.detectContentTypeHeader();M!==null&&s.setRequestHeader("Content-Type",M)}if(n.responseType){let M=n.responseType.toLowerCase();s.responseType=M!=="json"?M:"text"}let a=n.serializeBody(),l=null,d=()=>{if(l!==null)return l;let M=s.statusText||"OK",R=new nr(s.getAllResponseHeaders()),j=Xx(s)||n.url;return l=new zl({headers:R,status:s.status,statusText:M,url:j}),l},h=()=>{let{headers:M,status:R,statusText:j,url:P}=d(),Q=null;R!==Hx&&(Q=typeof s.response>"u"?s.responseText:s.response),R===0&&(R=Q?fy:0);let Se=R>=200&&R<300;if(n.responseType==="json"&&typeof Q=="string"){let Oe=Q;Q=Q.replace(Jx,"");try{Q=Q!==""?JSON.parse(Q):null}catch(He){Q=Oe,Se&&(Se=!1,Q={error:He,text:Q})}}Se?(o.next(new li({body:Q,headers:M,status:R,statusText:j,url:P||void 0})),o.complete()):o.error(new kr({error:Q,headers:M,status:R,statusText:j,url:P||void 0}))},m=M=>{let{url:R}=d(),j=new kr({error:M,status:s.status||0,statusText:s.statusText||"Unknown Error",url:R||void 0});o.error(j)},y=!1,_=M=>{y||(o.next(d()),y=!0);let R={type:Nr.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(R.total=M.total),n.responseType==="text"&&s.responseText&&(R.partialText=s.responseText),o.next(R)},x=M=>{let R={type:Nr.UploadProgress,loaded:M.loaded};M.lengthComputable&&(R.total=M.total),o.next(R)};return s.addEventListener("load",h),s.addEventListener("error",m),s.addEventListener("timeout",m),s.addEventListener("abort",m),n.reportProgress&&(s.addEventListener("progress",_),a!==null&&s.upload&&s.upload.addEventListener("progress",x)),s.send(a),o.next({type:Nr.Sent}),()=>{s.removeEventListener("error",m),s.removeEventListener("abort",m),s.removeEventListener("load",h),s.removeEventListener("timeout",m),n.reportProgress&&(s.removeEventListener("progress",_),a!==null&&s.upload&&s.upload.removeEventListener("progress",x)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||e)(ue(to))}}static{this.\u0275prov=B({token:e,factory:e.\u0275fac})}}return e})(),py=new Y(""),eI="XSRF-TOKEN",tI=new Y("",{providedIn:"root",factory:()=>eI}),nI="X-XSRF-TOKEN",rI=new Y("",{providedIn:"root",factory:()=>nI}),Gl=class{},iI=(()=>{class e{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=jl(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||e)(ue(Bt),ue(Ir),ue(tI))}}static{this.\u0275prov=B({token:e,factory:e.\u0275fac})}}return e})();function oI(e,t){let n=e.url.toLowerCase();if(!b(py)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return t(e);let r=b(Gl).getToken(),i=b(rI);return r!=null&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),t(e)}var hy=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(hy||{});function sI(e,t){return{\u0275kind:e,\u0275providers:t}}function my(...e){let t=[wn,dy,uy,{provide:rs,useExisting:uy},{provide:Hl,useFactory:()=>b(qx,{optional:!0})??b(dy)},{provide:tp,useValue:oI,multi:!0},{provide:py,useValue:!0},{provide:Gl,useClass:iI}];for(let n of e)t.push(...n.\u0275providers);return Qi(t)}function gy(e){return sI(hy.Interceptors,e.map(t=>({provide:tp,useValue:t,multi:!0})))}var ip=class extends Ll{constructor(){super(...arguments),this.supportsDOMEvents=!0}},op=class e extends ip{static makeCurrent(){Y0(new e)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=lI();return n==null?null:cI(n)}resetBaseElement(){os=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return jl(document.cookie,t)}},os=null;function lI(){return os=os||document.querySelector("base"),os?os.getAttribute("href"):null}function cI(e){return new URL(e,document.baseURI).pathname}var uI=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=B({token:e,factory:e.\u0275fac})}}return e})(),sp=new Y(""),Cy=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new K(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||e)(ue(sp),ue(Xe))}}static{this.\u0275prov=B({token:e,factory:e.\u0275fac})}}return e})(),ql=class{constructor(t){this._doc=t}},np="ng-app-id",by=(()=>{class e{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Bl(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${np}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(np),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(np,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||e)(ue(Bt),ue(If),ue(Ff,8),ue(Ir))}}static{this.\u0275prov=B({token:e,factory:e.\u0275fac})}}return e})(),rp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},lp=/%COMP%/g,Ey="%COMP%",dI=`_nghost-${Ey}`,fI=`_ngcontent-${Ey}`,pI=!0,hI=new Y("",{providedIn:"root",factory:()=>pI});function mI(e){return fI.replace(lp,e)}function gI(e){return dI.replace(lp,e)}function wy(e,t){return t.map(n=>n.replace(lp,e))}var vy=(()=>{class e{constructor(n,r,i,o,s,a,l,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Bl(a),this.defaultRenderer=new ss(n,s,l,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Fn.ShadowDom&&(r=we(O({},r),{encapsulation:Fn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Wl?i.applyToHost(n):i instanceof as&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case Fn.Emulated:o=new Wl(l,d,r,this.appId,h,s,a,m);break;case Fn.ShadowDom:return new ap(l,d,n,r,s,a,this.nonce,m);default:o=new as(l,d,r,h,s,a,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||e)(ue(Cy),ue(by),ue(If),ue(hI),ue(Bt),ue(Ir),ue(Xe),ue(Ff))}}static{this.\u0275prov=B({token:e,factory:e.\u0275fac})}}return e})(),ss=class{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(rp[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(yy(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(yy(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new K(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=rp[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=rp[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(zn.DashCase|zn.Important)?t.style.setProperty(n,r,i&zn.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&zn.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r){if(typeof t=="string"&&(t=tr().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function yy(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var ap=class extends ss{constructor(t,n,r,i,o,s,a,l){super(t,o,s,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=wy(i.id,i.styles);for(let h of d){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=h,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},as=class extends ss{constructor(t,n,r,i,o,s,a,l){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?wy(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Wl=class extends as{constructor(t,n,r,i,o,s,a,l){let d=i+"-"+r.id;super(t,n,r,o,s,a,l,d),this.contentAttr=mI(d),this.hostAttr=gI(d)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}},vI=(()=>{class e extends ql{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||e)(ue(Bt))}}static{this.\u0275prov=B({token:e,factory:e.\u0275fac})}}return e})(),_y=["alt","control","meta","shift"],yI={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_I={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},CI=(()=>{class e extends ql{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i){let o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>tr().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),_y.forEach(d=>{let h=r.indexOf(d);h>-1&&(r.splice(h,1),s+=d+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=yI[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),_y.forEach(s=>{if(s!==i){let a=_I[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||e)(ue(Bt))}}static{this.\u0275prov=B({token:e,factory:e.\u0275fac})}}return e})();function Sy(e,t){return G0(O({rootComponent:e},bI(t)))}function bI(e){return{appProviders:[...xI,...e?.providers??[]],platformProviders:DI}}function EI(){op.makeCurrent()}function wI(){return new Hn}function SI(){return kv(document),document}var DI=[{provide:Ir,useValue:ry},{provide:Tf,useValue:EI,multi:!0},{provide:Bt,useFactory:SI,deps:[]}];var xI=[{provide:dl,useValue:"root"},{provide:Hn,useFactory:wI,deps:[]},{provide:sp,useClass:vI,multi:!0,deps:[Bt,Xe,Ir]},{provide:sp,useClass:CI,multi:!0,deps:[Bt]},vy,by,Cy,{provide:Wi,useExisting:vy},{provide:to,useClass:uI,deps:[]},[]];var Dy=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||e)(ue(Bt))}}static{this.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var he="primary",ws=Symbol("RouteTitle"),pp=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function lo(e){return new pp(e)}function TI(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function FI(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!On(e[n],t[n]))return!1;return!0}function On(e,t){let n=e?hp(e):void 0,r=t?hp(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Ny(e[i],t[i]))return!1;return!0}function hp(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Ny(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function Oy(e){return e.length>0?e[e.length-1]:null}function Or(e){return Vu(e)?e:oi(e)?ze(Promise.resolve(e)):ne(e)}var AI={exact:Py,subset:Ly},Ry={exact:MI,subset:kI,ignored:()=>!0};function xy(e,t,n){return AI[n.paths](e.root,t.root,n.matrixParams)&&Ry[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function MI(e,t){return On(e,t)}function Py(e,t,n){if(!ui(e.segments,t.segments)||!Yl(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!Py(e.children[r],t.children[r],n))return!1;return!0}function kI(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Ny(e[n],t[n]))}function Ly(e,t,n){return Vy(e,t,t.segments,n)}function Vy(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!ui(i,n)||t.hasChildren()||!Yl(i,n,r))}else if(e.segments.length===n.length){if(!ui(e.segments,n)||!Yl(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!Ly(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!ui(e.segments,i)||!Yl(e.segments,i,r)||!e.children[he]?!1:Vy(e.children[he],t,o,r)}}function Yl(e,t,n){return t.every((r,i)=>Ry[n](e[i].parameters,r.parameters))}var ir=class{constructor(t=new Te([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=lo(this.queryParams),this._queryParamMap}toString(){return RI.serialize(this)}},Te=class{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Kl(this)}},ci=class{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=lo(this.parameters),this._parameterMap}toString(){return jy(this)}};function NI(e,t){return ui(e,t)&&e.every((n,r)=>On(n.parameters,t[r].parameters))}function ui(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function OI(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===he&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==he&&(n=n.concat(t(i,r)))}),n}var jp=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=B({token:e,factory:()=>new hs,providedIn:"root"})}}return e})(),hs=class{parse(t){let n=new gp(t);return new ir(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${ls(t.root,!0)}`,r=VI(t.queryParams),i=typeof t.fragment=="string"?`#${PI(t.fragment)}`:"";return`${n}${r}${i}`}},RI=new hs;function Kl(e){return e.segments.map(t=>jy(t)).join("/")}function ls(e,t){if(!e.hasChildren())return Kl(e);if(t){let n=e.children[he]?ls(e.children[he],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==he&&r.push(`${i}:${ls(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=OI(e,(r,i)=>i===he?[ls(e.children[he],!1)]:[`${i}:${ls(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[he]!=null?`${Kl(e)}/${n[0]}`:`${Kl(e)}/(${n.join("//")})`}}function Uy(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zl(e){return Uy(e).replace(/%3B/gi,";")}function PI(e){return encodeURI(e)}function mp(e){return Uy(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jl(e){return decodeURIComponent(e)}function Iy(e){return Jl(e.replace(/\+/g,"%20"))}function jy(e){return`${mp(e.path)}${LI(e.parameters)}`}function LI(e){return Object.entries(e).map(([t,n])=>`;${mp(t)}=${mp(n)}`).join("")}function VI(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Zl(n)}=${Zl(i)}`).join("&"):`${Zl(n)}=${Zl(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var UI=/^[^\/()?;#]+/;function cp(e){let t=e.match(UI);return t?t[0]:""}var jI=/^[^\/()?;=#]+/;function BI(e){let t=e.match(jI);return t?t[0]:""}var $I=/^[^=?&#]+/;function HI(e){let t=e.match($I);return t?t[0]:""}var zI=/^[^&#]+/;function GI(e){let t=e.match(zI);return t?t[0]:""}var gp=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Te([],{}):new Te([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[he]=new Te(t,n)),r}parseSegment(){let t=cp(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new K(4009,!1);return this.capture(t),new ci(Jl(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=BI(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=cp(this.remaining);i&&(r=i,this.capture(r))}t[Jl(n)]=Jl(r)}parseQueryParam(t){let n=HI(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=GI(this.remaining);s&&(r=s,this.capture(r))}let i=Iy(n),o=Iy(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=cp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new K(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=he);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[he]:new Te([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new K(4011,!1)}};function By(e){return e.segments.length>0?new Te([],{[he]:e}):e}function $y(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=$y(i);if(r===he&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new Te(e.segments,t);return qI(n)}function qI(e){if(e.numberOfChildren===1&&e.children[he]){let t=e.children[he];return new Te(e.segments.concat(t.segments),t.children)}return e}function di(e){return e instanceof ir}function WI(e,t,n=null,r=null){let i=Hy(e);return zy(i,t,n,r)}function Hy(e){let t;function n(o){let s={};for(let l of o.children){let d=n(l);s[l.outlet]=d}let a=new Te(o.url,s);return o===e&&(t=a),a}let r=n(e.root),i=By(r);return t??i}function zy(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return up(i,i,i,n,r);let o=ZI(t);if(o.toRoot())return up(i,i,new Te([],{}),n,r);let s=QI(o,i,e),a=s.processChildren?ds(s.segmentGroup,s.index,o.commands):qy(s.segmentGroup,s.index,o.commands);return up(i,s.segmentGroup,a,n,r)}function Xl(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function ms(e){return typeof e=="object"&&e!=null&&e.outlets}function up(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([l,d])=>{o[l]=Array.isArray(d)?d.map(h=>`${h}`):`${d}`});let s;e===t?s=n:s=Gy(e,t,n);let a=By($y(s));return new ir(a,o,i)}function Gy(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=Gy(o,t,n)}),new Te(e.segments,r)}var ec=class{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Xl(r[0]))throw new K(4003,!1);let i=r.find(ms);if(i&&i!==Oy(r))throw new K(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function ZI(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new ec(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,d])=>{a[l]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new ec(n,t,r)}var oo=class{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function QI(e,t,n){if(e.isAbsolute)return new oo(t,!0,0);if(!n)return new oo(t,!1,NaN);if(n.parent===null)return new oo(n,!0,0);let r=Xl(e.commands[0])?0:1,i=n.segments.length-1+r;return YI(n,i,e.numberOfDoubleDots)}function YI(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new K(4005,!1);i=r.segments.length}return new oo(r,!1,i-o)}function KI(e){return ms(e[0])?e[0].outlets:{[he]:e}}function qy(e,t,n){if(e??=new Te([],{}),e.segments.length===0&&e.hasChildren())return ds(e,t,n);let r=JI(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new Te(e.segments.slice(0,r.pathIndex),{});return o.children[he]=new Te(e.segments.slice(r.pathIndex),e.children),ds(o,0,i)}else return r.match&&i.length===0?new Te(e.segments,{}):r.match&&!e.hasChildren()?vp(e,t,n):r.match?ds(e,0,i):vp(e,t,n)}function ds(e,t,n){if(n.length===0)return new Te(e.segments,{});{let r=KI(n),i={};if(Object.keys(r).some(o=>o!==he)&&e.children[he]&&e.numberOfChildren===1&&e.children[he].segments.length===0){let o=ds(e.children[he],t,n);return new Te(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=qy(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Te(e.segments,i)}}function JI(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],a=n[r];if(ms(a))break;let l=`${a}`,d=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&d&&typeof d=="object"&&d.outlets===void 0){if(!Fy(l,d,s))return o;r+=2}else{if(!Fy(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function vp(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(ms(o)){let l=XI(o.outlets);return new Te(r,l)}if(i===0&&Xl(n[0])){let l=e.segments[t];r.push(new ci(l.path,Ty(n[0]))),i++;continue}let s=ms(o)?o.outlets[he]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Xl(a)?(r.push(new ci(s,Ty(a))),i+=2):(r.push(new ci(s,{})),i++)}return new Te(r,{})}function XI(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=vp(new Te([],{}),0,r))}),t}function Ty(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function Fy(e,t,n){return e==n.path&&On(t,n.parameters)}var fs="imperative",vt=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(vt||{}),un=class{constructor(t,n){this.id=t,this.url=n}},gs=class extends un{constructor(t,n,r="imperative",i=null){super(t,n),this.type=vt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},or=class extends un{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=vt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Xt=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Xt||{}),yp=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(yp||{}),rr=class extends un{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=vt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},fi=class extends un{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=vt.NavigationSkipped}},vs=class extends un{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=vt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},tc=class extends un{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=vt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_p=class extends un{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=vt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cp=class extends un{constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=vt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},bp=class extends un{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=vt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ep=class extends un{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=vt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wp=class{constructor(t){this.route=t,this.type=vt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Sp=class{constructor(t){this.route=t,this.type=vt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Dp=class{constructor(t){this.snapshot=t,this.type=vt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xp=class{constructor(t){this.snapshot=t,this.type=vt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ip=class{constructor(t){this.snapshot=t,this.type=vt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tp=class{constructor(t){this.snapshot=t,this.type=vt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ys=class{},co=class{constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function eT(e,t){return e.providers&&!e._injector&&(e._injector=Hf(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Sn(e){return e.outlet||he}function tT(e,t){let n=e.filter(r=>Sn(r)===t);return n.push(...e.filter(r=>Sn(r)!==t)),n}function Ss(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Fp=class{get injector(){return Ss(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new cc(this.rootInjector),this.attachRef=null}},cc=(()=>{class e{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Fp(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||e)(ue(Lt))}}static{this.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),nc=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=Ap(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=Ap(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Mp(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Mp(t,this._root).map(n=>n.value)}};function Ap(e,t){if(e===t.value)return t;for(let n of t.children){let r=Ap(e,n);if(r)return r}return null}function Mp(e,t){if(e===t.value)return[t];for(let n of t.children){let r=Mp(e,n);if(r.length)return r.unshift(t),r}return[]}var Jt=class{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function io(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var rc=class extends nc{constructor(t,n){super(t),this.snapshot=n,Bp(this,t)}toString(){return this.snapshot.toString()}};function Wy(e){let t=nT(e),n=new rt([new ci("",{})]),r=new rt({}),i=new rt({}),o=new rt({}),s=new rt(""),a=new gt(n,r,o,s,i,he,e,t.root);return a.snapshot=t.root,new rc(new Jt(a,[]),t)}function nT(e){let t={},n={},r={},i="",o=new so([],t,r,i,n,he,e,null,{});return new oc("",new Jt(o,[]))}var gt=class{constructor(t,n,r,i,o,s,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(re(d=>d[ws]))??ne(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(re(t=>lo(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(re(t=>lo(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ic(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:O(O({},t.params),e.params),data:O(O({},t.data),e.data),resolve:O(O(O(O({},e.data),t.data),i?.data),e._resolvedData)}:r={params:O({},e.params),data:O({},e.data),resolve:O(O({},e.data),e._resolvedData??{})},i&&Qy(i)&&(r.resolve[ws]=i.title),r}var so=class{get title(){return this.data?.[ws]}constructor(t,n,r,i,o,s,a,l,d){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=lo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=lo(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},oc=class extends nc{constructor(t,n){super(n),this.url=t,Bp(this,n)}toString(){return Zy(this._root)}};function Bp(e,t){t.value._routerState=e,t.children.forEach(n=>Bp(e,n))}function Zy(e){let t=e.children.length>0?` { ${e.children.map(Zy).join(", ")} } `:"";return`${e.value}${t}`}function dp(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,On(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),On(t.params,n.params)||e.paramsSubject.next(n.params),FI(t.url,n.url)||e.urlSubject.next(n.url),On(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function kp(e,t){let n=On(e.params,t.params)&&NI(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||kp(e.parent,t.parent))}function Qy(e){return typeof e.title=="string"||e.title===null}var Ds=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=he,this.activateEvents=new Ge,this.deactivateEvents=new Ge,this.attachEvents=new Ge,this.detachEvents=new Ge,this.parentContexts=b(cc),this.location=b(Xi),this.changeDetector=b(si),this.inputBinder=b($p,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new K(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new K(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new K(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new K(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Np(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=et({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Qn]})}}return e})(),Np=class e{__ngOutletInjector(t){return new e(this.route,this.childContexts,t)}constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===gt?this.route:t===cc?this.childContexts:this.parent.get(t,n)}},$p=new Y("");function rT(e,t,n){let r=_s(e,t._root,n?n._root:void 0);return new rc(r,t)}function _s(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=iT(e,t,n);return new Jt(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>_s(e,a)),s}}let r=oT(t.value),i=t.children.map(o=>_s(e,o));return new Jt(r,i)}}function iT(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return _s(e,r,i);return _s(e,r)})}function oT(e){return new gt(new rt(e.url),new rt(e.params),new rt(e.queryParams),new rt(e.fragment),new rt(e.data),e.outlet,e.component,e)}var Cs=class{constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},Yy="ngNavigationCancelingError";function sc(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=di(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=Ky(!1,Xt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Ky(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[Yy]=!0,n.cancellationCode=t,n}function sT(e){return Jy(e)&&di(e.url)}function Jy(e){return!!e&&e[Yy]}var aT=(e,t,n,r)=>re(i=>(new Op(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),Op=class{constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),dp(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=io(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=io(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=io(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=io(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Tp(o.value.snapshot))}),t.children.length&&this.forwardEvent(new xp(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(dp(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),dp(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},ac=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},ao=class{constructor(t,n){this.component=t,this.route=n}};function lT(e,t,n){let r=e._root,i=t?t._root:null;return cs(r,i,n,[r.value])}function cT(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function fo(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!hg(e)?e:t.get(e):r}function cs(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=io(t);return e.children.forEach(s=>{uT(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ps(a,n.getContext(s),i)),i}function uT(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=dT(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new ac(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?cs(e,t,a?a.children:null,r,i):cs(e,t,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ao(a.outlet.component,s))}else s&&ps(t,a,i),i.canActivateChecks.push(new ac(r)),o.component?cs(e,null,a?a.children:null,r,i):cs(e,null,n,r,i);return i}function dT(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!ui(e.url,t.url);case"pathParamsOrQueryParamsChange":return!ui(e.url,t.url)||!On(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kp(e,t)||!On(e.queryParams,t.queryParams);case"paramsChange":default:return!kp(e,t)}}function ps(e,t,n){let r=io(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?ps(s,t.children.getContext(o),n):ps(s,null,n):ps(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new ao(t.outlet.component,i)):n.canDeactivateChecks.push(new ao(null,i)):n.canDeactivateChecks.push(new ao(null,i))}function xs(e){return typeof e=="function"}function fT(e){return typeof e=="boolean"}function pT(e){return e&&xs(e.canLoad)}function hT(e){return e&&xs(e.canActivate)}function mT(e){return e&&xs(e.canActivateChild)}function gT(e){return e&&xs(e.canDeactivate)}function vT(e){return e&&xs(e.canMatch)}function Xy(e){return e instanceof Bn||e?.name==="EmptyError"}var Ql=Symbol("INITIAL_VALUE");function uo(){return Ct(e=>wa(e.map(t=>t.pipe(on(1),Gu(Ql)))).pipe(re(t=>{for(let n of t)if(n!==!0){if(n===Ql)return Ql;if(n===!1||yT(n))return n}return!0}),qt(t=>t!==Ql),on(1)))}function yT(e){return di(e)||e instanceof Cs}function _T(e,t){return dt(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?ne(we(O({},n),{guardsResult:!0})):CT(s,r,i,e).pipe(dt(a=>a&&fT(a)?bT(r,o,e,t):ne(a)),re(a=>we(O({},n),{guardsResult:a})))})}function CT(e,t,n,r){return ze(e).pipe(dt(i=>xT(i.component,i.route,n,t,r)),xn(i=>i!==!0,!0))}function bT(e,t,n,r){return ze(t).pipe(gr(i=>Fi(wT(i.route.parent,r),ET(i.route,r),DT(e,i.path,n),ST(e,i.route,n))),xn(i=>i!==!0,!0))}function ET(e,t){return e!==null&&t&&t(new Ip(e)),ne(!0)}function wT(e,t){return e!==null&&t&&t(new Dp(e)),ne(!0)}function ST(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return ne(!0);let i=r.map(o=>Sa(()=>{let s=Ss(t)??n,a=fo(o,s),l=hT(a)?a.canActivate(t,e):Cn(s,()=>a(t,e));return Or(l).pipe(xn())}));return ne(i).pipe(uo())}function DT(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>cT(s)).filter(s=>s!==null).map(s=>Sa(()=>{let a=s.guards.map(l=>{let d=Ss(s.node)??n,h=fo(l,d),m=mT(h)?h.canActivateChild(r,e):Cn(d,()=>h(r,e));return Or(m).pipe(xn())});return ne(a).pipe(uo())}));return ne(o).pipe(uo())}function xT(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return ne(!0);let s=o.map(a=>{let l=Ss(t)??i,d=fo(a,l),h=gT(d)?d.canDeactivate(e,t,n,r):Cn(l,()=>d(e,t,n,r));return Or(h).pipe(xn())});return ne(s).pipe(uo())}function IT(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return ne(!0);let o=i.map(s=>{let a=fo(s,e),l=pT(a)?a.canLoad(t,n):Cn(e,()=>a(t,n));return Or(l)});return ne(o).pipe(uo(),e_(r))}function e_(e){return Ou(it(t=>{if(typeof t!="boolean")throw sc(e,t)}),re(t=>t===!0))}function TT(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return ne(!0);let o=i.map(s=>{let a=fo(s,e),l=vT(a)?a.canMatch(t,n):Cn(e,()=>a(t,n));return Or(l)});return ne(o).pipe(uo(),e_(r))}var bs=class{constructor(t){this.segmentGroup=t||null}},Es=class extends Error{constructor(t){super(),this.urlTree=t}};function ro(e){return rn(new bs(e))}function FT(e){return rn(new K(4e3,!1))}function AT(e){return rn(Ky(!1,Xt.GuardRejected))}var Rp=class{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ne(r);if(i.numberOfChildren>1||!i.children[he])return FT(`${t.redirectTo}`);i=i.children[he]}}applyRedirectCommands(t,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:l,fragment:d,routeConfig:h,url:m,outlet:y,params:_,data:x,title:M}=i,R=Cn(o,()=>a({params:_,data:x,queryParams:l,fragment:d,routeConfig:h,url:m,outlet:y,title:M}));if(R instanceof ir)throw new Es(R);n=R}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n[0]==="/")throw new Es(s);return s}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new ir(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,r,i)}),new Te(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new K(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}},Pp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function MT(e,t,n,r,i){let o=t_(e,t,n);return o.matched?(r=eT(t,r),TT(r,t,n,i).pipe(re(s=>s===!0?o:O({},Pp)))):ne(o)}function t_(e,t,n){if(t.path==="**")return kT(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?O({},Pp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||TI)(n,e,t);if(!i)return O({},Pp);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?O(O({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function kT(e){return{matched:!0,parameters:e.length>0?Oy(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Ay(e,t,n,r){return n.length>0&&RT(e,n,r)?{segmentGroup:new Te(t,OT(r,new Te(n,e.children))),slicedSegments:[]}:n.length===0&&PT(e,n,r)?{segmentGroup:new Te(e.segments,NT(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new Te(e.segments,e.children),slicedSegments:n}}function NT(e,t,n,r){let i={};for(let o of n)if(uc(e,t,o)&&!r[Sn(o)]){let s=new Te([],{});i[Sn(o)]=s}return O(O({},r),i)}function OT(e,t){let n={};n[he]=t;for(let r of e)if(r.path===""&&Sn(r)!==he){let i=new Te([],{});n[Sn(r)]=i}return n}function RT(e,t,n){return n.some(r=>uc(e,t,r)&&Sn(r)!==he)}function PT(e,t,n){return n.some(r=>uc(e,t,r))}function uc(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function LT(e,t,n){return t.length===0&&!e.children[n]}var Lp=class{};function VT(e,t,n,r,i,o,s="emptyOnly"){return new Vp(e,t,n,r,i,s,o).recognize()}var UT=31,Vp=class{constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Rp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new K(4002,`'${t.segmentGroup}'`)}recognize(){let t=Ay(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(re(({children:n,rootSnapshot:r})=>{let i=new Jt(r,n),o=new oc("",i),s=WI(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new so([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),he,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,he,n).pipe(re(r=>({children:r,rootSnapshot:n})),Dt(r=>{if(r instanceof Es)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof bs?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,o):this.processSegment(t,n,r,r.segments,i,!0,o).pipe(re(s=>s instanceof Jt?[s]:[]))}processChildren(t,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ze(o).pipe(gr(s=>{let a=r.children[s],l=tT(n,s);return this.processSegmentGroup(t,l,a,s,i)}),$u((s,a)=>(s.push(...a),s)),vr(null),Bu(),dt(s=>{if(s===null)return ro(r);let a=n_(s);return jT(a),ne(a)}))}processSegment(t,n,r,i,o,s,a){return ze(n).pipe(gr(l=>this.processSegmentAgainstRoute(l._injector??t,n,l,r,i,o,s,a).pipe(Dt(d=>{if(d instanceof bs)return ne(null);throw d}))),xn(l=>!!l),Dt(l=>{if(Xy(l))return LT(r,i,o)?ne(new Lp):ro(r);throw l}))}processSegmentAgainstRoute(t,n,r,i,o,s,a,l){return Sn(r)!==s&&(s===he||!uc(i,o,r))?ro(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s,l):ro(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s,a){let{matched:l,parameters:d,consumedSegments:h,positionalParamSegments:m,remainingSegments:y}=t_(n,i,o);if(!l)return ro(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>UT&&(this.allowRedirects=!1));let _=new so(o,d,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,My(i),Sn(i),i.component??i._loadedComponent??null,i,ky(i)),x=ic(_,a,this.paramsInheritanceStrategy);_.params=Object.freeze(x.params),_.data=Object.freeze(x.data);let M=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,m,_,t);return this.applyRedirects.lineralizeSegments(i,M).pipe(dt(R=>this.processSegment(t,r,n,R.concat(y),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let a=MT(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Ct(l=>l.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(Ct(({routes:d})=>{let h=r._loadedInjector??t,{parameters:m,consumedSegments:y,remainingSegments:_}=l,x=new so(y,m,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,My(r),Sn(r),r.component??r._loadedComponent??null,r,ky(r)),M=ic(x,s,this.paramsInheritanceStrategy);x.params=Object.freeze(M.params),x.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:j}=Ay(n,y,_,d);if(j.length===0&&R.hasChildren())return this.processChildren(h,d,R,x).pipe(re(Q=>new Jt(x,Q)));if(d.length===0&&j.length===0)return ne(new Jt(x,[]));let P=Sn(r)===o;return this.processSegment(h,d,R,j,P?he:o,!0,x).pipe(re(Q=>new Jt(x,Q instanceof Jt?[Q]:[])))}))):ro(n)))}getChildConfig(t,n,r){return n.children?ne({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?ne({routes:n._loadedRoutes,injector:n._loadedInjector}):IT(t,n,r,this.urlSerializer).pipe(dt(i=>i?this.configLoader.loadChildren(t,n).pipe(it(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):AT(n))):ne({routes:[],injector:t})}};function jT(e){e.sort((t,n)=>t.value.outlet===he?-1:n.value.outlet===he?1:t.value.outlet.localeCompare(n.value.outlet))}function BT(e){let t=e.value.routeConfig;return t&&t.path===""}function n_(e){let t=[],n=new Set;for(let r of e){if(!BT(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=n_(r.children);t.push(new Jt(r.value,i))}return t.filter(r=>!n.has(r))}function My(e){return e.data||{}}function ky(e){return e.resolve||{}}function $T(e,t,n,r,i,o){return dt(s=>VT(e,t,n,r,s.extractedUrl,i,o).pipe(re(({state:a,tree:l})=>we(O({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function HT(e,t){return dt(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ne(n);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let d of r_(l))s.add(d);let a=0;return ze(s).pipe(gr(l=>o.has(l)?zT(l,r,e,t):(l.data=ic(l,l.parent,e).resolve,ne(void 0))),it(()=>a++),Ai(1),dt(l=>a===s.size?ne(n):Gt))})}function r_(e){let t=e.children.map(n=>r_(n)).flat();return[e,...t]}function zT(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!Qy(i)&&(o[ws]=i.title),GT(o,e,t,r).pipe(re(s=>(e._resolvedData=s,e.data=ic(e,e.parent,n).resolve,null)))}function GT(e,t,n,r){let i=hp(e);if(i.length===0)return ne({});let o={};return ze(i).pipe(dt(s=>qT(e[s],t,n,r).pipe(xn(),it(a=>{if(a instanceof Cs)throw sc(new hs,a);o[s]=a}))),Ai(1),ju(o),Dt(s=>Xy(s)?Gt:rn(s)))}function qT(e,t,n,r){let i=Ss(t)??r,o=fo(e,i),s=o.resolve?o.resolve(t,n):Cn(i,()=>o(t,n));return Or(s)}function fp(e){return Ct(t=>{let n=e(t);return n?ze(n).pipe(re(()=>t)):ne(t)})}var i_=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===he);return r}getResolvedTitleForRoute(n){return n.data[ws]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=B({token:e,factory:()=>b(WT),providedIn:"root"})}}return e})(),WT=(()=>{class e extends i_{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||e)(ue(Dy))}}static{this.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Hp=new Y("",{providedIn:"root",factory:()=>({})}),ZT=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=H({type:e,selectors:[["ng-component"]],standalone:!0,features:[W],decls:1,vars:0,template:function(r,i){r&1&&C(0,"router-outlet")},dependencies:[Ds],encapsulation:2})}}return e})();function zp(e){let t=e.children&&e.children.map(zp),n=t?we(O({},e),{children:t}):O({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==he&&(n.component=ZT),n}var Gp=new Y(""),QT=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=b(Gf)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ne(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Or(n.loadComponent()).pipe(re(o_),it(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),zr(()=>{this.componentLoaders.delete(n)})),i=new Ii(r,()=>new V).pipe(xi());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ne({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=YT(r,this.compiler,n,this.onLoadEndListener).pipe(zr(()=>{this.childrenLoaders.delete(r)})),s=new Ii(o,()=>new V).pipe(xi());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function YT(e,t,n,r){return Or(e.loadChildren()).pipe(re(o_),dt(i=>i instanceof Ho||Array.isArray(i)?ne(i):ze(t.compileModuleAsync(i))),re(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Gp,[],{optional:!0,self:!0}).flat()),{routes:s.map(zp),injector:o}}))}function KT(e){return e&&typeof e=="object"&&"default"in e}function o_(e){return KT(e)?e.default:e}var qp=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=B({token:e,factory:()=>b(JT),providedIn:"root"})}}return e})(),JT=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),XT=new Y("");var eF=new Y(""),tF=(()=>{class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new V,this.transitionAbortSubject=new V,this.configLoader=b(QT),this.environmentInjector=b(Lt),this.urlSerializer=b(jp),this.rootContexts=b(cc),this.location=b(ts),this.inputBindingEnabled=b($p,{optional:!0})!==null,this.titleStrategy=b(i_),this.options=b(Hp,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=b(qp),this.createViewTransition=b(XT,{optional:!0}),this.navigationErrorHandler=b(eF,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ne(void 0),this.rootComponentType=null;let n=i=>this.events.next(new wp(i)),r=i=>this.events.next(new Sp(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(we(O(O({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new rt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:fs,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(qt(o=>o.id!==0),re(o=>we(O({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ct(o=>{let s=!1,a=!1;return ne(o).pipe(Ct(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Xt.SupersededByNewNavigation),Gt;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?we(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=l.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!d&&h!=="reload"){let m="";return this.events.next(new fi(l.id,this.urlSerializer.serialize(l.rawUrl),m,yp.IgnoredSameUrlNavigation)),l.resolve(!1),Gt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ne(l).pipe(Ct(m=>{let y=this.transitions?.getValue();return this.events.next(new gs(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),y!==this.transitions?.getValue()?Gt:Promise.resolve(m)}),$T(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),it(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=we(O({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let y=new tc(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:y,source:_,restoredState:x,extras:M}=l,R=new gs(m,this.urlSerializer.serialize(y),_,x);this.events.next(R);let j=Wy(this.rootComponentType).snapshot;return this.currentTransition=o=we(O({},l),{targetSnapshot:j,urlAfterRedirects:y,extras:we(O({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,ne(o)}else{let m="";return this.events.next(new fi(l.id,this.urlSerializer.serialize(l.extractedUrl),m,yp.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Gt}}),it(l=>{let d=new _p(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),re(l=>(this.currentTransition=o=we(O({},l),{guards:lT(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),_T(this.environmentInjector,l=>this.events.next(l)),it(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw sc(this.urlSerializer,l.guardsResult);let d=new Cp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(d)}),qt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Xt.GuardRejected),!1)),fp(l=>{if(l.guards.canActivateChecks.length)return ne(l).pipe(it(d=>{let h=new bp(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}),Ct(d=>{let h=!1;return ne(d).pipe(HT(this.paramsInheritanceStrategy,this.environmentInjector),it({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(d,"",Xt.NoDataFromResolver)}}))}),it(d=>{let h=new Ep(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}))}),fp(l=>{let d=h=>{let m=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(h.routeConfig).pipe(it(y=>{h.component=y}),re(()=>{})));for(let y of h.children)m.push(...d(y));return m};return wa(d(l.targetSnapshot.root)).pipe(vr(null),on(1))}),fp(()=>this.afterPreactivation()),Ct(()=>{let{currentSnapshot:l,targetSnapshot:d}=o,h=this.createViewTransition?.(this.environmentInjector,l.root,d.root);return h?ze(h).pipe(re(()=>o)):ne(o)}),re(l=>{let d=rT(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=we(O({},l),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),it(()=>{this.events.next(new ys)}),aT(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),on(1),it({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new or(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),F(this.transitionAbortSubject.pipe(it(l=>{throw l}))),zr(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Xt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Dt(l=>{if(a=!0,Jy(l))this.events.next(new rr(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),sT(l)?this.events.next(new co(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let d=new vs(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let h=Cn(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(h instanceof Cs){let{message:m,cancellationCode:y}=sc(this.urlSerializer,h);this.events.next(new rr(o.id,this.urlSerializer.serialize(o.extractedUrl),m,y)),this.events.next(new co(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(d);let m=n.errorHandler(l);o.resolve(!!m)}}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return Gt}))}))}cancelNavigationTransition(n,r,i){let o=new rr(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function nF(e){return e!==fs}var rF=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=B({token:e,factory:()=>b(iF),providedIn:"root"})}}return e})(),Up=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},iF=(()=>{class e extends Up{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Yn(e)))(i||e)}})()}static{this.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),s_=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=B({token:e,factory:()=>b(oF),providedIn:"root"})}}return e})(),oF=(()=>{class e extends s_{constructor(){super(...arguments),this.location=b(ts),this.urlSerializer=b(jp),this.options=b(Hp,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=b(qp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ir,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Wy(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof gs)this.stateMemento=this.createStateMemento();else if(n instanceof fi)this.rawUrlTree=r.initialUrl;else if(n instanceof tc){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof ys?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof rr&&(n.code===Xt.GuardRejected||n.code===Xt.NoDataFromResolver)?this.restoreHistory(r):n instanceof vs?this.restoreHistory(r,!0):n instanceof or&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof ir?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=O(O({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=O(O({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Yn(e)))(i||e)}})()}static{this.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),us=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(us||{});function sF(e,t){e.events.pipe(qt(n=>n instanceof or||n instanceof rr||n instanceof vs||n instanceof fi),re(n=>n instanceof or||n instanceof fi?us.COMPLETE:(n instanceof rr?n.code===Xt.Redirect||n.code===Xt.SupersededByNewNavigation:!1)?us.REDIRECTING:us.FAILED),qt(n=>n!==us.REDIRECTING),on(1)).subscribe(()=>{t()})}function aF(e){throw e}var lF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},cF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ue=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=b(xl),this.stateManager=b(s_),this.options=b(Hp,{optional:!0})||{},this.pendingTasks=b(xr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=b(tF),this.urlSerializer=b(jp),this.location=b(ts),this.urlHandlingStrategy=b(qp),this._events=new V,this.errorHandler=this.options.errorHandler||aF,this.navigated=!1,this.routeReuseStrategy=b(rF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=b(Gp,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!b($p,{optional:!0}),this.eventsSubscription=new at,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof rr&&r.code!==Xt.Redirect&&r.code!==Xt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof or)this.navigated=!0;else if(r instanceof co){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=O({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||nF(i.source)},s);this.scheduleNavigation(a,fs,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}dF(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),fs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=O({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(zp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,d=l?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=O(O({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let m;try{let y=i?i.snapshot:this.routerState.snapshot.root;m=Hy(y)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),m=this.currentUrlTree.root}return zy(m,n,h,d??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=di(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,fs,null,r)}navigate(n,r={skipLocationChange:!1}){return uF(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=O({},lF):r===!1?i=O({},cF):i=r,di(n))return xy(this.currentUrlTree,n,i);let o=this.parseUrl(n);return xy(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,d;s?(a=s.resolve,l=s.reject,d=s.promise):d=new Promise((m,y)=>{a=m,l=y});let h=this.pendingTasks.add();return sF(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(m=>Promise.reject(m))}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function uF(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new K(4008,!1)}function dF(e){return!(e instanceof ys)&&!(e instanceof co)}var lc=(()=>{class e{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new V,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=n.events.subscribe(d=>{d instanceof or&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(di(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:Rv(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:di(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||e)(J(Ue),J(gt),Sf("tabindex"),J(Nn),J(Ut),J(no))}}static{this.\u0275dir=et({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&E("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Ft("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",eo],skipLocationChange:[2,"skipLocationChange","skipLocationChange",eo],replaceUrl:[2,"replaceUrl","replaceUrl",eo],routerLink:"routerLink"},standalone:!0,features:[$f,Qn]})}}return e})(),a_=(()=>{class e{get isActive(){return this._isActive}constructor(n,r,i,o,s){this.router=n,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ge,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof or&&this.update()})}ngAfterContentInit(){ne(this.links.changes,ne(null)).pipe(Ti()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=ze(n).pipe(Ti()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=fF(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?n.isActive(o,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static{this.\u0275fac=function(r){return new(r||e)(J(Ue),J(Ut),J(Nn),J(si),J(lc,8))}}static{this.\u0275dir=et({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&P0(o,lc,5),r&2){let s;Qe(s=Ye())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Qn]})}}return e})();function fF(e){return!!e.paths}var pF=new Y("");function l_(e,...t){return Qi([{provide:Gp,multi:!0,useValue:e},[],{provide:gt,useFactory:hF,deps:[Ue]},{provide:Il,multi:!0,useFactory:mF},t.map(n=>n.\u0275providers)])}function hF(e){return e.routerState.root}function mF(){let e=b(wr);return t=>{let n=e.get(Fr);if(t!==n.components[0])return;let r=e.get(Ue),i=e.get(gF);e.get(vF)===1&&r.initialNavigation(),e.get(yF,null,me.Optional)?.setUpPreloading(),e.get(pF,null,me.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var gF=new Y("",{factory:()=>new V}),vF=new Y("",{providedIn:"root",factory:()=>1});var yF=new Y("");var tt={apiUserUrl:"http://localhost:4000/user/",apiServiceUrl:"http://localhost:4000/service/",apiEventUrl:"http://localhost:4000/event/",apiBookingUrl:"http://localhost:4000/booking/",apiChatUrl:"http://localhost:4000/chat/",serviceImgUrl:"http://localhost:4000/service/uploads/",eventImgUrl:"http://localhost:4000/event/uploads/",socketBackendUrl:"http://localhost:4000"};var se=class e{baseUrl=tt.apiUserUrl;http=b(wn);constructor(){}loggedUserSubject=new rt(null);loggedUser$=this.loggedUserSubject.asObservable();setLoggedUser(t){this.loggedUserSubject.next(t)}registerUser(t){return this.http.post(`${this.baseUrl}register`,t,{observe:"response"})}userLogin(t){return this.http.post(`${this.baseUrl}login`,t,{observe:"response"})}googleSignin(){window.location.href="http://localhost:4000/user/auth/google"}handleGoogleSignin(){return this.http.get(`${this.baseUrl}data`,{observe:"response"})}sendResetEmail(t){return this.http.post(`${this.baseUrl}password/resetEmail`,t,{observe:"response"})}resetPassword(t){return this.http.post(`${this.baseUrl}password/reset`,t,{observe:"response"})}userLogout(){return this.loggedUserSubject.next(null),this.http.get(`${this.baseUrl}logout`,{observe:"response"})}verifyOtp(t){return this.http.post(`${this.baseUrl}otp/verify`,t,{observe:"response"})}verifyUserEmail(t){return this.http.post(`${this.baseUrl}email/verify`,t,{observe:"response"})}verifyUser(t){return this.http.patch(`${this.baseUrl}verify`,{id:t},{observe:"response"})}resendOtp(t){return this.http.get(`${this.baseUrl}otp/${t}`,{observe:"response"})}getAllUsers(t){return this.http.get(`${this.baseUrl}users`,{observe:"response",params:t})}getUsersCount(){return this.http.get(`${this.baseUrl}users/count`,{observe:"response"})}getUserById(t){return this.http.get(`${this.baseUrl}${t}`,{observe:"response"})}refreshToken(){return this.http.get(`${this.baseUrl}token/refresh`,{observe:"response"})}editUser(t,n){return this.http.patch(`${this.baseUrl}${n}`,{data:t},{observe:"response"})}editStatus(t){return this.http.patch(`${this.baseUrl}status`,{id:t},{observe:"response"})}static \u0275fac=function(n){return new(n||e)};static \u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})};var v_=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||e)(J(Nn),J(Ut))}}static{this.\u0275dir=et({type:e})}}return e})(),yc=(()=>{class e extends v_{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Yn(e)))(i||e)}})()}static{this.\u0275dir=et({type:e,features:[jt]})}}return e})(),Ns=new Y("");var _F={provide:Ns,useExisting:_n(()=>Ae),multi:!0};function CF(){let e=tr()?tr().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var bF=new Y(""),Ae=(()=>{class e extends v_{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!CF())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||e)(J(Nn),J(Ut),J(bF,8))}}static{this.\u0275dir=et({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&E("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Kn([_F]),jt]})}}return e})();function Rr(e){return e==null||(typeof e=="string"||Array.isArray(e))&&e.length===0}function y_(e){return e!=null&&typeof e.length=="number"}var _c=new Y(""),Cc=new Y(""),EF=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,A=class{static min(t){return wF(t)}static max(t){return SF(t)}static required(t){return DF(t)}static requiredTrue(t){return xF(t)}static email(t){return IF(t)}static minLength(t){return TF(t)}static maxLength(t){return FF(t)}static pattern(t){return AF(t)}static nullValidator(t){return __(t)}static compose(t){return D_(t)}static composeAsync(t){return I_(t)}};function wF(e){return t=>{if(Rr(t.value)||Rr(e))return null;let n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function SF(e){return t=>{if(Rr(t.value)||Rr(e))return null;let n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}function DF(e){return Rr(e.value)?{required:!0}:null}function xF(e){return e.value===!0?null:{required:!0}}function IF(e){return Rr(e.value)||EF.test(e.value)?null:{email:!0}}function TF(e){return t=>Rr(t.value)||!y_(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}function FF(e){return t=>y_(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}function AF(e){if(!e)return __;let t,n;return typeof e=="string"?(n="",e.charAt(0)!=="^"&&(n+="^"),n+=e,e.charAt(e.length-1)!=="$"&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),r=>{if(Rr(r.value))return null;let i=r.value;return t.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function __(e){return null}function C_(e){return e!=null}function b_(e){return oi(e)?ze(e):e}function E_(e){let t={};return e.forEach(n=>{t=n!=null?O(O({},t),n):t}),Object.keys(t).length===0?null:t}function w_(e,t){return t.map(n=>n(e))}function MF(e){return!e.validate}function S_(e){return e.map(t=>MF(t)?t:n=>t.validate(n))}function D_(e){if(!e)return null;let t=e.filter(C_);return t.length==0?null:function(n){return E_(w_(n,t))}}function x_(e){return e!=null?D_(S_(e)):null}function I_(e){if(!e)return null;let t=e.filter(C_);return t.length==0?null:function(n){let r=w_(n,t).map(b_);return Uu(r).pipe(re(E_))}}function T_(e){return e!=null?I_(S_(e)):null}function c_(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function F_(e){return e._rawValidators}function A_(e){return e._rawAsyncValidators}function Zp(e){return e?Array.isArray(e)?e:[e]:[]}function fc(e,t){return Array.isArray(e)?e.includes(t):e===t}function u_(e,t){let n=Zp(t);return Zp(e).forEach(i=>{fc(n,i)||n.push(i)}),n}function d_(e,t){return Zp(t).filter(n=>!fc(e,n))}var pc=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=x_(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=T_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},dn=class extends pc{get formDirective(){return null}get path(){return null}},Ms=class extends pc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},hc=class{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},kF={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},k$=we(O({},kF),{"[class.ng-submitted]":"isSubmitted"}),je=(()=>{class e extends hc{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||e)(J(Ms,2))}}static{this.\u0275dir=et({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&qe("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[jt]})}}return e})(),Be=(()=>{class e extends hc{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||e)(J(dn,10))}}static{this.\u0275dir=et({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&qe("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[jt]})}}return e})();var Is="VALID",dc="INVALID",po="PENDING",Ts="DISABLED",Pr=class{},mc=class extends Pr{constructor(t,n){super(),this.value=t,this.source=n}},Fs=class extends Pr{constructor(t,n){super(),this.pristine=t,this.source=n}},As=class extends Pr{constructor(t,n){super(),this.touched=t,this.source=n}},ho=class extends Pr{constructor(t,n){super(),this.status=t,this.source=n}},Qp=class extends Pr{constructor(t){super(),this.source=t}},Yp=class extends Pr{constructor(t){super(),this.source=t}};function Kp(e){return(bc(e)?e.validators:e)||null}function NF(e){return Array.isArray(e)?x_(e):e||null}function Jp(e,t){return(bc(t)?t.asyncValidators:e)||null}function OF(e){return Array.isArray(e)?T_(e):e||null}function bc(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function M_(e,t,n){let r=e.controls;if(!(t?Object.keys(r):r).length)throw new K(1e3,"");if(!r[n])throw new K(1001,"")}function k_(e,t,n){e._forEachChild((r,i)=>{if(n[i]===void 0)throw new K(1002,"")})}var ks=class{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=es(()=>this.statusReactive()),this.statusReactive=ge(void 0),this._pristine=es(()=>this.pristineReactive()),this.pristineReactive=ge(!0),this._touched=es(()=>this.touchedReactive()),this.touchedReactive=ge(!1),this._events=new V,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Jn(this.statusReactive)}set status(t){Jn(()=>this.statusReactive.set(t))}get valid(){return this.status===Is}get invalid(){return this.status===dc}get pending(){return this.status==po}get disabled(){return this.status===Ts}get enabled(){return this.status!==Ts}get pristine(){return Jn(this.pristineReactive)}set pristine(t){Jn(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return Jn(this.touchedReactive)}set touched(t){Jn(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(u_(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(u_(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(d_(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(d_(t,this._rawAsyncValidators))}hasValidator(t){return fc(this._rawValidators,t)}hasAsyncValidator(t){return fc(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(we(O({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new As(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new As(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(we(O({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Fs(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new Fs(!0,r))}markAsPending(t={}){this.status=po;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ho(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(we(O({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Ts,this.errors=null,this._forEachChild(i=>{i.disable(we(O({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new mc(this.value,r)),this._events.next(new ho(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(we(O({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Is,this._forEachChild(r=>{r.enable(we(O({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(we(O({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Is||this.status===po)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new mc(this.value,n)),this._events.next(new ho(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(we(O({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ts:Is}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=po,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=b_(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new ho(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new Ge,this.statusChanges=new Ge}_calculateStatus(){return this._allControlsDisabled()?Ts:this.errors?dc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(po)?po:this._anyControlsHaveStatus(dc)?dc:Is}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new Fs(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new As(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){bc(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=NF(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=OF(this._rawAsyncValidators)}},Z=class extends ks{constructor(t,n,r){super(Kp(n),Jp(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){k_(this,!0,t),Object.keys(t).forEach(r=>{M_(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var N_=new Y("CallSetDisabledState",{providedIn:"root",factory:()=>Xp}),Xp="always";function eh(e,t){return[...t.path,e]}function f_(e,t,n=Xp){th(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),PF(e,t),VF(e,t),LF(e,t),RF(e,t)}function p_(e,t,n=!0){let r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),vc(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function gc(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function RF(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function th(e,t){let n=F_(e);t.validator!==null?e.setValidators(c_(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=A_(e);t.asyncValidator!==null?e.setAsyncValidators(c_(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();gc(t._rawValidators,i),gc(t._rawAsyncValidators,i)}function vc(e,t){let n=!1;if(e!==null){if(t.validator!==null){let i=F_(e);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==t.validator);o.length!==i.length&&(n=!0,e.setValidators(o))}}if(t.asyncValidator!==null){let i=A_(e);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==t.asyncValidator);o.length!==i.length&&(n=!0,e.setAsyncValidators(o))}}}let r=()=>{};return gc(t._rawValidators,r),gc(t._rawAsyncValidators,r),n}function PF(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&O_(e,t)})}function LF(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&O_(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function O_(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function VF(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function UF(e,t){e==null,th(e,t)}function jF(e,t){return vc(e,t)}function BF(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function $F(e){return Object.getPrototypeOf(e.constructor)===yc}function HF(e,t){e._syncPendingControls(),t.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function zF(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===Ae?n=o:$F(o)?r=o:i=o}),i||r||n||null}function GF(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function h_(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function m_(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var w=class extends ks{constructor(t=null,n,r){super(Kp(n),Jp(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),bc(n)&&(n.nonNullable||n.initialValueIsDefault)&&(m_(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){h_(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){h_(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){m_(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var qF=e=>e instanceof w,WF=(()=>{class e extends dn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return eh(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Yn(e)))(i||e)}})()}static{this.\u0275dir=et({type:e,features:[jt]})}}return e})();var nt=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=et({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return e})(),ZF={provide:Ns,useExisting:_n(()=>pi),multi:!0},pi=(()=>{class e extends yc{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Yn(e)))(i||e)}})()}static{this.\u0275dir=et({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&E("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[Kn([ZF]),jt]})}}return e})();var R_=new Y("");var QF={provide:dn,useExisting:_n(()=>Me)},Me=(()=>{class e extends dn{get submitted(){return Jn(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=es(()=>this._submittedReactive()),this._submittedReactive=ge(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ge,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(vc(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return f_(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){p_(n.control||null,n,!1),GF(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),HF(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new Qp(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new Yp(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(p_(r||null,n),qF(i)&&(f_(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);UF(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&jF(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){th(this.form,this),this._oldForm&&vc(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||e)(J(_c,10),J(Cc,10),J(N_,8))}}static{this.\u0275dir=et({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&E("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Kn([QF]),jt,Qn]})}}return e})(),YF={provide:dn,useExisting:_n(()=>pn)},pn=(()=>{class e extends WF{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){P_(this._parent)}static{this.\u0275fac=function(r){return new(r||e)(J(dn,13),J(_c,10),J(Cc,10))}}static{this.\u0275dir=et({type:e,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[Kn([YF]),jt]})}}return e})(),KF={provide:dn,useExisting:_n(()=>Rn)},Rn=(()=>{class e extends dn{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return eh(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){P_(this._parent)}static{this.\u0275fac=function(r){return new(r||e)(J(dn,13),J(_c,10),J(Cc,10))}}static{this.\u0275dir=et({type:e,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[Kn([KF]),jt]})}}return e})();function P_(e){return!(e instanceof pn)&&!(e instanceof Me)&&!(e instanceof Rn)}var JF={provide:Ms,useExisting:_n(()=>Le)},Le=(()=>{class e extends Ms{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Ge,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=zF(this,o)}ngOnChanges(n){this._added||this._setUpControl(),BF(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return eh(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||e)(J(dn,13),J(_c,10),J(Cc,10),J(Ns,10),J(R_,8))}}static{this.\u0275dir=et({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Kn([JF]),jt,Qn]})}}return e})(),XF={provide:Ns,useExisting:_n(()=>St),multi:!0};function L_(e,t){return e==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function eA(e){return e.split(":")[0]}var St=(()=>{class e extends yc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),i=L_(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=eA(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Yn(e)))(i||e)}})()}static{this.\u0275dir=et({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&E("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Kn([XF]),jt]})}}return e})(),$t=(()=>{class e{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(L_(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||e)(J(Ut),J(Nn),J(St,9))}}static{this.\u0275dir=et({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})(),tA={provide:Ns,useExisting:_n(()=>V_),multi:!0};function g_(e,t){return e==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function nA(e){return e.split(":")[0]}var V_=(()=>{class e extends yc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],d=this._getOptionValue(l.value);i.push(d)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let d=this._getOptionValue(l.value);i.push(d)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=nA(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Yn(e)))(i||e)}})()}static{this.\u0275dir=et({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&E("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Kn([tA]),jt]})}}return e})(),Ht=(()=>{class e{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(g_(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(g_(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||e)(J(Ut),J(Nn),J(V_,9))}}static{this.\u0275dir=et({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})();var rA=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=qn({type:e})}static{this.\u0275inj=Gn({})}}return e})(),fn=class extends ks{constructor(t,n,r){super(Kp(n),Jp(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,n={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(t,n,r={}){this.controls.splice(t,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(t,n,r={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,n={}){k_(this,!1,t),t.forEach((r,i)=>{M_(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t=[],n={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((n,r)=>{t(n,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(n=>n.enabled&&t(n))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};var ke=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:R_,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:N_,useValue:n.callSetDisabledState??Xp}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=qn({type:e})}static{this.\u0275inj=Gn({imports:[rA]})}}return e})();var ae=class e{alertSubject=new rt({alertOn:!1,alertClass:"",alertText:"",alertMessage:""});alert$=this.alertSubject.asObservable();constructor(){}getAlert(t,n,r){this.alertSubject.next({alertOn:!0,alertClass:t,alertText:n,alertMessage:r}),setTimeout(()=>{this.alertSubject.next({alertOn:!1,alertClass:"",alertText:"",alertMessage:""})},2e3)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})};function oA(e,t){if(e&1&&(c(0,"div")(1,"strong"),p(2),u(),p(3),u()),e&2){let n=v();wl(n.alertClass),f(2),N(n.alertText),f(),$(" ",n.alertMessage," ")}}var Ne=class e{showAlert=!1;alertMessage="";alertClass="";alertText="";alertService=b(ae);constructor(){this.alertService.alert$.subscribe(t=>{this.showAlert=t.alertOn,this.alertMessage=t.alertMessage,this.alertClass=t.alertClass,this.alertText=t.alertText})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=H({type:e,selectors:[["app-alert"]],inputs:{showAlert:"showAlert",alertMessage:"alertMessage",alertClass:"alertClass",alertText:"alertText"},standalone:!0,features:[W],decls:1,vars:1,consts:[[3,"class"]],template:function(n,r){n&1&&k(0,oA,4,4,"div",0),n&2&&T(r.showAlert?0:-1)}})};var Ec=e=>{let t=e.parent?.get("password")?.value,n=e.parent?.get("confirmPassword")?.value;return t===n?null:{noMatch:!0}};var sA=["*"],ht=class e{label="";tooltip="";Validation={};getValidationMessage(){if(!this.Validation||typeof this.Validation!="object")return"";let t=Object.keys(this.Validation);if(t.length!==0){if(t[0]==="required")return"This field is required.";if(t[0]==="minlength")return`Minimum character required is ${this.Validation[t[0]].requiredLength}.`;if(t[0]==="pattern")return"Enter a valid format.";if(t[0]==="noMatch")return"Password did not match."}return""}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=H({type:e,selectors:[["app-form"]],inputs:{label:"label",tooltip:"tooltip",Validation:"Validation"},standalone:!0,features:[W],ngContentSelectors:sA,decls:6,vars:3,consts:[["for","recipient-name",1,"col-form-label",3,"title"],[1,"text-danger"]],template:function(n,r){n&1&&(Sl(),c(0,"label",0),p(1),u(),Dl(2),c(3,"div")(4,"span",1),p(5),u()()),n&2&&(Qt("title",r.tooltip),f(),N(r.label),f(4),N(r.getValidationMessage()))}})};var aA=["*"],We=class e{btnClass="";btnTitle="";disabled=!1;onBtnClick=new Ge;onClick(){this.onBtnClick.emit()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=H({type:e,selectors:[["app-button"]],inputs:{btnClass:"btnClass",btnTitle:"btnTitle",disabled:"disabled"},outputs:{onBtnClick:"onBtnClick"},standalone:!0,features:[W],ngContentSelectors:aA,decls:2,vars:4,consts:[[1,"btn",3,"click","title","disabled"]],template:function(n,r){n&1&&(Sl(),c(0,"button",0),E("click",function(){return r.onClick()}),Dl(1),u()),n&2&&(wl(r.btnClass),g("title",r.btnTitle)("disabled",r.disabled))}})};var lA=["modal"],sr=()=>({});function cA(e,t){if(e&1){let n=U();c(0,"h2",6),p(1,"Sign in to your account"),u(),c(2,"form",7)(3,"div",8)(4,"app-form",9),C(5,"input",10),u()(),c(6,"div",8)(7,"app-form",9),C(8,"input",11),u()(),c(9,"div",12)(10,"button",13),E("click",function(){S(n);let i=v();return D(i.login())}),p(11,"Log in"),u(),c(12,"button",14),E("click",function(){S(n);let i=v();return D(i.cancelLogin())}),p(13,"Cancel"),u()(),c(14,"div",8)(15,"p",15)(16,"a",16),E("click",function(){S(n);let i=v();return i.isSendEmail=!0,D(i.isLoginForm=!1)}),p(17,"Forgot Password ? "),u()()(),c(18,"div",8)(19,"p",15),p(20,"Don't have an account? "),c(21,"a",16),E("click",function(){S(n);let i=v();return i.isLoginForm=!1,D(i.isRole=!1)}),p(22,"Sign up"),u()()()(),c(23,"div",17)(24,"app-button",18),E("onBtnClick",function(){S(n);let i=v();return D(i.googleSignin())}),C(25,"img",19),p(26,"Sign in with Google"),u()()}if(e&2){let n=v();f(2),g("formGroup",n.userLoginForm),f(2),g("label","Username:")("tooltip","Enter Username")("Validation",n.userLoginForm.controls.username.touched&&n.userLoginForm.controls.username.errors?n.userLoginForm.controls.username.errors:ee(9,sr)),f(3),g("label","Password:")("tooltip","Enter Password")("Validation",n.userLoginForm.controls.username.touched&&n.userLoginForm.controls.password.errors?n.userLoginForm.controls.password.errors:ee(10,sr)),f(3),g("disabled",n.userLoginForm.invalid),f(14),g("btnClass","btn-dark text-white rounded-pill")}}function uA(e,t){if(e&1){let n=U();c(0,"h2",6),p(1,"Enter registered email to send reset password link"),u(),c(2,"form",7)(3,"div",8)(4,"app-form",9),C(5,"input",20),u()(),c(6,"div",12)(7,"button",13),E("click",function(){S(n);let i=v(2);return D(i.getSendMail())}),p(8,"Submit"),u(),c(9,"button",14),E("click",function(){S(n);let i=v(2);return D(i.reload())}),p(10,"Cancel"),u()()()}if(e&2){let n=v(2);f(2),g("formGroup",n.emailForm),f(2),g("label","Email:")("tooltip","Enter Email")("Validation",n.emailForm.controls.email.touched&&n.emailForm.controls.email.errors?n.emailForm.controls.email.errors:ee(5,sr)),f(3),g("disabled",n.emailForm.invalid)}}function dA(e,t){if(e&1){let n=U();c(0,"div")(1,"div",21)(2,"button",22),E("click",function(){S(n);let i=v(3);return i.isLoginForm=!0,D(i.isRole=!1)}),u()(),c(3,"div",23)(4,"span",24),p(5,"Register as: "),u()(),c(6,"div",25)(7,"button",26),E("click",function(){S(n);let i=v(3);return i.isRole=!0,D(i.userRole="user")}),p(8,"User"),u(),c(9,"button",26),E("click",function(){S(n);let i=v(3);return i.isRole=!0,D(i.userRole="provider")}),p(10,"Provider"),u()()()}}function fA(e,t){if(e&1){let n=U();c(0,"h2",6),p(1,"Create your account"),u(),c(2,"form",7)(3,"app-form",9),C(4,"input",27),u(),c(5,"app-form",9),C(6,"input",28),u(),c(7,"app-form",9),C(8,"input",29),u(),c(9,"app-form",9),C(10,"input",30),u(),c(11,"app-form",9),C(12,"input",31),u(),c(13,"app-form",9),C(14,"input",32),u(),c(15,"div",33)(16,"button",34),E("click",function(){S(n);let i=v(3);return D(i.register())}),p(17,"Register"),u(),c(18,"button",35),E("click",function(){S(n);let i=v(3);return i.isLoginForm=!0,i.isRole=!1,D(i.reload())}),p(19,"Cancel"),u()(),c(20,"div",8)(21,"p",15),p(22,"Already have an account? "),c(23,"a",16),E("click",function(){S(n);let i=v(3);return i.isLoginForm=!0,i.isRole=!1,D(i.reload())}),p(24,"Login"),u()()()()}if(e&2){let n=v(3);f(2),g("formGroup",n.userRegistrationForm),f(),g("label","Name:")("tooltip","Enter Name")("Validation",n.userRegistrationForm.controls.name.touched&&n.userRegistrationForm.controls.name.errors?n.userRegistrationForm.controls.name.errors:ee(20,sr)),f(2),g("label","Email:")("tooltip","Enter Email")("Validation",n.userRegistrationForm.controls.email.touched&&n.userRegistrationForm.controls.email.errors?n.userRegistrationForm.controls.email.errors:ee(21,sr)),f(2),g("label","Username:")("tooltip","Enter Username")("Validation",n.userRegistrationForm.controls.username.touched&&n.userRegistrationForm.controls.username.errors?n.userRegistrationForm.controls.username.errors:ee(22,sr)),f(2),g("label","Password:")("tooltip","Enter Password")("Validation",n.userRegistrationForm.controls.password.touched&&n.userRegistrationForm.controls.password.errors?n.userRegistrationForm.controls.password.errors:ee(23,sr)),f(2),g("label","Confirm Password:")("tooltip","Enter password once more to confirm")("Validation",n.userRegistrationForm.controls.confirmPassword.touched&&n.userRegistrationForm.controls.confirmPassword.errors?n.userRegistrationForm.controls.confirmPassword.errors:ee(24,sr)),f(2),g("label","Mobile:")("tooltip","Enter Mobile")("Validation",n.userRegistrationForm.controls.mobile.touched&&n.userRegistrationForm.controls.mobile.errors?n.userRegistrationForm.controls.mobile.errors:ee(25,sr)),f(3),g("disabled",n.userRegistrationForm.invalid)}}function pA(e,t){if(e&1&&k(0,dA,11,0,"div")(1,fA,25,26),e&2){let n=v(2);T(n.isRole?n.isRole?1:-1:0)}}function hA(e,t){if(e&1&&k(0,uA,11,6)(1,pA,2,1),e&2){let n=v();T(n.isSendEmail?0:1)}}var wc=class e{destroy$=new V;modal;registrationData;loginData;isRole=!1;isLogin=!1;isLoginForm=!0;userRole="";isSendEmail=!1;userService=b(se);alertService=b(ae);router=b(Ue);userRegistrationForm=new Z({name:new w("",[A.required,A.pattern("^[a-zA-Z ]+$"),A.minLength(3)]),email:new w("",[A.required,A.pattern("^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+.[a-zA-Z]{2,}$")]),username:new w("",[A.required,A.minLength(3)]),password:new w("",[A.required,A.minLength(8)]),confirmPassword:new w("",[A.required,Ec]),mobile:new w("",[A.required,A.minLength(10),A.pattern("^[0-9]+$")]),role:new w("")});userLoginForm=new Z({username:new w("",[A.required]),password:new w("",[A.required,A.minLength(8)]),role:new w("")});emailForm=new Z({email:new w("",[A.required,A.pattern("^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+.[a-zA-Z]{2,}$")])});googleSignin(){this.userService.googleSignin()}login(){this.userLoginForm.get("role")?.setValue(this.userRole),this.loginData=this.userLoginForm.value,this.userService.userLogin(this.loginData).pipe(F(this.destroy$)).subscribe({next:t=>{console.log(t),console.log(t.body),t.status===200?(console.log(this.router),this.router.navigateByUrl("dashboard"),this.userService.setLoggedUser(t.body?.data)):(console.log(t.body?.message),this.alertService.getAlert("alert alert-danger","Login Failed",t.body?.message?t.body?.message:""))},error:t=>{console.log(t),t.status===400?t.error.emailNotVerified?(this.alertService.getAlert("alert alert-danger","Login Failed!",t.error.message),this.router.navigateByUrl("verifyEmail")):this.alertService.getAlert("alert alert-danger","Login Failed",t.error.message):t.status===403?(this.router.navigateByUrl("login"),this.alertService.getAlert("alert alert-danger","Login Failed",t.error.message)):(this.alertService.getAlert("alert alert-danger","Login Failed",t.error.message),console.log("login error:",t.error.message))}}),this.userService.loggedUser$.pipe(F(this.destroy$)).subscribe(t=>{t&&console.log("from behavioral subject: ",t)}),this.userLoginForm.reset()}register(){this.userRegistrationForm.get("role")?.setValue(this.userRole);let r=this.userRegistrationForm.value,{confirmPassword:t}=r,n=kt(r,["confirmPassword"]);this.registrationData=n,console.log(this.registrationData),this.userService.registerUser(this.registrationData).pipe(F(this.destroy$)).subscribe({next:i=>{console.log("response from register user: ",i),i.status===201?(this.alertService.getAlert("alert alert-success","Success!",i.body?.message?i.body?.message:""),this.router.navigateByUrl(`/otp/${i.body?.data._id}`)):this.alertService.getAlert("alert alert-danger","Failed!",i.body?.message),this.userRegistrationForm.reset()},error:i=>{this.alertService.getAlert("alert alert-danger","Register User Failed",i.error.message)}})}getSendMail(){let t=this.emailForm.value;console.log(t),this.userService.sendResetEmail(t).pipe(F(this.destroy$)).subscribe({next:n=>{console.log("send mail response: ",n),n.status===200?this.alertService.getAlert("alert alert-success","Email sent",n.body?.message?n.body?.message:""):this.alertService.getAlert("alert alert-danger","Sent email failed",n.body?.message?n.body?.message:""),this.emailForm.reset()},error:n=>{this.alertService.getAlert("alert alert-danger","Sent email Failed",n.error.message)}})}cancelLogin(){this.userLoginForm.reset()}reload(){document.location.href="/login"}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=H({type:e,selectors:[["app-login"]],viewQuery:function(n,r){if(n&1&&st(lA,5),n&2){let i;Qe(i=Ye())&&(r.modal=i.first)}},standalone:!0,features:[W],decls:11,vars:1,consts:[[1,"py-3","py-md-5"],[1,"container"],[1,"row","justify-content-center"],[1,"col-12","col-sm-10","col-md-8","col-lg-6","col-xl-5","col-xxl-4"],[1,"card","border","border-light-subtle","rounded-3","shadow"],[1,"card-body","p-3","p-md-4","p-xl-5"],[1,"fs-5","fw-normal","text-center","text-secondary","mb-4"],[3,"formGroup"],[1,"mb-3"],[3,"label","tooltip","Validation"],["type","text","id","recipient-name","formControlName","username",1,"form-control"],["type","password","id","message-text","formControlName","password",1,"form-control"],[1,"d-grid","gap-2","d-md-block","text-center"],[1,"btn","btn-primary","btn-lg","m-3",3,"click","disabled"],[1,"btn","btn-danger","btn-lg","m-3",3,"click"],[1,"m-0","text-secondary","text-center"],[1,"btn","link-primary","text-decoration-none",3,"click"],[1,"d-flex","justify-content-center"],[3,"onBtnClick","btnClass"],["src","https://img.icons8.com/?size=100&id=17949&format=png&color=000000","width","20px","height","20px","alt",""],["type","text","id","recipient-name","formControlName","email",1,"form-control"],[1,"d-flex","justify-content-end"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",2,"width","2px","height","15px",3,"click"],[1,"d-flex","justify-content-center","mt-3"],[1,"fs-5","fw-normal","text-center","text-secondary","mb-5"],[2,"display","flex","justify-content","space-around"],[1,"btn","btn-dark","m-3","rounded-pill",2,"width","150px","height","40px",3,"click"],["type","text","formControlName","name",1,"form-control"],["type","text","formControlName","email",1,"form-control"],["type","text","formControlName","username",1,"form-control"],["type","password","formControlName","password",1,"form-control"],["type","password","formControlName","confirmPassword",1,"form-control"],["type","text","formControlName","mobile",1,"form-control"],[1,"d-grid","gap-2","d-md-block"],["type","button",1,"btn","btn-success","m-3",3,"click","disabled"],["type","reset",1,"btn","btn-info","m-3",3,"click"]],template:function(n,r){n&1&&(c(0,"section",0)(1,"div",1)(2,"div"),C(3,"app-alert"),u(),c(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div"),k(9,cA,27,11)(10,hA,2,1),u()()()()()()()),n&2&&(f(9),T(r.isLoginForm?9:r.isLoginForm?-1:10))},dependencies:[ke,nt,Ae,je,Be,Me,Le,Ne,ht,We]})};var U_=[{path:"dashboard",text:"Home",roles:["user","admin","provider"]},{path:"services",text:"Services",roles:["user","admin","provider"]},{path:"events",text:"Events",roles:["user","admin"]},{path:"users",text:"Users",roles:["admin"]},{path:"favorites",text:"Favorites",roles:["user"]},{path:"sales",text:"Sales",roles:["admin"]},{path:"booking",text:"Booking",roles:["user","admin"]}];function mA(e,t){if(e&1&&(c(0,"li",9)(1,"a",18),_f(),c(2,"svg",19),C(3,"use",20),u(),p(4),u()()),e&2){let n=t.$implicit;f(),g("routerLink",n.path),f(3),$(" ",n.text," ")}}var Sc=class e{destroy$=new V;role="";userMenus=[];userName="";userService=b(se);router=b(Ue);menus=U_;constructor(){this.userService.loggedUser$.pipe(F(this.destroy$)).subscribe(t=>{t&&(this.role=t.role,this.userName=t.user)}),this.menus.forEach(t=>{t.roles.includes(this.role)&&this.userMenus.push(t)}),console.log("User menus: ",this.userMenus)}logout(){this.userService.userLogout().pipe(F(this.destroy$)).subscribe(t=>{this.router.navigate(["login"])})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=H({type:e,selectors:[["app-layout"]],standalone:!0,features:[W],decls:29,vars:1,consts:[[1,"overflow-x-hidden"],[1,"row"],[1,"col-md-2","col-sm-2"],[1,"d-flex","flex-column","p-2","text-white","vh-100",2,"background-color","#47663B"],["routerLink","/",1,"d-flex","align-items-center","mb-3","mb-md-0","me-md-auto","text-white","text-decoration-none"],["width","40","height","32",1,"bi","me-2"],[0,"xlink","href","#bootstrap"],[2,"font-family","'Alex Brush', cursive","font-weight","400","font-size","xx-large"],[1,"nav","nav-pills","flex-column","mb-auto"],[1,"nav-item"],["routerLink","chat"],[1,"fa-solid","fa-comment",2,"color","#f3f631"],[1,"dropdown"],["href","#","id","dropdownUser1","data-bs-toggle","dropdown","aria-expanded","false",1,"d-flex","align-items-center","text-white","text-decoration-none","dropdown-toggle"],["aria-labelledby","dropdownUser1",1,"dropdown-menu","dropdown-menu-dark","text-small","shadow"],[1,"dropdown-divider"],[1,"dropdown-item",3,"click"],[1,"col-md-10","col-sm-10"],["routerLinkActive","active","aria-current","page",1,"nav-link","text-white","text-decoration-none",3,"routerLink"],["width","16","height","16",1,"bi","me-2"],[0,"xlink","href","#home"]],template:function(n,r){n&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),_f(),c(5,"svg",5),C(6,"use",6),u(),uv(),c(7,"span",7),p(8,"Dream Events"),u()(),C(9,"hr"),c(10,"ul",8),G(11,mA,5,2,"li",9,z),u(),c(13,"div")(14,"a",10),C(15,"i",11),u()(),C(16,"hr"),c(17,"div",12)(18,"a",13)(19,"strong"),p(20),u()(),c(21,"ul",14)(22,"li"),C(23,"hr",15),u(),c(24,"li")(25,"a",16),E("click",function(){return r.logout()}),p(26,"Sign out"),u()()()()()(),c(27,"div",17),C(28,"router-outlet"),u()()()),n&2&&(f(11),q(r.userMenus),f(9),N(r.userName))},dependencies:[Ds,lc,a_],styles:['@font-face{font-family:Alex Brush;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/alexbrush/v22/SZc83FzrJKuqFbwMKk6EhUrz7QtO.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Alex Brush;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/alexbrush/v22/SZc83FzrJKuqFbwMKk6EhUvz7QtO.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Alex Brush;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/alexbrush/v22/SZc83FzrJKuqFbwMKk6EhUXz7Q.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Bokor;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/bokor/v31/m8JcjfpeeaqTiS2afojrcQ.woff2) format("woff2");unicode-range:U+1780-17FF,U+19E0-19FF,U+200C-200D,U+25CC}@font-face{font-family:Bokor;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/bokor/v31/m8JcjfpeeaqTiS2Rfog.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Parkinsans;font-style:normal;font-weight:300 800;font-display:swap;src:url(https://fonts.gstatic.com/s/parkinsans/v1/-W_7XJXvQyPb1QfpBpRrfkoLfq0k.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Parkinsans;font-style:normal;font-weight:300 800;font-display:swap;src:url(https://fonts.gstatic.com/s/parkinsans/v1/-W_7XJXvQyPb1QfpBpRrfkQLfg.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}.nav-link.active[_ngcontent-%COMP%]{background-color:#ebeab9!important;color:#000!important;font-weight:700}.nav-link[_ngcontent-%COMP%]:hover{background-color:#ebeab9;color:#000!important}.sidebar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100%;width:200px;padding-top:20px;background-color:teal;transition:width .3s}.sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;padding:10px 20px;color:#fff}.sidebar[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:14px}.sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:beige}.main-content[_ngcontent-%COMP%]{height:100%;margin-left:200px;padding:20px}@media (max-width:480px){.sidebar[_ngcontent-%COMP%]{width:60px}.sidebar[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{display:none}.sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{justify-content:center}.main-content[_ngcontent-%COMP%]{margin-left:60px}}']})};var Dc=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=H({type:e,selectors:[["app-user-dashboard"]],standalone:!0,features:[W],decls:2,vars:0,template:function(n,r){n&1&&(c(0,"p"),p(1,"user-dashboard works!"),u())}})};var xc=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=H({type:e,selectors:[["app-provider-dashboard"]],standalone:!0,features:[W],decls:2,vars:0,template:function(n,r){n&1&&(c(0,"p"),p(1,"provider-dashboard works!"),u())}})};var Ic=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=H({type:e,selectors:[["app-admin-dashboard"]],standalone:!0,features:[W],decls:2,vars:0,template:function(n,r){n&1&&(c(0,"p"),p(1,"admin-dashboard works!"),u())}})};function gA(e,t){e&1&&C(0,"app-admin-dashboard")}function vA(e,t){e&1&&C(0,"app-user-dashboard")}function yA(e,t){e&1&&C(0,"app-provider-dashboard")}var Tc=class e{constructor(t){this.userService=t}destroy$=new V;user;role="";ngOnInit(){this.userService.loggedUser$.pipe(F(this.destroy$)).subscribe(t=>{t&&(this.user=t,this.role=t.role)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(n){return new(n||e)(J(se))};static \u0275cmp=H({type:e,selectors:[["app-dashboard"]],standalone:!0,features:[W],decls:4,vars:1,template:function(n,r){n&1&&(c(0,"section"),k(1,gA,1,0,"app-admin-dashboard")(2,vA,1,0,"app-user-dashboard")(3,yA,1,0,"app-provider-dashboard"),u()),n&2&&(f(),T(r.role==="admin"?1:r.role==="user"?2:r.role==="provider"?3:-1))},dependencies:[Ic,Dc,xc]})};var ar=(e,t)=>{let n=b(se),r=b(Ue),i=b(ae);return n.loggedUser$.pipe(on(1),re(o=>o?o.isActive?(console.log("authguard: ",o),!0):(r.navigateByUrl("/login"),i.getAlert("alert alert-danger","Account Blocked","Your account has been blocked. Contact admin for more details."),!1):(r.navigateByUrl("/login"),!1)),Dt(o=>(r.navigateByUrl("login"),i.getAlert("alert alert-danger","",o),rn(()=>o))))};var j_=()=>({}),Fc=class e{destroy$=new V;token=null;userId="";activeRoute=b(gt);userServices=b(se);alertService=b(ae);router=b(Ue);ngOnInit(){this.activeRoute.params.pipe(F(this.destroy$)).subscribe(t=>{this.token=t.token,console.log(this.token)})}resetForm=new Z({password:new w("",[A.required,A.minLength(8)]),confirmPassword:new w("",[A.required,Ec])});resetPassword(){debugger;let n={password:this.resetForm.value.password,token:this.token};debugger;this.userServices.resetPassword(n).pipe(F(this.destroy$)).subscribe({next:r=>{console.log("resetPassword res: ",r.body),r.status===200?this.alertService.getAlert("alert alert-success","Password Reset Success",r.body?.message||""):this.alertService.getAlert("alert alert-danger","Password Reset failed",r.body?.message||""),setTimeout(()=>{this.router.navigateByUrl("login")},1500),this.resetForm.reset()},error:r=>{this.alertService.getAlert("alert alert-danger","Password Reset failed",r.error.message)}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=H({type:e,selectors:[["app-reset"]],standalone:!0,features:[W],decls:21,vars:10,consts:[[1,"py-3","py-md-5"],[1,"container"],[1,"row","justify-content-center"],[1,"col-12","col-sm-10","col-md-8","col-lg-6","col-xl-5","col-xxl-4"],[1,"card","border","border-light-subtle","rounded-3","shadow-sm"],[1,"card-body","p-3","p-md-4","p-xl-5"],[1,"fs-6","fw-normal","text-center","text-secondary","mb-4"],[3,"formGroup"],[3,"label","tooltip","Validation"],["type","password","id","recipient-name","formControlName","password",1,"form-control"],["type","password","id","message-text","formControlName","confirmPassword",1,"form-control"],[1,"d-grid","gap-2","d-md-block","text-center"],[1,"btn","btn-primary","btn-lg","m-3",3,"click","disabled"],[1,"btn","btn-danger","btn-lg","m-3"]],template:function(n,r){n&1&&(c(0,"section",0)(1,"div",1)(2,"div"),C(3,"app-alert"),u(),c(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div")(9,"h2",6),p(10,"Reset Password"),u(),c(11,"form",7)(12,"app-form",8),C(13,"input",9),u(),c(14,"app-form",8),C(15,"input",10),u(),c(16,"div",11)(17,"button",12),E("click",function(){return r.resetPassword()}),p(18,"Reset"),u(),c(19,"button",13),p(20,"Cancel"),u()()()()()()()()()()),n&2&&(f(11),g("formGroup",r.resetForm),f(),g("label","Password:")("tooltip","Enter Password")("Validation",r.resetForm.controls.password.touched&&r.resetForm.controls.password.errors?r.resetForm.controls.password.errors:ee(8,j_)),f(2),g("label","Confirm Password:")("tooltip","Enter password once more to confirm")("Validation",r.resetForm.controls.confirmPassword.touched&&r.resetForm.controls.confirmPassword.errors?r.resetForm.controls.confirmPassword.errors:ee(9,j_)),f(3),g("disabled",r.resetForm.invalid))},dependencies:[Ne,ke,nt,Ae,je,Be,Me,Le,ht]})};function _A(e,t){e&1&&(c(0,"div")(1,"span",15),p(2,"This is required"),u()())}function CA(e,t){if(e&1){let n=U();p(0," Otp Expired. Click to "),c(1,"a",16),E("click",function(){S(n);let i=v();return D(i.resendOtp())}),p(2,"Resend Otp"),u()}}function bA(e,t){if(e&1&&p(0),e&2){let n=v();$(" Otp will expire in ",n.timer," ")}}var Ac=class e{destroy$=new V;id="";timer=60;isOtpExpired=!1;interval;router=b(Ue);activatedRoute=b(gt);userService=b(se);alertService=b(ae);ngOnInit(){this.startTimer()}otpForm=new Z({otp:new w("",A.required)});startTimer(){this.timer=60,this.isOtpExpired=!1,this.interval=setInterval(()=>{this.timer>0?this.timer--:(this.isOtpExpired=!0,clearInterval(this.interval))},1e3)}verifyOtp(){this.activatedRoute.params.pipe(F(this.destroy$)).subscribe(t=>{this.id=t.id,console.log("id from otp: ",this.id);let n=this.otpForm.value,r={id:this.id,otp:n.otp};this.userService.verifyOtp(r).pipe(F(this.destroy$)).subscribe({next:i=>{console.log(i.body),i.status===200?(this.otpForm.reset(),this.router.navigate(["login"])):(this.alertService.getAlert("alert alert-danger","Login Failed",i.body?.message||""),this.router.navigateByUrl(`/otp/${this.id}`))},error:i=>{console.log(i),this.alertService.getAlert("alert alert-danger","Login Failed",i.error.message)}})})}backToLogin(){this.router.navigate(["login"])}resendOtp(){this.activatedRoute.params.pipe(F(this.destroy$)).subscribe(t=>{this.id=t.id}),console.log("id to reset password: ",this.id),this.userService.resendOtp(this.id).pipe(F(this.destroy$)).subscribe({next:t=>{t.status===200?(this.startTimer(),this.isOtpExpired=!1):this.alertService.getAlert("alert alert-danger","Login Failed",t.body?.message||"")},error:t=>{this.alertService.getAlert("alert alert-danger","Login Failed",t.message)}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=H({type:e,selectors:[["app-submit-otp"]],standalone:!0,features:[W],decls:25,vars:4,consts:[[1,"py-3","py-md-5"],[1,"container"],[1,"row","justify-content-center"],[1,"col-12","col-sm-10","col-md-8","col-lg-6","col-xl-5","col-xxl-4"],[1,"card","border","border-light-subtle","rounded-3","shadow-sm"],[1,"card-body","p-3","p-md-4","p-xl-5"],[1,"fs-6","fw-normal","text-center","text-secondary","mb-4"],[3,"formGroup"],[1,"mb-3"],["for","recipient-name",1,"col-form-label"],["type","text","id","recipient-name","formControlName","otp",1,"form-control"],[2,"cursor","pointer"],[1,"d-grid","gap-2","d-md-block","text-center"],[1,"btn","btn-primary","btn-lg","m-3",3,"click","disabled"],[1,"btn","btn-danger","btn-lg","m-3",3,"click"],[1,"text-danger"],[2,"cursor","pointer",3,"click"]],template:function(n,r){n&1&&(c(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div"),C(7,"app-alert"),u(),c(8,"div")(9,"h2",6),p(10,"Enter OTP sent to your registered email."),u(),c(11,"form",7)(12,"div",8)(13,"label",9),p(14,"Enter OTP:"),u(),C(15,"input",10),k(16,_A,3,0,"div"),u(),c(17,"div"),k(18,CA,3,0,"a",11)(19,bA,1,1),u(),c(20,"div",12)(21,"button",13),E("click",function(){return r.verifyOtp()}),p(22,"Log in"),u(),c(23,"button",14),E("click",function(){return r.backToLogin()}),p(24,"Cancel"),u()()()()()()()()()()),n&2&&(f(11),g("formGroup",r.otpForm),f(5),T(r.otpForm.controls.otp.touched&&(r.otpForm.controls.otp.errors!=null&&r.otpForm.controls.otp.errors.required)?16:-1),f(2),T(r.isOtpExpired?18:19),f(3),g("disabled",r.otpForm.invalid))},dependencies:[ke,nt,Ae,je,Be,Me,Le,Ne]})};var Mc=class{_id;name;email;username;password;mobile;role;constructor(){this._id="",this.name="",this.email="",this.username="",this.password="",this.role=""}},kc=class{userName;userStatus;role;pageNumber;pageSize;sortBy;sortOrder;constructor(){this.userName="",this.userStatus="",this.role="",this.pageNumber="1",this.pageSize="2",this.sortBy="",this.sortOrder="asc"}};var EA=["modal"],mo=()=>({});function wA(e,t){e&1&&p(0," User ")}function SA(e,t){e&1&&p(0," Service Provider ")}function DA(e,t){e&1&&p(0," Admin ")}function xA(e,t){e&1&&p(0," Active ")}function IA(e,t){e&1&&p(0," Inactive ")}function TA(e,t){e&1&&C(0,"i",52)}function FA(e,t){e&1&&C(0,"i",53)}function AA(e,t){e&1&&(c(0,"app-button",54),C(1,"i",56),u()),e&2&&g("btnTitle","User Verified")("disabled",!0)}function MA(e,t){if(e&1){let n=U();c(0,"app-button",50),E("onBtnClick",function(){S(n);let i=v().$implicit,o=v();return D(o.verifyUser(i._id))}),C(1,"i",57),u()}e&2&&g("btnTitle","Verify User")}function kA(e,t){if(e&1){let n=U();c(0,"tr")(1,"th",49),p(2),u(),c(3,"td"),p(4),u(),c(5,"td"),p(6),u(),c(7,"td"),k(8,wA,1,0)(9,SA,1,0)(10,DA,1,0),u(),c(11,"td"),p(12),u(),c(13,"td"),k(14,xA,1,0)(15,IA,1,0),u(),c(16,"td")(17,"app-button",50),E("onBtnClick",function(){let i=S(n).$implicit,o=v();return D(o.onEdit(i._id))}),C(18,"i",51),u(),c(19,"app-button",50),E("onBtnClick",function(){let i=S(n).$implicit,o=v();return D(o.setStatus(i._id))}),k(20,TA,1,0,"i",52)(21,FA,1,0,"i",53),u(),k(22,AA,2,2,"app-button",54)(23,MA,2,1,"app-button",55),u()()}if(e&2){let n=t.$implicit,r=t.$index;f(2),N(r+1),f(2),N(n.name),f(2),N(n.email),f(2),T(n.role==="user"?8:n.role==="provider"?9:n.role==="admin"?10:-1),f(4),N(n.mobile),f(2),T(n.isActive?14:15),f(3),g("btnTitle","Edit User"),f(2),g("btnTitle",n.isActive?"Block User":"Unblock User"),f(),T(n.isActive?20:21),f(2),T(n.isUserVerified?22:23)}}function NA(e,t){if(e&1){let n=U();c(0,"li",29)(1,"a",30),E("click",function(){let i=S(n).$implicit,o=v();return D(o.onPageChange(i))}),p(2),u()()}if(e&2){let n=t.$implicit,r=v();f(),qe("active",r.currentPage===n),f(),N(n)}}function OA(e,t){e&1&&(c(0,"h1",35),p(1,"Add User"),u())}function RA(e,t){e&1&&(c(0,"h1",35),p(1,"Edit User"),u())}function PA(e,t){if(e&1&&(c(0,"app-form",39),C(1,"input",58),u(),c(2,"app-form",39),C(3,"input",59),u()),e&2){let n=v();g("label","Username:")("tooltip","Enter username")("Validation",n.userForm.controls.username.touched&&n.userForm.controls.username.errors?n.userForm.controls.username.errors:ee(6,mo)),f(2),g("label","Password:")("tooltip","Enter password")("Validation",n.userForm.controls.password.touched&&n.userForm.controls.password.errors?n.userForm.controls.password.errors:ee(7,mo))}}function LA(e,t){if(e&1){let n=U();c(0,"app-button",12),E("onBtnClick",function(){S(n);let i=v();return D(i.saveUser())}),p(1,"Save User"),u()}e&2&&g("btnClass","btn-success m-3")}function VA(e,t){if(e&1){let n=U();c(0,"app-button",12),E("onBtnClick",function(){S(n);let i=v();return D(i.editUser(i.userForm.controls._id.value))}),p(1,"Update User"),u()}e&2&&g("btnClass","btn-success m-3")}var Nc=class e{destroy$=new V;users$=[];users=ge([]);userFormObj=new Mc;searchFilterFormObj=new kc;isAddUser=!1;searchParams=new Ie;totalUsers=0;formModal;userForm=new Z({});searchFilterForm=new Z({});userServices=b(se);alertService=b(ae);currentPage=Number(this.searchFilterFormObj.pageNumber);constructor(){this.getTotalUsers(),this.initialiseUserForm(),this.initialiseSearchFilterForm()}ngOnInit(){this.onRefresh()}initialiseUserForm(){this.userForm=new Z({_id:new w(this.userFormObj._id),name:new w(this.userFormObj.name,[A.required,A.pattern("^[a-zA-Z ]+$"),A.minLength(3)]),email:new w(this.userFormObj.email,[A.required,A.pattern("^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+.[a-zA-Z]{2,}$")]),username:new w(this.userFormObj.username,[A.required,A.minLength(3)]),password:new w(this.userFormObj.password,[A.required,A.minLength(8)]),mobile:new w(this.userFormObj.mobile,[A.required,A.minLength(10),A.pattern("^[0-9]+$")]),role:new w(this.userFormObj.role)})}initialiseSearchFilterForm(){this.searchFilterForm=new Z({userName:new w(this.searchFilterFormObj.userName),userStatus:new w(this.searchFilterFormObj.userStatus),role:new w(this.searchFilterFormObj.role),pageNumber:new w(this.searchFilterFormObj.pageNumber),pageSize:new w(this.searchFilterFormObj.pageSize),sortBy:new w(this.searchFilterFormObj.sortBy),sortOrder:new w(this.searchFilterFormObj.sortOrder)})}onRefresh(){this.searchParams=new Ie,this.searchFilterForm.get("userName")?.setValue(""),this.searchFilterForm.get("userStatus")?.setValue(""),this.searchFilterForm.get("role")?.setValue(""),this.searchParams=this.searchParams.set("pageNumber",this.searchFilterFormObj.pageNumber).set("pageSize",this.searchFilterFormObj.pageSize),this.getUsers(this.searchParams)}onSort(t){this.searchParams=this.searchParams.set("sortBy",t),this.searchFilterFormObj.sortOrder=this.searchFilterFormObj.sortOrder==="asc"?"desc":"asc",this.searchParams=this.searchParams.set("sortOrder",this.searchFilterFormObj.sortOrder),this.getUsers(this.searchParams)}onSearch(){console.log(this.searchFilterForm.value),this.searchFilterFormObj=this.searchFilterForm.value,this.searchParams=this.searchParams.set("pageNumber",this.searchFilterFormObj.pageNumber).set("pageSize",this.searchFilterFormObj.pageSize).set("sortBy",this.searchFilterFormObj.sortBy).set("sortOrder",this.searchFilterFormObj.sortOrder),this.searchFilterFormObj.userName!==""&&(this.searchParams=this.searchParams.set("userName",this.searchFilterFormObj.userName)),this.searchFilterFormObj.userStatus!==""&&(this.searchParams=this.searchParams.set("userStatus",this.searchFilterFormObj.userStatus)),this.searchFilterFormObj.role!==""&&(this.searchParams=this.searchParams.set("role",this.searchFilterFormObj.role)),this.getUsers(this.searchParams)}getTotalUsers(){this.userServices.getUsersCount().pipe(F(this.destroy$)).subscribe({next:t=>{t.status===200?(this.totalUsers=t.body?.data,console.log("total users count: ",this.totalUsers)):(console.log("could not get users"),this.alertService.getAlert("alert alert-danger","Failed!",t.body?.message||""))},error:t=>{console.log(t),this.alertService.getAlert("alert alert-danger","Failed!",t.error.message)}})}getTotalPages(){let t=Math.ceil(this.totalUsers/Number(this.searchFilterFormObj.pageSize));return Array(t).fill(0).map((n,r)=>r+1)}getLastpage(){return Math.ceil(this.totalUsers/Number(this.searchFilterFormObj.pageSize))}onPageChange(t){this.currentPage=t,this.searchFilterFormObj.pageNumber=t.toString(),this.searchParams=this.searchParams.set("pageNumber",this.searchFilterFormObj.pageNumber),console.log("pageNumber: ",this.searchFilterFormObj.pageNumber),this.getUsers(this.searchParams)}getUsers(t){this.userServices.getAllUsers(t).pipe(F(this.destroy$)).subscribe({next:n=>{n.status===200?(this.users$=n.body?.data,this.users.set(n.body?.data)):(console.log("could not get users"),this.alertService.getAlert("alert alert-danger","Failed!",n.body?.message||""))},error:n=>{console.log(n),this.alertService.getAlert("alert alert-danger","Failed!",n.error.message)}})}editUser(t){console.log("id to edit user: ",t);let s=this.userForm.value,{id:n,_id:r}=s,o=kt(s,["id","_id"]);console.log("user update data:",o),this.userServices.editUser(o,t).pipe(F(this.destroy$)).subscribe({next:a=>{a.status===200?(console.log("update user response: ",a.body?.data),this.alertService.getAlert("alert alert-success","Success!",a.body?.message||""),this.getUsers(this.searchParams),this.hideModal()):(console.log("could not get users",a.body?.message),this.alertService.getAlert("alert alert-danger","Failed!",a.body?.message||""))},error:a=>{console.log(a),this.alertService.getAlert("alert alert-danger","Failed!",a.error.message)}})}saveUser(){let o=this.userForm.value,{id:t,_id:n}=o,i=kt(o,["id","_id"]);console.log("create user data:",this.userForm.value),this.userServices.registerUser(i).pipe(F(this.destroy$)).subscribe({next:s=>{s.status===201?(console.log("add user response: ",s.body?.data),this.alertService.getAlert("alert alert-success","Success!",s.body?.message||""),this.getUsers(this.searchParams),this.getTotalUsers(),this.hideModal()):(console.log("could not get users",s.body?.message),this.alertService.getAlert("alert alert-danger","Failed!",s.body?.message||""))},error:s=>{console.log(s),this.alertService.getAlert("alert alert-danger","Failed!",s.error.message)}})}onEdit(t){this.userServices.getUserById(t).pipe(F(this.destroy$)).subscribe({next:n=>{this.userFormObj=n.body?.data,this.initialiseUserForm(),this.showModal()},error:n=>{console.log(n),this.alertService.getAlert("alert alert-danger","Failed!",n.error.message)}})}setStatus(t){console.log(t),this.userServices.editStatus(t).pipe(F(this.destroy$)).subscribe({next:n=>{console.log("edit status response: ",n),n.status===200?(this.getUsers(this.searchParams),this.alertService.getAlert("alert alert-success","Success!",n.body?.message||"")):this.alertService.getAlert("alert alert-danger","Failed!",n.body?.message||"")},error:n=>{console.log(n),this.alertService.getAlert("alert alert-danger","Failed!",n.error.message)}})}verifyUser(t){this.userServices.verifyUser(t).pipe(F(this.destroy$)).subscribe({next:n=>{console.log("verify user response: ",n),n.status===200?(this.getUsers(this.searchParams),this.alertService.getAlert("alert alert-success","Success!",n.body?.message||"")):this.alertService.getAlert("alert alert-danger","Failed!",n.body?.message||"")},error:n=>{console.log(n),this.alertService.getAlert("alert alert-danger","Failed!",n.error.message)}})}hideModal(){this.formModal.nativeElement.style.display="none",this.userForm.reset(),this.isAddUser=!1}showModal(){this.formModal.nativeElement.style.display="block"}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=H({type:e,selectors:[["app-users"]],viewQuery:function(n,r){if(n&1&&st(EA,5),n&2){let i;Qe(i=Ye())&&(r.formModal=i.first)}},standalone:!0,features:[W],decls:110,vars:29,consts:[["modal",""],[1,"container","mt-4","p-3"],[1,"row","mb-2"],[1,"col-md-8","text-dark","fs-3","fw-bold"],[1,"col-md-4","text-end"],[3,"onBtnClick","click","btnClass"],[1,"row","d-flex","flex-row",3,"formGroup"],[1,"col-md-3"],["for",""],["type","text","formControlName","userName",1,"form-control"],["type","text","formControlName","userStatus",1,"form-control"],["type","text","formControlName","role",1,"form-control"],[3,"onBtnClick","btnClass"],[1,"col-md-3","align-item-left","mt-4","mb-4"],["formControlName","pageSize",3,"change"],["value","2"],["value","3"],["value","5"],["value","10"],["value","20"],["value","50"],["value","100"],[1,"bg-light","rounded","h-100","p-4"],[1,"mb-4"],[1,"table-responsive"],[1,"table","table-striped"],["scope","col"],["scope","col","role","button",3,"click"],[1,"pagination"],[1,"page-item"],["role","button",1,"page-link",3,"click"],[1,"modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","staticBackdropLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],[3,"label","tooltip","Validation"],["type","text","formControlName","name",1,"form-control"],["type","text","formControlName","email",1,"form-control"],["type","tel","formControlName","mobile",1,"form-control"],["formControlName","role",1,"form-select"],["value","user"],["value","provider"],["value","admin"],[1,"d-grid","gap-2","d-md-block"],[3,"btnClass"],["scope","row"],[3,"onBtnClick","btnTitle"],[1,"fa-solid","fa-pen-to-square"],[1,"fa-solid","fa-eye"],[1,"fa-solid","fa-eye-slash"],[3,"btnTitle","disabled"],[3,"btnTitle"],[1,"fa-solid","fa-user-check"],[1,"fa-solid","fa-user-xmark"],["type","text","formControlName","username",1,"form-control"],["type","password","formControlName","password",1,"form-control"]],template:function(n,r){if(n&1){let i=U();c(0,"section",1)(1,"div",2)(2,"div",3)(3,"p"),p(4,"User Management"),u()(),c(5,"div",4)(6,"app-button",5),E("onBtnClick",function(){return S(i),D(r.showModal())})("click",function(){return S(i),D(r.isAddUser=!0)}),p(7,"Add User"),u()()(),c(8,"div",6)(9,"div",7)(10,"label",8),p(11," Name: "),u(),C(12,"input",9),u(),c(13,"div",7)(14,"label",8),p(15," Status: "),u(),C(16,"input",10),u(),c(17,"div",7)(18,"label",8),p(19," Role: "),u(),C(20,"input",11),u(),c(21,"div",7)(22,"app-button",12),E("onBtnClick",function(){return S(i),D(r.onSearch())}),p(23,"Search"),u(),c(24,"app-button",12),E("onBtnClick",function(){return S(i),D(r.onRefresh())}),p(25,"Refresh"),u()(),c(26,"div",13)(27,"select",14),E("change",function(){return S(i),D(r.onSearch())}),c(28,"option",15),p(29,"2"),u(),c(30,"option",16),p(31,"3"),u(),c(32,"option",17),p(33,"5"),u(),c(34,"option",18),p(35,"10"),u(),c(36,"option",19),p(37,"20"),u(),c(38,"option",20),p(39,"50"),u(),c(40,"option",21),p(41,"100"),u()()()(),c(42,"div"),C(43,"app-alert"),u(),c(44,"div",22)(45,"h6",23),p(46,"Users"),u(),c(47,"div",24)(48,"table",25)(49,"thead")(50,"tr")(51,"th",26),p(52,"Sl.No"),u(),c(53,"th",27),E("click",function(){return S(i),D(r.onSort("name"))}),p(54,"Name"),u(),c(55,"th",27),E("click",function(){return S(i),D(r.onSort("email"))}),p(56,"Email"),u(),c(57,"th",27),E("click",function(){return S(i),D(r.onSort("role"))}),p(58,"Role"),u(),c(59,"th",27),E("click",function(){return S(i),D(r.onSort("mobile"))}),p(60,"Mobile"),u(),c(61,"th",27),E("click",function(){return S(i),D(r.onSort("isActive"))}),p(62,"Status"),u(),c(63,"th",26),p(64,"Actions"),u()()(),c(65,"tbody"),G(66,kA,24,10,"tr",null,z),u()()(),c(68,"nav")(69,"ul",28)(70,"li",29)(71,"a",30),E("click",function(){return S(i),D(r.onPageChange(r.currentPage-1))}),p(72,"Previous"),u()(),G(73,NA,3,3,"li",29,z),c(75,"li",29)(76,"a",30),E("click",function(){return S(i),D(r.onPageChange(r.currentPage+1))}),p(77,"Next"),u()()()()(),c(78,"div",31,0)(80,"div",32)(81,"div",33)(82,"div",34),k(83,OA,2,0,"h1",35)(84,RA,2,0,"h1",35),c(85,"button",36),E("click",function(){return S(i),D(r.hideModal())}),u()(),c(86,"div",37)(87,"form",38)(88,"app-form",39),C(89,"input",40),u(),c(90,"app-form",39),C(91,"input",41),u(),k(92,PA,4,8),c(93,"app-form",39),C(94,"input",42),u(),c(95,"app-form",39)(96,"select",43)(97,"option"),p(98,"--Select--"),u(),c(99,"option",44),p(100,"User"),u(),c(101,"option",45),p(102,"Service Provider"),u(),c(103,"option",46),p(104,"Admin"),u()()(),c(105,"div",47),k(106,LA,2,1,"app-button",48)(107,VA,2,1,"app-button",48),c(108,"app-button",12),E("onBtnClick",function(){return S(i),D(r.hideModal())}),p(109,"Cancel"),u()()()()()()()()}n&2&&(f(6),g("btnClass","btn-dark"),f(2),g("formGroup",r.searchFilterForm),f(14),g("btnClass","btn-dark mt-4 rounded-pill"),f(2),g("btnClass","btn-dark mt-4 ms-3 rounded-pill"),f(42),q(r.users()),f(4),qe("disabled",r.currentPage===1),f(3),q(r.getTotalPages()),f(3),qe("disabled",r.currentPage===r.getLastpage()),f(7),T(r.isAddUser?83:84),f(4),g("formGroup",r.userForm),f(),g("label","Name:")("tooltip","Enter name")("Validation",r.userForm.controls.name.touched&&r.userForm.controls.name.errors?r.userForm.controls.name.errors:ee(25,mo)),f(2),g("label","Email:")("tooltip","Enter email")("Validation",r.userForm.controls.email.touched&&r.userForm.controls.email.errors?r.userForm.controls.email.errors:ee(26,mo)),f(2),T(r.isAddUser?92:-1),f(),g("label","Mobile:")("tooltip","Enter contact number")("Validation",r.userForm.controls.mobile.touched&&r.userForm.controls.mobile.errors?r.userForm.controls.mobile.errors:ee(27,mo)),f(2),g("label","Role:")("tooltip","Enter user role")("Validation",r.userForm.controls.role.touched&&r.userForm.controls.role.errors?r.userForm.controls.role.errors:ee(28,mo)),f(11),T(r.isAddUser?106:107),f(2),g("btnClass","btn-info m-3"))},dependencies:[We,ke,nt,$t,Ht,Ae,St,je,Be,Me,Le,ht,Ne]})};var UA=()=>({}),Oc=class e{destroy$=new V;activeRoute=b(gt);userServices=b(se);router=b(Ue);alertService=b(ae);verifyEmailForm=new Z({email:new w("",[A.required,A.pattern("^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+.[a-zA-Z]{2,}$")])});verifyEmail(){debugger;this.userServices.verifyUserEmail(this.verifyEmailForm.value).pipe(F(this.destroy$)).subscribe({next:t=>{console.log("verify email response: ",t),t.status===200?(this.alertService.getAlert("alert alert-success","Success!",t.body?.message||""),this.router.navigateByUrl(`/otp/${t.body?.data._id}`)):this.alertService.getAlert("alert alert-danger","Failed!",t.body?.message||""),this.verifyEmailForm.reset()},error:t=>{this.alertService.getAlert("alert alert-danger","Failed!",t.error.message)}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=H({type:e,selectors:[["app-verify-email"]],standalone:!0,features:[W],decls:19,vars:6,consts:[[1,"py-3","py-md-5"],[1,"container"],[1,"row","justify-content-center"],[1,"col-12","col-sm-10","col-md-8","col-lg-6","col-xl-5","col-xxl-4"],[1,"card","border","border-light-subtle","rounded-3","shadow-sm"],[1,"card-body","p-3","p-md-4","p-xl-5"],[1,"fs-6","fw-normal","text-center","text-secondary","mb-4"],[3,"formGroup"],[3,"label","tooltip","Validation"],["type","email","id","recipient-name","formControlName","email",1,"form-control"],[1,"d-grid","gap-2","d-md-block","text-center"],[1,"btn","btn-primary","btn-lg","m-3",3,"click","disabled"],[1,"btn","btn-danger","btn-lg","m-3"]],template:function(n,r){n&1&&(c(0,"section",0)(1,"div",1)(2,"div"),C(3,"app-alert"),u(),c(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div")(9,"h2",6),p(10,"Enter registered email id to verify"),u(),c(11,"form",7)(12,"app-form",8),C(13,"input",9),u(),c(14,"div",10)(15,"button",11),E("click",function(){return r.verifyEmail()}),p(16,"Verify"),u(),c(17,"button",12),p(18,"Cancel"),u()()()()()()()()()()),n&2&&(f(11),g("formGroup",r.verifyEmailForm),f(),g("label","Email:")("tooltip","Enter email")("Validation",r.verifyEmailForm.controls.email.touched&&r.verifyEmailForm.controls.email.errors?r.verifyEmailForm.controls.email.errors:ee(5,UA)),f(3),g("disabled",r.verifyEmailForm.invalid))},dependencies:[ke,nt,Ae,je,Be,Me,Le,Ne,ht]})};var Rc=class e{destroy$=new V;userService=b(se);router=b(Ue);alertService=b(ae);ngOnInit(){this.handleGoogleSignin()}handleGoogleSignin(){this.userService.handleGoogleSignin().pipe(F(this.destroy$)).subscribe({next:t=>{if(console.log("response from google sign in: ",t.body),t.status===200){this.router.navigateByUrl("dashboard");let n=t.body?.data,r={id:n._id,user:n.name,role:n.role,username:n.username,email:n.email,isActive:n.isActive};this.userService.setLoggedUser(r)}else this.alertService.getAlert("alert alert-danger","Login Failed",t.body?.message?t.body?.message:""),this.router.navigateByUrl("login")},error:t=>{this.alertService.getAlert("alert alert-danger","Login Failed",t.error.message),this.router.navigateByUrl("login")}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=H({type:e,selectors:[["app-google-auth-callback"]],standalone:!0,features:[W],decls:13,vars:0,consts:[[1,"container","mt-3"],[1,"h-100","d-flex","align-items-center","justify-content-center"],[1,"spinner-border","text-muted"],[1,"spinner-border","text-primary"],[1,"spinner-border","text-success"],[1,"spinner-border","text-info"],[1,"spinner-border","text-warning"],[1,"spinner-border","text-danger"],[1,"spinner-border","text-secondary"],[1,"spinner-border","text-dark"],[1,"spinner-border","text-light"]],template:function(n,r){n&1&&(c(0,"div",0)(1,"div"),C(2,"app-alert"),u(),c(3,"div",1),C(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10),u()())},dependencies:[Ne]})};var Lr=class e{http=b(wn);baseUrl=tt.apiServiceUrl;constructor(){}getTotalServices(){return this.http.get(`${this.baseUrl}services/count`,{observe:"response"})}createService(t){return this.http.post(`${this.baseUrl}new`,t,{observe:"response"})}getAllServices(t){return this.http.get(`${this.baseUrl}services`,{observe:"response",params:t})}deleteService(t){return this.http.delete(`${this.baseUrl}${t}`,{observe:"response"})}getServiceById(t){return this.http.get(`${this.baseUrl}${t}`,{observe:"response"})}editService(t,n){return this.http.patch(`${this.baseUrl}${n}`,t,{observe:"response"})}editStatus(t){return this.http.patch(`${this.baseUrl}status`,{id:t},{observe:"response"})}approveService(t){return this.http.patch(`${this.baseUrl}approve`,{id:t},{observe:"response"})}getServiceByName(t){return this.http.get(`${this.baseUrl}name/${t}`,{observe:"response"})}static \u0275fac=function(n){return new(n||e)};static \u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})};var Pn=class e{eventServices=ge({});service="";servicesByName=ge([]);bookingFormValue=ge({_id:"",userId:"",user:"",event:"",img:"",service:"",serviceId:"",providerId:"",eventId:"",services:[],deliveryDate:new Date,venue:{building:"",street:"",city:"",district:"",state:"",pbNo:0},totalCount:0,isConfirmed:!1});constructor(){}setServiceData(t,n){this.service=t,this.servicesByName.set(n)}getServiceName(){return this.service}getServiceData(){return this.servicesByName()}setEventServiceData(t){this.eventServices.set(t)}getEventServiceData(){return this.eventServices()}setBookingFormData(t){this.bookingFormValue.set(t)}getBookingFormData(){return this.bookingFormValue()}static \u0275fac=function(n){return new(n||e)};static \u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})};var jA=["serviceModal"];function BA(e,t){if(e&1&&(c(0,"p"),p(1),u()),e&2){let n=v(2).$implicit;f(),$("Price:\u20B9 ",n.minPrice,"")}}function $A(e,t){if(e&1&&(c(0,"p"),p(1),u()),e&2){let n=v(2).$implicit;f(),Yt("Price range:\u20B9 ",n.minPrice," - \u20B9 ",n.maxPrice,"")}}function HA(e,t){if(e&1&&k(0,BA,2,1,"p")(1,$A,2,2,"p"),e&2){let n=v().$implicit;T(n.minPrice===n.maxPrice?0:1)}}function zA(e,t){if(e&1&&(c(0,"p"),p(1),u()),e&2){let n=v(3).$implicit;f(),$("Price:\u20B9 ",n.minPrice,"")}}function GA(e,t){if(e&1&&(c(0,"p"),p(1),u()),e&2){let n=v(3).$implicit;f(),Yt("Price range:\u20B9 ",n.minPrice," - \u20B9 ",n.maxPrice,"")}}function qA(e,t){if(e&1&&(c(0,"div",26)(1,"p"),p(2),u(),k(3,zA,2,1,"p")(4,GA,2,2,"p"),u()),e&2){let n=t.$implicit,r=t.$index,i=v(2).$implicit;f(2),Yt("",r+1,". ",n,""),f(),T(i.minPrice===i.maxPrice?3:4)}}function WA(e,t){if(e&1&&G(0,qA,5,3,"div",26,z),e&2){let n=v().$implicit;q(n.choicesType)}}function ZA(e,t){if(e&1&&(c(0,"div",22)(1,"div",23),C(2,"img",24),u(),c(3,"div",25)(4,"p")(5,"strong"),p(6),u()(),k(7,HA,2,1)(8,WA,2,0),u()()),e&2){let n=t.$implicit,r=v();f(2),g("src",r.serviceImgUrl+n.choiceImg[0],X),f(4),N(n._id),f(),T(n.choicesType.length===0?7:8)}}var Pc=class e{destroy$=new V;serviceModal;serviceServices=b(Lr);alertService=b(ae);dataService=b(Pn);router=b(Ue);searchParams=new Ie;services=ge([]);serviceByName=ge([]);servicesName="";serviceEvents=new Set;serviceChoicesDb=[];serviceChoices=new Set;servicePrizeRange="";serviceImgUrl=tt.serviceImgUrl;serviceImg="";ngOnInit(){this.onLoad()}onLoad(){this.searchParams=this.searchParams.set("isApproved",!0),this.getAllServices(this.searchParams)}getAllServices(t){this.serviceServices.getAllServices(t).subscribe({next:n=>{n.status===200?(console.log("getAllServices response",n.body?.data),this.services.set(n.body?.data)):(console.log(n.body?.message),this.alertService.getAlert("alert alert-danger","Failed",n.body?.message||""))},error:n=>{this.alertService.getAlert("alert alert-danger","Register User Failed",n.error.message)}})}getService(t){this.servicesName=t,this.serviceServices.getServiceByName(t).subscribe({next:n=>{if(n.status===200){console.log("getServiceByName response: ",n.body?.data),this.serviceByName.set(n.body?.data),this.serviceImg=n.body?.data[0].img[0];let r=this.services().filter(i=>i.name===t);console.log("user service extra: ",r),this.dataService.setServiceData(t,r),this.router.navigate(["services/details"])}else console.log(n.body?.message),this.alertService.getAlert("alert alert-danger","Failed",n.body?.message||"")},error:n=>{this.alertService.getAlert("alert alert-danger","Register User Failed",n.error.message),console.log("getServiceByName error: ",n.error.message)}})}getEvents(){return Array.from(this.serviceEvents)}getChoices(){return Array.from(this.serviceChoices)}showModal(){this.serviceModal.nativeElement.style.display="block"}hideModal(){this.serviceModal.nativeElement.style.display="none",this.onLoad()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=H({type:e,selectors:[["app-user-services"]],viewQuery:function(n,r){if(n&1&&st(jA,5),n&2){let i;Qe(i=Ye())&&(r.serviceModal=i.first)}},standalone:!0,features:[W],decls:51,vars:5,consts:[["serviceModal",""],[1,"container"],[1,"row"],[1,"col-md-12","p-2"],[1,"m-4","text-center"],[1,"m-2"],[1,"col-md-9","p-2"],[1,"m-2","subtitle"],[3,"onBtnClick","btnClass"],[1,"col-md-3","p-2"],["src","https://7xweddings.com/images/services/design-and-decor.jpg","alt","","width","300","height","300"],["src","https://7xweddings.com/images/services/food-and-beverage.jpg","alt","","width","300","height","300"],["src","https://framezhouse.com/wp-content/uploads/2024/06/Event-Photography.jpg","alt","","width","300","height","300"],[1,"modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","staticBackdropLabel",1,"modal-title","fs-5","text-center"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"col-md-12","mb-3"],["alt","","width","100%","height","80",1,"img-fluid",3,"src"],[1,"row","border"],[1,"col-md-4","mt-3","mb-3"],["alt","","width","100%","height","30",1,"img-fluid",3,"src"],[1,"col-md-8","mt-3","mb-3","p-3"],[1,"col-md-12"]],template:function(n,r){if(n&1){let i=U();c(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1",4),p(4,"Event services"),u(),c(5,"p",5),p(6,` "Dtream Events" is your one stop purveyor for all things related to designing, planning and perfectly executing the most enchanting events. We offer all wedding planning services in India under one roof, saving you the time and trouble of coordinating between various agencies. Our wedding planning packages are tailor made for each client taking into consideration their taste, preferences and budget. We guarantee \u201Cpersonal professionalism\u201D meaning that when you choose us as your wedding event management company, we will efficiently and seamlessly carry out all our duties and cater to the smallest of your requirements so that each event reflects your family's heritage and traditions. Give us the privilege of managing your wedding so you can enjoy it as a guest. `),u()(),c(7,"div",2)(8,"div",6)(9,"h2",7),p(10,"Decor and Design"),u(),c(11,"p",5),p(12," As they say the first impression is the last impression, and the first thing that any guest notices at the wedding is the decoration and ambience, hence the primary focus of every event is the theme and suitable set up. Year after year we have been awarded the best wedding decoration title for our innovative and unique designs. We are the top wedding decorators in India because we have the most talented designers in our team and strong collaborations with quality vendors. With a combination of our inhouse team of experts and our tie-ups with competent agencies we are the most sought after wedding decoration service provider in India. All our events vibe differently from one other because each is specially curated keeping in mind the requirement and choice of individual clients. "),u(),c(13,"app-button",8),E("onBtnClick",function(){return S(i),D(r.getService("Decor"))}),p(14,"Know More"),u()(),c(15,"div",9),C(16,"img",10),u()(),c(17,"div",2)(18,"div",9),C(19,"img",11),u(),c(20,"div",6)(21,"h2",7),p(22,"Food and Beverages"),u(),c(23,"p",5),p(24," Food is an integral part of any celebration. It is a medium to spread joy and warmth, it can be a conversation starter or an ice breaker and a symbol of your culture and heritage. Every region of India has its own traditional wedding food and it is important to find a wedding caterer who understands the flavour of the regional cuisine. It is tricky to select the best wedding catering service without full knowledge of the industry hence it is best to use a wedding planner who can identify them for you. Indian wedding catering is very elaborate and complex, because each pre wedding function has a different significance and the food has to match the tone of the event. Hence it becomes necessary to have a different wedding caterer for each event who specialise in the cuisine required. Deciding the menu, holding food tasting and coordinating between various wedding caterers can be a daunting task and this all is taken care of by our team of experts. "),u(),c(25,"app-button",8),E("onBtnClick",function(){return S(i),D(r.getService("Catering"))}),p(26,"Know More"),u()()(),c(27,"div",2)(28,"div",6)(29,"h2",7),p(30,"Capture Events"),u(),c(31,"p",5),p(32," Make every moment unforgettable with our Event Photography and Videography services. Whether it's a wedding, birthday, corporate event, or any special celebration, our professional photographers and videographers ensure that your precious memories are beautifully captured and preserved forever. "),u(),c(33,"app-button",8),E("onBtnClick",function(){return S(i),D(r.getService("Event Coverage"))}),p(34,"Know More"),u()(),c(35,"div",9),C(36,"img",12),u()(),c(37,"div",13,0)(39,"div",14)(40,"div",15)(41,"div",16)(42,"h1",17),p(43),u(),c(44,"button",18),E("click",function(){return S(i),D(r.hideModal())}),u()(),c(45,"div",19)(46,"div",2)(47,"div",20),C(48,"img",21),u()(),G(49,ZA,9,3,"div",22,z),u()()()()()()}n&2&&(f(13),g("btnClass","btn-dark btn-sm rounded-pill m-2"),f(12),g("btnClass","btn-dark btn-sm rounded-pill m-2"),f(8),g("btnClass","btn-dark btn-sm rounded-pill m-2"),f(10),N(r.servicesName),f(5),g("src",r.serviceImgUrl+r.serviceImg,X),f(),q(r.serviceByName()))},dependencies:[We],styles:['@font-face{font-family:Alex Brush;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/alexbrush/v22/SZc83FzrJKuqFbwMKk6EhUrz7QtO.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Alex Brush;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/alexbrush/v22/SZc83FzrJKuqFbwMKk6EhUvz7QtO.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Alex Brush;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/alexbrush/v22/SZc83FzrJKuqFbwMKk6EhUXz7Q.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Bokor;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/bokor/v31/m8JcjfpeeaqTiS2afojrcQ.woff2) format("woff2");unicode-range:U+1780-17FF,U+19E0-19FF,U+200C-200D,U+25CC}@font-face{font-family:Bokor;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/bokor/v31/m8JcjfpeeaqTiS2Rfog.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Parkinsans;font-style:normal;font-weight:300 800;font-display:swap;src:url(https://fonts.gstatic.com/s/parkinsans/v1/-W_7XJXvQyPb1QfpBpRrfkoLfq0k.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Parkinsans;font-style:normal;font-weight:300 800;font-display:swap;src:url(https://fonts.gstatic.com/s/parkinsans/v1/-W_7XJXvQyPb1QfpBpRrfkQLfg.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}h1[_ngcontent-%COMP%]{font-family:Alex Brush,cursive;font-weight:500;font-style:normal;font-size:60px}']})};var hi=class{_id;name;img;events;provider;choices;constructor(){this._id="",this.name="",this.img="",this.events=[],this.provider="",this.choices=[{choiceName:"",choicePrice:0,choiceType:"",choiceImg:"",choiceImgCategory:""}]}},go=class{serviceName;isApproved;provider;pageNumber;pageSize;sortBy;sortOrder;constructor(){this.serviceName="",this.isApproved="",this.provider="",this.pageNumber="1",this.pageSize="2",this.sortBy="",this.sortOrder="asc"}};function QA(e,t){if(e&1&&(c(0,"td"),p(1),u()),e&2){let n=v().$index,r=v();f(),N(r.extra[n].name)}}function YA(e,t){if(e&1&&(c(0,"td"),p(1),u()),e&2){let n=v().$implicit;f(),N(n.provider)}}function KA(e,t){if(e&1&&(c(0,"p"),p(1),u()),e&2){let n=t.$implicit;f(),N(n)}}function JA(e,t){if(e&1&&(c(0,"p"),p(1),u()),e&2){let n=v().$implicit;f(),$("Type:",n.choiceType,"")}}function XA(e,t){if(e&1&&(c(0,"div",31),p(1),c(2,"p"),p(3),u(),k(4,JA,2,1,"p"),c(5,"p"),p(6),u()()),e&2){let n=t.$implicit,r=t.$index;f(),$(" ",r+1,""),f(2),$("Name:",n.choiceName,""),f(),T(n.choiceType!==""?4:-1),f(2),$("Price:",n.choicePrice,"")}}function eM(e,t){e&1&&p(0," Active ")}function tM(e,t){e&1&&p(0," Blocked ")}function nM(e,t){e&1&&p(0," Approved ")}function rM(e,t){e&1&&p(0," - ")}function iM(e,t){e&1&&(c(0,"app-button",32),C(1,"i",34),u()),e&2&&g("btnTitle","Service Approved")("disabled",!0)}function oM(e,t){if(e&1){let n=U();c(0,"app-button",35),E("onBtnClick",function(){S(n);let i=v().$implicit,o=v();return D(o.approveService(i._id))}),C(1,"i",36),u()}e&2&&g("btnTitle","Approve service")}function sM(e,t){if(e&1&&(c(0,"tr")(1,"th",27),p(2),u(),c(3,"td"),p(4),u(),k(5,QA,2,1,"td")(6,YA,2,1,"td"),c(7,"td"),G(8,KA,2,1,"p",null,z),u(),c(10,"td")(11,"p",28)(12,"button",29),p(13," See Options "),u()(),c(14,"div",30),G(15,XA,7,4,"div",31,z),u()(),c(17,"td"),k(18,eM,1,0)(19,tM,1,0),u(),c(20,"td"),k(21,nM,1,0)(22,rM,1,0),u(),c(23,"td"),k(24,iM,2,2,"app-button",32)(25,oM,2,1,"app-button",33),u()()),e&2){let n=t.$implicit,r=t.$index,i=v();f(2),N(r+1),f(2),N(n.name),f(),T(i.extra.length>0?5:6),f(3),q(n.events),f(4),Ft("data-bs-target","#collapseExample"+r)("aria-controls","collapseExample"+r),f(2),g("id","collapseExample"+r),f(),q(n.choices),f(3),T(n.isActive?18:19),f(3),T(n.isApproved?21:22),f(3),T(n.isApproved?24:25)}}function aM(e,t){if(e&1){let n=U();c(0,"li",25)(1,"a",26),E("click",function(){let i=S(n).$implicit,o=v();return D(o.onPageChange(i))}),p(2),u()()}if(e&2){let n=t.$implicit,r=v();f(),qe("active",r.currentPage===n),f(),N(n)}}var Lc=class e{destroy$=new V;serviceFromObj=new hi;searchFilterFormObj=new go;searchFilterForm=new Z({});searchParams=new Ie;serviceService=b(Lr);alertService=b(ae);currentPage=Number(this.searchFilterFormObj.pageNumber);totalServices=0;services=ge([]);extra=[];errMessage="Some error occured";constructor(){this.getTotalServices(),this.initialiseSearchFilterForm()}ngOnInit(){this.onRefresh()}initialiseSearchFilterForm(){this.searchFilterForm=new Z({serviceName:new w(this.searchFilterFormObj.serviceName),provider:new w(this.searchFilterFormObj.provider),pageNumber:new w(this.searchFilterFormObj.pageNumber),pageSize:new w(this.searchFilterFormObj.pageSize),sortBy:new w(this.searchFilterFormObj.sortBy),sortOrder:new w(this.searchFilterFormObj.sortOrder)})}getTotalServices(){this.serviceService.getTotalServices().pipe(F(this.destroy$)).subscribe({next:t=>{t.status===200?this.totalServices=t.body?.data:(console.log(t.body?.message),this.alertService.getAlert("alert alert-danger","Failed",t.body?.message?t.body?.message:this.errMessage))},error:t=>{this.alertService.getAlert("alert alert-danger","Register User Failed",t.error.message)}})}onRefresh(){this.searchParams=new Ie,this.searchFilterForm.get("serviceName")?.setValue(""),this.searchFilterForm.get("provider")?.setValue(""),this.searchParams=this.searchParams.set("pageNumber",this.searchFilterFormObj.pageNumber).set("pageSize",this.searchFilterFormObj.pageSize),this.getAllServices(this.searchParams)}onSearch(){console.log(this.searchFilterForm.value),this.searchFilterFormObj=this.searchFilterForm.value,this.searchParams=this.searchParams.set("pageNumber",this.searchFilterFormObj.pageNumber).set("pageSize",this.searchFilterFormObj.pageSize).set("sortBy",this.searchFilterFormObj.sortBy).set("sortOrder",this.searchFilterFormObj.sortOrder),this.searchFilterFormObj.serviceName!==""&&(this.searchParams=this.searchParams.set("serviceName",this.searchFilterFormObj.serviceName)),this.searchFilterFormObj.provider!==""&&(this.searchParams=this.searchParams.set("provider",this.searchFilterFormObj.provider)),this.getAllServices(this.searchParams)}onSort(t){this.searchFilterFormObj.sortOrder=this.searchFilterFormObj.sortOrder==="asc"?"desc":"asc",this.searchParams=this.searchParams.set("sortBy",t).set("sortOrder",this.searchFilterFormObj.sortOrder),console.log(this.searchParams),this.getAllServices(this.searchParams)}getAllServices(t){this.serviceService.getAllServices(t).pipe(F(this.destroy$)).subscribe({next:n=>{n.status===200?(this.services.set(n.body?.data),console.log("all services new: ",n.body?.extra),this.extra=n.body?.extra,console.log("all services: ",this.services())):(console.log("could not get users"),this.alertService.getAlert("alert alert-danger","Failed",n.body?.message?n.body?.message:this.errMessage))},error:n=>{console.log(n),this.alertService.getAlert("alert alert-danger","Failed!",n.error.message)}})}approveService(t){debugger;this.serviceService.approveService(t).pipe(F(this.destroy$)).subscribe({next:n=>{console.log("verify user response: ",n),n.status===200?(this.getAllServices(this.searchParams),this.alertService.getAlert("alert alert-success","Success!",n.body?.message?n.body?.message:"Service approved successfully")):this.alertService.getAlert("alert alert-danger","Failed",n.body?.message?n.body?.message:this.errMessage)},error:n=>{console.log(n),this.alertService.getAlert("alert alert-danger","Failed!",n.error.message)}})}deleteService(t){this.serviceService.deleteService(t).pipe(F(this.destroy$)).subscribe({next:n=>{n.status===200?(this.alertService.getAlert("alert alert-success","Success!",n.body?.message?n.body?.message:"Service deleted successfully"),this.getAllServices(this.searchParams)):(console.log(n.body?.message),this.alertService.getAlert("alert alert-danger","Failed",n.body?.message?n.body?.message:this.errMessage))},error:n=>{this.alertService.getAlert("alert alert-danger","Register User Failed",n.error.message)}})}onPageChange(t){this.currentPage=t,this.searchFilterFormObj.pageNumber=t.toString(),this.searchParams=this.searchParams.set("pageNumber",this.searchFilterFormObj.pageNumber),this.getAllServices(this.searchParams)}getTotalPages(){let t=Math.ceil(this.totalServices/Number(this.searchFilterFormObj.pageSize));return Array(t).fill(0).map((n,r)=>r+1)}getLastpage(){return this.totalServices/Number(this.searchFilterFormObj.pageSize)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=H({type:e,selectors:[["app-admin-services"]],standalone:!0,features:[W],decls:73,vars:7,consts:[[1,"container","mt-4","p-3"],[1,"row","mb-2"],[1,"col-md-8","text-dark","fs-3","fw-bold"],[1,"row","d-flex","flex-row",3,"formGroup"],[1,"col-md-3"],["for",""],["type","text","formControlName","serviceName",1,"form-control"],["type","text","formControlName","provider",1,"form-control"],[3,"onBtnClick","btnClass"],[1,"col-md-3","align-item-left","mt-4","mb-4"],["formControlName","pageSize",3,"change"],["value","2"],["value","3"],["value","5"],["value","10"],["value","20"],["value","50"],["value","100"],[1,"bg-light","rounded","h-100","p-4"],[1,"mb-4"],[1,"table-responsive"],[1,"table","table-striped"],["scope","col"],["scope","col","role","button",3,"click"],[1,"pagination"],[1,"page-item"],["role","button",1,"page-link",3,"click"],["scope","row"],[1,"d-inline-flex","gap-1"],["type","button","data-bs-toggle","collapse","aria-expanded","false",1,"btn","btn-primary"],[1,"collapse",3,"id"],[1,"card","card-body"],[3,"btnTitle","disabled"],[3,"btnTitle"],[1,"fa-regular","fa-thumbs-up"],[3,"onBtnClick","btnTitle"],[1,"fa-regular","fa-thumbs-down"]],template:function(n,r){n&1&&(c(0,"section",0)(1,"div",1)(2,"div",2)(3,"p"),p(4,"Service Management"),u()()(),c(5,"div",3)(6,"div",4)(7,"label",5),p(8," Name: "),u(),C(9,"input",6),u(),c(10,"div",4)(11,"label",5),p(12," Provider: "),u(),C(13,"input",7),u(),c(14,"div",4)(15,"app-button",8),E("onBtnClick",function(){return r.onSearch()}),p(16,"Search"),u(),c(17,"app-button",8),E("onBtnClick",function(){return r.onRefresh()}),p(18,"Refresh"),u()(),c(19,"div",9)(20,"select",10),E("change",function(){return r.onSearch()}),c(21,"option",11),p(22,"2"),u(),c(23,"option",12),p(24,"3"),u(),c(25,"option",13),p(26,"5"),u(),c(27,"option",14),p(28,"10"),u(),c(29,"option",15),p(30,"20"),u(),c(31,"option",16),p(32,"50"),u(),c(33,"option",17),p(34,"100"),u()()()(),c(35,"div"),C(36,"app-alert"),u(),c(37,"div",18)(38,"h6",19),p(39,"Service"),u(),c(40,"div",20)(41,"table",21)(42,"thead")(43,"tr")(44,"th",22),p(45,"Sl.No"),u(),c(46,"th",23),E("click",function(){return r.onSort("name")}),p(47,"Name"),u(),c(48,"th",23),E("click",function(){return r.onSort("provider")}),p(49,"Provider"),u(),c(50,"th",23),E("click",function(){return r.onSort("events")}),p(51,"Events"),u(),c(52,"th",22),p(53,"Options"),u(),c(54,"th",23),E("click",function(){return r.onSort("isActive")}),p(55,"Status"),u(),c(56,"th",23),E("click",function(){return r.onSort("isApproved")}),p(57,"Approval"),u(),c(58,"th",22),p(59,"Actions"),u()()(),c(60,"tbody"),G(61,sM,26,9,"tr",null,z),u()()(),c(63,"nav")(64,"ul",24)(65,"li",25)(66,"a",26),E("click",function(){return r.onPageChange(r.currentPage-1)}),p(67,"Previous"),u()(),G(68,aM,3,3,"li",25,z),c(70,"li",25)(71,"a",26),E("click",function(){return r.onPageChange(r.currentPage+1)}),p(72,"Next"),u()()()()()()),n&2&&(f(5),g("formGroup",r.searchFilterForm),f(10),g("btnClass","btn-dark mt-4 rounded-pill"),f(2),g("btnClass","btn-dark mt-4 ms-3 rounded-pill"),f(44),q(r.services()),f(4),qe("disabled",r.currentPage===1),f(3),q(r.getTotalPages()),f(3),qe("disabled",r.currentPage===r.getLastpage()))},dependencies:[ke,$t,Ht,Ae,St,je,Be,Me,Le,We,Ne]})};var Vc={events:["Marriage","Birthday","Engagement"],choicesName:["Menu","Dining"],menuTypes:["Kerala","Chinese","North Indian","Arabic"],diningTypes:["Plated","Buffet"]},B_={events:["Marriage","Birthday","Engagement"],choicesName:["Natural Materials","Artificial Materials"]},$_={events:["Marriage","Birthday","Engagement"],choicesName:["Videography","Photography","Photography and Videography"]};var lM=["modal"],cM=["serviceImgInput"],uM=["choiceImgInput"],Uc=()=>({});function dM(e,t){if(e&1&&(c(0,"p"),p(1),u()),e&2){let n=t.$implicit;f(),N(n)}}function fM(e,t){if(e&1&&(c(0,"p"),p(1),u()),e&2){let n=v().$implicit;f(),$("Type:",n.choiceType,"")}}function pM(e,t){if(e&1&&(c(0,"div",56),p(1),c(2,"p"),p(3),u(),k(4,fM,2,1,"p"),c(5,"p"),p(6),u()()),e&2){let n=t.$implicit,r=t.$index;f(),$(" ",r+1,""),f(2),$("Name:",n.choiceName,""),f(),T(n.choiceType!==""?4:-1),f(2),$("Price:",n.choicePrice,"")}}function hM(e,t){e&1&&p(0," Active ")}function mM(e,t){e&1&&p(0," Blocked ")}function gM(e,t){e&1&&p(0," Approved ")}function vM(e,t){e&1&&p(0," Approval Pending ")}function yM(e,t){e&1&&C(0,"i",59)}function _M(e,t){e&1&&C(0,"i",60)}function CM(e,t){if(e&1){let n=U();c(0,"tr")(1,"th",52),p(2),u(),c(3,"td"),p(4),u(),c(5,"td"),p(6),u(),c(7,"td"),G(8,dM,2,1,"p",null,z),u(),c(10,"td")(11,"p",53)(12,"button",54),p(13," See Options "),u()(),c(14,"div",55),G(15,pM,7,4,"div",56,z),u()(),c(17,"td"),k(18,hM,1,0)(19,mM,1,0),u(),c(20,"td"),k(21,gM,1,0)(22,vM,1,0),u(),c(23,"td")(24,"app-button",57),E("onBtnClick",function(){let i=S(n).$implicit,o=v();return D(o.onEdit(i._id))}),C(25,"i",58),u(),c(26,"app-button",57),E("onBtnClick",function(){let i=S(n).$implicit,o=v();return D(o.setStatus(i._id))}),k(27,yM,1,0,"i",59)(28,_M,1,0,"i",60),u(),c(29,"app-button",57),E("onBtnClick",function(){let i=S(n).$implicit,o=v();return D(o.deleteService(i._id))}),C(30,"i",61),u()()()}if(e&2){let n=t.$implicit,r=t.$index,i=v();f(2),N(r+1),f(2),N(n.name),f(2),N(i.provider),f(2),q(n.events),f(4),Ft("data-bs-target","#collapseExample"+r)("aria-controls","collapseExample"+r),f(2),g("id","collapseExample"+r),f(),q(n.choices),f(3),T(n.isActive?18:19),f(3),T(n.isApproved?21:22),f(3),g("btnTitle","Edit Service"),f(2),g("btnTitle",n.isActive?"Block Service":"Unblock Service"),f(),T(n.isActive?27:28),f(2),g("btnTitle","Delete Service")}}function bM(e,t){if(e&1){let n=U();c(0,"li",29)(1,"a",30),E("click",function(){let i=S(n).$implicit,o=v();return D(o.onPageChange(i))}),p(2),u()()}if(e&2){let n=t.$implicit,r=v();f(),qe("active",r.currentPage===n),f(),N(n)}}function EM(e,t){e&1&&(c(0,"h1",35),p(1,"Add User"),u())}function wM(e,t){e&1&&(c(0,"h1",35),p(1,"Edit User"),u())}function SM(e,t){if(e&1){let n=U();c(0,"div",47)(1,"select",62)(2,"option",63),p(3,"Marriage"),u(),c(4,"option",63),p(5,"Engagement"),u(),c(6,"option",63),p(7,"Birthday"),u()(),c(8,"app-button",64),E("onBtnClick",function(){let i=S(n).$index,o=v();return D(o.closeEvent(i))}),p(9,"X"),u()()}if(e&2){let n=t.$index;f(),g("formControlName",n),f(),g("value","Marriage"),f(2),g("value","Engagement"),f(2),g("value","Birthday"),f(2),g("btnClass","btn-danger ms-2")("btnTitle","Delete event")}}function DM(e,t){if(e&1&&(c(0,"option",63),p(1),u()),e&2){let n=t.$implicit;g("value",n),f(),N(n)}}function xM(e,t){if(e&1&&(c(0,"option",63),p(1),u()),e&2){let n=t.$implicit;g("value",n),f(),N(n)}}function IM(e,t){if(e&1){let n=U();c(0,"app-form",67)(1,"select",70),G(2,xM,2,2,"option",63,z),u()(),c(4,"app-form",67),C(5,"img",44),c(6,"input",71,2),E("change",function(i){S(n);let o=v().$index,s=v();return D(s.onImageUpload(i,"choiceImg",o))}),u()()}if(e&2){let n=v().$index,r=v();g("label","Option Type:")("tooltip","Enter option type"),f(2),q(r.type[n]),f(2),g("label","Image of choice:")("tooltip","Select img"),f(),g("src",r.choiceImageUrl[n]?r.choiceImageUrl[n]:r.getChoiceImg(n),X)}}function TM(e,t){if(e&1){let n=U();c(0,"app-form",67),C(1,"img",44),c(2,"input",71,2),E("change",function(i){S(n);let o=v().$index,s=v();return D(s.onImageUpload(i,"choiceImg",o))}),u()()}if(e&2){let n=v().$index,r=v();g("label","Image of choice:")("tooltip","Select img"),f(),g("src",r.choiceImageUrl[n]?r.choiceImageUrl[n]:r.getChoiceImg(n),X)}}function FM(e,t){if(e&1){let n=U();c(0,"div",49)(1,"div",65)(2,"app-button",7),E("onBtnClick",function(){let i=S(n).$index,o=v();return D(o.closeChoice(i))}),p(3,"X"),u()(),c(4,"div",66)(5,"app-form",67)(6,"select",68),E("change",function(){let i=S(n).$index,o=v();return D(o.getChoiceTypeOptions(i))}),G(7,DM,2,2,"option",63,z),u()(),k(9,IM,8,5)(10,TM,4,3,"app-form",67),c(11,"app-form",67),C(12,"input",69),u()()()}if(e&2){let n=t.$index,r=v();g("formGroupName",n),f(2),g("btnClass","btn-danger"),f(3),g("label","Option Name:")("tooltip","Enter option name"),f(2),q(r.choice),f(2),T(r.isType?9:10),f(2),g("label","Option Price:")("tooltip","Enter option price")}}function AM(e,t){if(e&1){let n=U();c(0,"app-button",7),E("onBtnClick",function(){S(n);let i=v();return D(i.saveService())}),p(1,"Save Service"),u()}e&2&&g("btnClass","btn-success m-3")}function MM(e,t){if(e&1){let n=U();c(0,"app-button",7),E("onBtnClick",function(){S(n);let i=v();return D(i.editService(i.serviceForm.controls._id.value))}),p(1,"Update Service"),u()}e&2&&g("btnClass","btn-success m-3")}var jc=class e{destroy$=new V;serviceFromObj=new hi;searchFilterFormObj=new go;formModal;serviceImgInput;choiceImgInputs;serviceForm=new Z({});searchFilterForm=new Z({});searchParams=new Ie;serviceService=b(Lr);userService=b(se);alertService=b(ae);isAddService=!0;currentPage=Number(this.searchFilterFormObj.pageNumber);totalServices=0;services=ge([]);choice=[];type=[];isType=!1;providerId="";provider="";serviceImgUrl=tt.serviceImgUrl;imgUrl="";choiceImageUrl=[];constructor(){}ngOnInit(){this.initialiseServiceForm(),this.getTotalServices(),this.initialiseSearchFilterForm(),this.userService.loggedUser$.pipe(F(this.destroy$)).subscribe(t=>{this.providerId=t.id,this.provider=t.user,console.log(this.providerId,t)}),this.searchParams=this.searchParams.set("pageNumber",this.searchFilterFormObj.pageNumber).set("pageSize",this.searchFilterFormObj.pageSize),this.getAllServices(this.searchParams)}initialiseServiceForm(){this.serviceForm=new Z({_id:new w(this.serviceFromObj._id),name:new w(this.serviceFromObj.name,[A.required]),img:new w(this.serviceFromObj.img||null,[A.required]),provider:new w(this.serviceFromObj.provider,[A.required]),events:this.isAddService?new fn([new w(this.serviceFromObj.events,[A.required])]):new fn(this.serviceFromObj.events.map(t=>new w(t,[A.required]))),choices:new fn(this.serviceFromObj.choices.map(t=>new Z({choiceName:new w(t.choiceName,[A.required]),choiceType:new w(t.choiceType,[A.required]),choicePrice:new w(t.choicePrice===0?null:t.choicePrice,[A.required]),choiceImg:new w(t.choiceImg||null,[A.required]),choiceImgCategory:new w(t.choiceImgCategory||null)})))})}initialiseSearchFilterForm(){this.searchFilterForm=new Z({serviceName:new w(this.searchFilterFormObj.serviceName),isApproved:new w(this.searchFilterFormObj.isApproved),provider:new w(this.searchFilterFormObj.provider),pageNumber:new w(this.searchFilterFormObj.pageNumber),pageSize:new w(this.searchFilterFormObj.pageSize),sortBy:new w(this.searchFilterFormObj.sortBy),sortOrder:new w(this.searchFilterFormObj.sortOrder)})}getChoiceOptions(){let t=this.serviceForm.get("name")?.value;t==="Catering"?(this.choice=Vc.choicesName,this.isType=!0):t==="Decor"?(this.choice=B_.choicesName,this.isType=!1):t==="Event Coverage"&&(this.choice=$_.choicesName,this.isType=!1)}getEvents(){return this.serviceForm.get("events").controls}addEvent(){this.serviceForm.get("events").push(new w(this.serviceFromObj.events,[A.required]))}closeEvent(t){this.serviceForm.get("events").removeAt(t)}getChoices(){return this.serviceForm.get("choices").controls}getChoiceImg(t){let n=this.serviceForm.get("choices").at(t);return n?.get("choiceImg")?.value?n?.get("choiceImg")?.value:null}closeChoice(t){this.serviceForm.get("choices").removeAt(t)}addChoice(){let t=new Z({choiceName:new w(null,[A.required]),choiceType:new w(null,[A.required]),choicePrice:new w(null,[A.required]),choiceImg:new w(null,[A.required]),choiceImgCategory:new w(null,[A.required])});this.serviceForm.get("choices").push(t)}getChoiceTypeOptions(t){let i=this.serviceForm.get("choices").at(t).value.choiceName;i==="Menu"?this.type[t]=Vc.menuTypes:i==="Dining"&&(this.type[t]=Vc.diningTypes)}getChoiceTypes(t){let i=this.serviceForm.get("choices").at(t).value.choiceType,o=new Set(this.type[t]);return o.add(i),console.log("getChoiceTypes Array:",Array.from(o)),Array.from(o)}onImageUpload(t,n,r){let i=t.target;if(i.files&&i.files.length>0){let o=i.files[0],s="",a=new FileReader;a.readAsDataURL(o),a.onload=l=>{if(s=l.target.result||this.imgUrl,n==="img")this.serviceForm.get("img")?.setValue(o),this.imgUrl=s;else if(n==="choiceImg"&&r!==void 0){let h=this.serviceForm.get("choices").at(r);h.get("choiceImg")?.setValue(o);let m=o.name;h.get("choiceImgCategory")?.setValue(m),this.choiceImageUrl[r]=s}}}}getTotalServices(){this.serviceService.getTotalServices().pipe(F(this.destroy$)).subscribe({next:t=>{t.status===200?this.totalServices=t.body?.data:(console.log(t.body?.message),this.alertService.getAlert("alert alert-danger","Failed",t.body?.message?t.body?.message:""))},error:t=>{this.alertService.getAlert("alert alert-danger","Register User Failed",t.error.message)}})}onRefresh(){this.searchParams=new Ie,this.searchFilterForm.get("serviceName")?.setValue(""),this.searchFilterForm.get("provider")?.setValue(""),this.searchParams=this.searchParams.set("pageNumber",this.searchFilterFormObj.pageNumber).set("pageSize",this.searchFilterFormObj.pageSize),this.getAllServices(this.searchParams)}onSearch(){console.log(this.searchFilterForm.value),this.searchFilterFormObj=this.searchFilterForm.value,this.searchParams=this.searchParams.set("pageNumber",this.searchFilterFormObj.pageNumber).set("pageSize",this.searchFilterFormObj.pageSize).set("sortBy",this.searchFilterFormObj.sortBy).set("sortOrder",this.searchFilterFormObj.sortOrder),this.searchFilterFormObj.serviceName!==""&&(this.searchParams=this.searchParams.set("serviceName",this.searchFilterFormObj.serviceName)),this.searchFilterFormObj.provider!==""&&(this.searchParams=this.searchParams.set("provider",this.searchFilterFormObj.provider)),this.getAllServices(this.searchParams)}onSort(t){this.searchFilterFormObj.sortOrder=this.searchFilterFormObj.sortOrder==="asc"?"desc":"asc",this.searchParams=this.searchParams.set("sortBy",t).set("sortOrder",this.searchFilterFormObj.sortOrder),this.getAllServices(this.searchParams)}getAllServices(t){this.serviceService.getAllServices(t).pipe(F(this.destroy$)).subscribe({next:n=>{n.status===200?this.services.set(n.body?.data):(console.log("could not get users"),this.alertService.getAlert("alert alert-danger","Failed!",n.body?.message?n.body?.message:""))},error:n=>{console.log(n),this.alertService.getAlert("alert alert-danger","Failed!",n.error.message)}})}onAddService(){this.isAddService=!0,this.showModal()}onEdit(t){this.isAddService=!1,this.serviceService.getServiceById(t).pipe(F(this.destroy$)).subscribe({next:n=>{n.status===200?(this.serviceFromObj=n.body?.data,console.log("update form data: ",this.serviceFromObj),this.initialiseServiceForm(),this.getChoiceOptions(),this.serviceForm.get("choices").controls.forEach((i,o)=>this.getChoiceTypeOptions(o)),this.showModal()):this.alertService.getAlert("alert alert-danger","Failed",n.body?.message?n.body?.message:"")},error:n=>{console.log(n),this.alertService.getAlert("alert alert-danger","Failed!",n.error.message)}})}setStatus(t){console.log(t),this.serviceService.editStatus(t).pipe(F(this.destroy$)).subscribe({next:n=>{console.log("edit status response: ",n),n.status===200?(this.getAllServices(this.searchParams),this.alertService.getAlert("alert alert-success","Success!",n.body?.message?n.body?.message:"")):this.alertService.getAlert("alert alert-danger","Failed!",n.body?.message?n.body?.message:"")},error:n=>{console.log(n),this.alertService.getAlert("alert alert-danger","Failed!",n.error.message)}})}saveService(){this.serviceForm.get("provider")?.setValue(this.providerId);let o=this.serviceForm.value,{_id:t}=o,n=kt(o,["_id"]),r=new FormData;r.append("name",this.serviceForm.get("name")?.value),r.append("provider",this.serviceForm.get("provider")?.value),r.append("events",JSON.stringify(this.serviceForm.get("events")?.value)),r.append("img",this.serviceForm.get("img")?.value);let i=this.serviceForm.get("choices")?.value||[];i=i.map((s,a)=>{let l={choiceName:s.choiceName,choiceType:s.choiceType||"",choicePrice:s.choicePrice,choiceImg:s.choiceImg,choiceImgCategory:s.choiceImgCategory};return r.append("choiceImg",s.choiceImg),l}),r.append("choices",JSON.stringify(i)),console.log("data to add new service: ",r),r.forEach((s,a)=>{console.log(a,s)}),this.serviceService.createService(r).pipe(F(this.destroy$)).subscribe({next:s=>{s.status===201?(this.hideModal(),this.getTotalServices(),this.getAllServices(this.searchParams),this.alertService.getAlert("alert alert-success","Success!",s.body?.message?s.body?.message:"")):this.alertService.getAlert("alert alert-danger","Failed",s.body?.message?s.body?.message:"")},error:s=>{this.alertService.getAlert("alert alert-danger","Add Service Failed",s.error.message||"")}})}editService(t){let a=this.serviceForm.value,{_id:n}=a,i=kt(a,["_id"]);console.log("updated service data:",i);let o=new FormData;o.append("name",this.serviceForm.get("name")?.value),o.append("provider",this.serviceForm.get("provider")?.value),o.append("events",JSON.stringify(this.serviceForm.get("events")?.value)),o.append("img",this.serviceForm.get("img")?.value||i.img);let s=this.serviceForm.get("choices")?.value||[];s=s.map((l,d)=>{let h={choiceName:l.choiceName,choiceType:l.choiceType||"",choicePrice:l.choicePrice,choiceImg:l.choiceImg,choiceImgCategory:l.choiceImgCategory};return o.append("choiceImg",l.choiceImg),h}),o.append("choices",JSON.stringify(s)),console.log("edited service data: ",o),o.forEach((l,d)=>{console.log(d,l)}),this.serviceService.editService(o,t).pipe(F(this.destroy$)).subscribe({next:l=>{l.status===200?(console.log("update user response: ",l.body),this.alertService.getAlert("alert alert-success","Success!",l.body?.message||"Service updated"),this.hideModal(),this.getTotalServices(),this.getAllServices(this.searchParams)):(console.log("could not get service",l.body?.message||""),this.alertService.getAlert("alert alert-danger","Failed!",l.body?.message||""))},error:l=>{console.log(l),this.alertService.getAlert("alert alert-danger","Failed!",l.error?.message||l.statusText)}})}deleteService(t){this.serviceService.deleteService(t).pipe(F(this.destroy$)).subscribe({next:n=>{n.status===200?(this.alertService.getAlert("alert alert-success","Success!",n.body?.message||""),this.getTotalServices(),this.getAllServices(this.searchParams)):(console.log(n.body?.message),this.alertService.getAlert("alert alert-danger","Failed",n.body?.message||""))},error:n=>{this.alertService.getAlert("alert alert-danger","Delete Service Failed",n.error.message)}})}onPageChange(t){this.currentPage=t,this.searchFilterFormObj.pageNumber=t.toString(),this.searchParams=this.searchParams.set("pageNumber",this.searchFilterFormObj.pageNumber),this.getAllServices(this.searchParams)}getTotalPages(){let t=Math.ceil(this.totalServices/Number(this.searchFilterFormObj.pageSize));return Array(t).fill(0).map((n,r)=>r+1)}getLastpage(){return Math.ceil(this.totalServices/Number(this.searchFilterFormObj.pageSize))}showModal(){this.formModal.nativeElement.style.display="block"}hideModal(){this.formModal.nativeElement.style.display="none",this.isAddService=!0,this.imgUrl="",this.choiceImageUrl=[],this.serviceForm.reset(),this.serviceFromObj=new hi,this.initialiseServiceForm(),this.serviceImgInput.nativeElement.value="",this.choiceImgInputs.toArray().forEach(t=>{t.nativeElement.value=""})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=H({type:e,selectors:[["app-provider-services"]],viewQuery:function(n,r){if(n&1&&(st(lM,5),st(cM,5),st(uM,5)),n&2){let i;Qe(i=Ye())&&(r.formModal=i.first),Qe(i=Ye())&&(r.serviceImgInput=i.first),Qe(i=Ye())&&(r.choiceImgInputs=i)}},standalone:!0,features:[W],decls:115,vars:31,consts:[["modal",""],["serviceImgInput",""],["choiceImgInput",""],[1,"container","mt-4","p-3"],[1,"row","mb-2"],[1,"col-md-8","text-dark","fs-3","fw-bold"],[1,"col-md-4","text-end"],[3,"onBtnClick","btnClass"],[1,"row","d-flex","flex-row",3,"formGroup"],[1,"col-md-3"],["for",""],["type","text","formControlName","serviceName",1,"form-control"],["type","text","formControlName","provider",1,"form-control"],[1,"col-md-3","align-item-left","mt-4","mb-4"],["formControlName","pageSize",3,"change"],["value","2"],["value","3"],["value","5"],["value","10"],["value","20"],["value","50"],["value","100"],[1,"bg-light","rounded","h-100","p-4"],[1,"mb-4"],[1,"table-responsive"],[1,"table","table-striped"],["scope","col"],["scope","col","role","button",3,"click"],[1,"pagination"],[1,"page-item"],["role","button",1,"page-link",3,"click"],[1,"modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","staticBackdropLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],[3,"label","tooltip","Validation"],["formControlName","name",1,"form-select",3,"change"],["value","Catering"],["value","Decor"],["value","Event Coverage"],["alt","","width","50","height","50",3,"src"],["type","file","placeholder","Upload an image of your service",1,"form-control",3,"change"],["id","events","formArrayName","events"],[1,"d-flex","flex-row",2,"border","1px solid grey","border-radius","20px","padding","10px"],["id","choices","formArrayName","choices"],[2,"border","1px solid grey","border-radius","20px","padding","10px",3,"formGroupName"],[1,"d-grid","gap-2","d-md-block"],[3,"btnClass"],["scope","row"],[1,"d-inline-flex","gap-1"],["type","button","data-bs-toggle","collapse","aria-expanded","false",1,"btn","btn-primary"],[1,"collapse",3,"id"],[1,"card","card-body"],[3,"onBtnClick","btnTitle"],[1,"fa-solid","fa-pen-to-square"],[1,"fa-solid","fa-eye"],[1,"fa-solid","fa-eye-slash"],[1,"fa-solid","fa-trash-can"],[1,"form-select",3,"formControlName"],[3,"value"],[3,"onBtnClick","btnClass","btnTitle"],[1,"d-flex","justify-content-end","mt-0"],[1,"mt-1","mb-4"],[3,"label","tooltip"],["formControlName","choiceName",1,"form-select",3,"change"],["type","number","placeholder","Enter price of choice","formControlName","choicePrice",1,"form-control"],["formControlName","choiceType",1,"form-select"],["type","file","placeholder","Upload an image of your choice",1,"form-control",3,"change"]],template:function(n,r){if(n&1){let i=U();c(0,"section",3)(1,"div",4)(2,"div",5)(3,"p"),p(4,"Service Management"),u()(),c(5,"div",6)(6,"app-button",7),E("onBtnClick",function(){return S(i),D(r.onAddService())}),p(7,"Add Service"),u()()(),c(8,"div",8)(9,"div",9)(10,"label",10),p(11," Name: "),u(),C(12,"input",11),u(),c(13,"div",9)(14,"label",10),p(15," Provider: "),u(),C(16,"input",12),u(),c(17,"div",9)(18,"app-button",7),E("onBtnClick",function(){return S(i),D(r.onSearch())}),p(19,"Search"),u(),c(20,"app-button",7),E("onBtnClick",function(){return S(i),D(r.onRefresh())}),p(21,"Refresh"),u()(),c(22,"div",13)(23,"select",14),E("change",function(){return S(i),D(r.onSearch())}),c(24,"option",15),p(25,"2"),u(),c(26,"option",16),p(27,"3"),u(),c(28,"option",17),p(29,"5"),u(),c(30,"option",18),p(31,"10"),u(),c(32,"option",19),p(33,"20"),u(),c(34,"option",20),p(35,"50"),u(),c(36,"option",21),p(37,"100"),u()()()(),c(38,"div"),C(39,"app-alert"),u(),c(40,"div",22)(41,"h6",23),p(42,"Service"),u(),c(43,"div",24)(44,"table",25)(45,"thead")(46,"tr")(47,"th",26),p(48,"Sl.No"),u(),c(49,"th",27),E("click",function(){return S(i),D(r.onSort("name"))}),p(50,"Name"),u(),c(51,"th",27),E("click",function(){return S(i),D(r.onSort("provider"))}),p(52,"Provider"),u(),c(53,"th",27),E("click",function(){return S(i),D(r.onSort("events"))}),p(54,"Events"),u(),c(55,"th",26),p(56,"Options"),u(),c(57,"th",27),E("click",function(){return S(i),D(r.onSort("isActive"))}),p(58,"Status"),u(),c(59,"th",27),E("click",function(){return S(i),D(r.onSort("isApproved"))}),p(60,"Approval"),u(),c(61,"th",26),p(62,"Actions"),u()()(),c(63,"tbody"),G(64,CM,31,12,"tr",null,z),u()()(),c(66,"nav")(67,"ul",28)(68,"li",29)(69,"a",30),E("click",function(){return S(i),D(r.onPageChange(r.currentPage-1))}),p(70,"Previous"),u()(),G(71,bM,3,3,"li",29,z),c(73,"li",29)(74,"a",30),E("click",function(){return S(i),D(r.onPageChange(r.currentPage+1))}),p(75,"Next"),u()()()()(),c(76,"div",31,0)(78,"div",32)(79,"div",33)(80,"div",34),k(81,EM,2,0,"h1",35)(82,wM,2,0,"h1",35),c(83,"button",36),E("click",function(){return S(i),D(r.hideModal())}),u()(),c(84,"div",37)(85,"form",38)(86,"app-form",39)(87,"select",40),E("change",function(){return S(i),D(r.getChoiceOptions())}),c(88,"option",41),p(89,"Catering"),u(),c(90,"option",42),p(91,"Decor"),u(),c(92,"option",43),p(93,"Event Coverage"),u()()(),c(94,"app-form",39),C(95,"img",44),c(96,"input",45,1),E("change",function(s){return S(i),D(r.onImageUpload(s,"img"))}),u()(),c(98,"div",46)(99,"app-form",39),G(100,SM,10,6,"div",47,z),u()(),c(102,"app-button",7),E("onBtnClick",function(){return S(i),D(r.addEvent())}),p(103,"Add Events"),u(),c(104,"div",48)(105,"app-form",39),G(106,FM,13,7,"div",49,z),u()(),c(108,"app-button",7),E("onBtnClick",function(){return S(i),D(r.addChoice())}),p(109,"Add Choices"),u(),c(110,"div",50),k(111,AM,2,1,"app-button",51)(112,MM,2,1,"app-button",51),c(113,"app-button",7),E("onBtnClick",function(){return S(i),D(r.hideModal())}),p(114,"Cancel"),u()()()()()()()()}n&2&&(f(6),g("btnClass","btn-dark"),f(2),g("formGroup",r.searchFilterForm),f(10),g("btnClass","btn-dark mt-4 rounded-pill"),f(2),g("btnClass","btn-dark mt-4 ms-3 rounded-pill"),f(44),q(r.services()),f(4),qe("disabled",r.currentPage===1),f(3),q(r.getTotalPages()),f(3),qe("disabled",r.currentPage===r.getLastpage()),f(7),T(r.isAddService?81:82),f(4),g("formGroup",r.serviceForm),f(),g("label","Name of service:")("tooltip","Select Service")("Validation",r.serviceForm.controls.name.touched&&r.serviceForm.controls.name.errors?r.serviceForm.controls.name.errors:ee(27,Uc)),f(8),g("label","Image of service:")("tooltip","Select img")("Validation",r.serviceForm.controls.img.touched&&r.serviceForm.controls.img.errors?r.serviceForm.controls.img.errors:ee(28,Uc)),f(),g("src",r.imgUrl?r.imgUrl:r.serviceForm.controls.img.value,X),f(4),g("label","Events for the selected service:")("tooltip","Select Events")("Validation",r.serviceForm.controls.events.touched&&r.serviceForm.controls.events.errors?r.serviceForm.controls.events.errors:ee(29,Uc)),f(),q(r.getEvents()),f(2),g("btnClass","btn-dark m-3"),f(3),g("label","Service options:")("tooltip","Enter service option details")("Validation",r.serviceForm.controls.choices.touched&&r.serviceForm.controls.choices.errors?r.serviceForm.controls.choices.errors:ee(30,Uc)),f(),q(r.getChoices()),f(2),g("btnClass","btn-dark m-3"),f(3),T(r.isAddService?111:112),f(2),g("btnClass","btn-info m-3"))},dependencies:[We,ke,nt,$t,Ht,Ae,pi,St,je,Be,Me,Le,pn,Rn,ht,Ne]})};function kM(e,t){e&1&&C(0,"app-user-services")}function NM(e,t){e&1&&C(0,"app-admin-services")}function OM(e,t){e&1&&C(0,"app-provider-services")}var Bc=class e{destroy$=new V;role="";userService=b(se);ngOnInit(){this.userService.loggedUser$.pipe(F(this.destroy$)).subscribe(t=>{console.log("logged user:",t),this.role=t?.role})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=H({type:e,selectors:[["app-event-services"]],standalone:!0,features:[W],decls:3,vars:1,template:function(n,r){n&1&&k(0,kM,1,0,"app-user-services")(1,NM,1,0,"app-admin-services")(2,OM,1,0,"app-provider-services"),n&2&&T(r.role==="user"?0:r.role==="admin"?1:r.role==="provider"?2:-1)},dependencies:[Pc,Lc,jc]})};var Os=class{_id;name;img;services;constructor(){this._id="",this.name="",this.img="",this.services=[]}},$c=class{eventName;isActive;pageNumber;pageSize;sortBy;sortOrder;constructor(){this.eventName="",this.isActive="",this.pageNumber="1",this.pageSize="2",this.sortBy="",this.sortOrder="asc"}};var vo=class e{http=b(wn);baseUrl=tt.apiEventUrl;constructor(){}createEvent(t){return this.http.post(`${this.baseUrl}new`,t,{observe:"response"})}getTotalEvents(){return this.http.get(`${this.baseUrl}events/count`,{observe:"response"})}getAllEvents(t){return this.http.get(`${this.baseUrl}events`,{observe:"response",params:t})}getEventById(t){return this.http.get(`${this.baseUrl}${t}`,{observe:"response"})}getEventByName(t){return this.http.get(`${this.baseUrl}events/${t}`,{observe:"response"})}getServicesByName(t){return this.http.get(`${this.baseUrl}service/${t}`,{observe:"response"})}editEvent(t,n){return this.http.patch(`${this.baseUrl}${n}`,t,{observe:"response"})}editStatus(t){return this.http.patch(`${this.baseUrl}status`,{id:t},{observe:"response"})}deleteEvent(t){return this.http.delete(`${this.baseUrl}${t}`,{observe:"response"})}static \u0275fac=function(n){return new(n||e)};static \u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})};var RM=["modal"],PM=["eventImgInput"],nh=()=>({});function LM(e,t){if(e&1&&(c(0,"p"),p(1),u()),e&2){let n=t.$implicit;f(),N(n)}}function VM(e,t){e&1&&p(0," Active ")}function UM(e,t){e&1&&p(0," Blocked ")}function jM(e,t){e&1&&C(0,"i",49)}function BM(e,t){e&1&&C(0,"i",50)}function $M(e,t){if(e&1){let n=U();c(0,"tr")(1,"th",46),p(2),u(),c(3,"td"),p(4),u(),c(5,"td"),G(6,LM,2,1,"p",null,z),u(),c(8,"td"),k(9,VM,1,0)(10,UM,1,0),u(),c(11,"td")(12,"app-button",47),E("onBtnClick",function(){let i=S(n).$implicit,o=v();return D(o.onEdit(i._id))}),C(13,"i",48),u(),c(14,"app-button",47),E("onBtnClick",function(){let i=S(n).$implicit,o=v();return D(o.setStatus(i._id))}),k(15,jM,1,0,"i",49)(16,BM,1,0,"i",50),u(),c(17,"app-button",47),E("onBtnClick",function(){let i=S(n).$implicit,o=v();return D(o.deleteEvent(i._id))}),C(18,"i",51),u()()()}if(e&2){let n=t.$implicit,r=t.$index;f(2),N(r+1),f(2),N(n.name),f(2),q(n.services),f(3),T(n.isActive?9:10),f(3),g("btnTitle","Edit Event"),f(2),g("btnTitle",n.isActive?"Disable Event":"Activate Event"),f(),T(n.isActive?15:16),f(2),g("btnTitle","Delete Service")}}function HM(e,t){if(e&1){let n=U();c(0,"li",28)(1,"a",29),E("click",function(){let i=S(n).$implicit,o=v();return D(o.onPageChange(i))}),p(2),u()()}if(e&2){let n=t.$implicit,r=v();f(),qe("active",r.currentPage===n),f(),N(n)}}function zM(e,t){e&1&&(c(0,"h1",34),p(1,"Add User"),u())}function GM(e,t){e&1&&(c(0,"h1",34),p(1,"Edit User"),u())}function qM(e,t){if(e&1&&(c(0,"option",40),p(1),u()),e&2){let n=t.$implicit;g("value",n),f(),N(n)}}function WM(e,t){if(e&1){let n=U();c(0,"div")(1,"div")(2,"input",52),E("change",function(i){let o=S(n).$implicit,s=v();return D(s.setServiceValues(i,o))}),u(),c(3,"label",9),p(4),u()()()}if(e&2){let n=t.$implicit,r=v();f(2),g("value",n)("checked",r.isServiceChecked(n)),f(2),$("",n," ")}}function ZM(e,t){if(e&1){let n=U();c(0,"app-button",11),E("onBtnClick",function(){S(n);let i=v();return D(i.saveEvent())}),p(1,"Save Service"),u()}e&2&&g("btnClass","btn-success m-3")}function QM(e,t){if(e&1){let n=U();c(0,"app-button",11),E("onBtnClick",function(){S(n);let i=v();return D(i.editEvent(i.eventForm.controls._id.value))}),p(1,"Update Service"),u()}e&2&&g("btnClass","btn-success m-3")}var Hc=class e{destroy$=new V;eventFromObj=new Os;searchFilterFormObj=new $c;eventForm=new Z({});searchFilterForm=new Z({});formModal;eventImgInput;searchParams=new Ie;eventService=b(vo);userService=b(se);alertService=b(ae);isAddEvent=!0;showServices=!1;currentPage=Number(this.searchFilterFormObj.pageNumber);totalEvents=0;events=ge([]);services=ge([]);eventServicesList=ge([]);eventOptions=["Marriage","Engagement","Birthday"];eventImgUrl=tt.eventImgUrl;imgUrl="";constructor(){}ngOnInit(){this.initialiseEventForm(),this.getTotalEvents(),this.initialiseSearchFilterForm(),this.searchParams=this.searchParams.set("pageNumber",this.searchFilterFormObj.pageNumber).set("pageSize",this.searchFilterFormObj.pageSize),this.getAllEvents(this.searchParams)}initialiseEventForm(){this.eventForm=new Z({_id:new w(this.eventFromObj._id),name:new w(this.eventFromObj.name,[A.required]),img:new w(this.eventFromObj.img||null,[A.required]),services:new fn(this.eventFromObj.services.map(t=>new w(t,[A.required])))})}initialiseSearchFilterForm(){this.searchFilterForm=new Z({eventName:new w(this.searchFilterFormObj.eventName),isActive:new w(this.searchFilterFormObj.isActive),pageNumber:new w(this.searchFilterFormObj.pageNumber),pageSize:new w(this.searchFilterFormObj.pageSize),sortBy:new w(this.searchFilterFormObj.sortBy),sortOrder:new w(this.searchFilterFormObj.sortOrder)})}onImageUpload(t){console.log("onImageUpload: ",t);let n=t.target;if(n.files&&n.files.length>0){let r=n.files[0],i="",o=new FileReader;o.readAsDataURL(r),o.onload=s=>{i=s.target.result,this.eventForm.get("img")?.setValue(r),this.imgUrl=i}}}getTotalEvents(){this.eventService.getTotalEvents().pipe(F(this.destroy$)).subscribe({next:t=>{t.status===200?this.totalEvents=t.body?.data:(console.log(t.body?.message),this.alertService.getAlert("alert alert-danger","Failed",t.body?.message?t.body?.message:""))},error:t=>{this.alertService.getAlert("alert alert-danger","Register User Failed",t.error.message)}})}onRefresh(){this.searchParams=new Ie,this.searchFilterForm.get("eventName")?.setValue(""),this.searchParams=this.searchParams.set("pageNumber",this.searchFilterFormObj.pageNumber).set("pageSize",this.searchFilterFormObj.pageSize),this.getAllEvents(this.searchParams)}onSearch(){console.log(this.searchFilterForm.value),this.searchFilterFormObj=this.searchFilterForm.value,this.searchParams=this.searchParams.set("pageNumber",this.searchFilterFormObj.pageNumber).set("pageSize",this.searchFilterFormObj.pageSize).set("sortBy",this.searchFilterFormObj.sortBy).set("sortOrder",this.searchFilterFormObj.sortOrder),this.searchFilterFormObj.eventName!==""&&(this.searchParams=this.searchParams.set("eventName",this.searchFilterFormObj.eventName)),this.getAllEvents(this.searchParams)}onSort(t){this.searchFilterFormObj.sortOrder=this.searchFilterFormObj.sortOrder==="asc"?"desc":"asc",this.searchParams=this.searchParams.set("sortBy",t).set("sortOrder",this.searchFilterFormObj.sortOrder),this.getAllEvents(this.searchParams)}getAllEvents(t){this.eventService.getAllEvents(t).pipe(F(this.destroy$)).subscribe({next:n=>{n.status===200?(this.events.set(n.body?.data),console.log("events: ",this.events())):(console.log("could not get users"),this.alertService.getAlert("alert alert-danger","Failed!",n.body?.message?n.body?.message:""))},error:n=>{console.log(n),this.alertService.getAlert("alert alert-danger","Failed!",n.error.message)}})}getServices(t){console.log("getServices event: ",t),this.eventService.getServicesByName(t).pipe(F(this.destroy$)).subscribe({next:n=>{console.log("getServices res: ",n),n.status===200?(this.services.set(n.body?.data),this.eventServicesList.set(n.body?.extra),this.showServices=!0):(console.log("could not get services",n.body?.message),this.alertService.getAlert("alert alert-danger","Failed!",n.body?.message?n.body?.message:""))},error:n=>{console.log("getEventServices error: ",n),this.alertService.getAlert("alert alert-danger","Failed!",n.error.message||n.statusText)}})}getEventServices(t){console.log("change event on change of event name: ",t),console.log("getEventServices: ",t?.target);let r=t?.target?.value;this.getServices(r)}setServiceValues(t,n,r,i){console.log("setServiceValues service on change: ",n);let o=this.eventForm.get("services"),s=o.value;if(console.log("serviceArray: ",s),t.target.checked)o.value.includes(n)||o.push(new w(n));else{let a=o.value.indexOf(n);a!==-1&&o.removeAt(a)}}isServiceChecked(t){return!!this.eventForm.get("services").value.includes(t)}onAddService(){this.isAddEvent=!0,this.showModal()}setStatus(t){console.log(t),this.eventService.editStatus(t).pipe(F(this.destroy$)).subscribe({next:n=>{console.log("edit status response: ",n),n.status===200?(this.getAllEvents(this.searchParams),this.alertService.getAlert("alert alert-success","Success!",n.body?.message?n.body?.message:"")):this.alertService.getAlert("alert alert-danger","Failed!",n.body?.message?n.body?.message:"")},error:n=>{console.log(n),this.alertService.getAlert("alert alert-danger","Failed!",n.error.message)}})}onEdit(t){this.isAddEvent=!1,this.eventService.getEventById(t).pipe(F(this.destroy$)).subscribe({next:n=>{if(n.status===200){this.eventFromObj=n.body?.data,console.log("update form data: ",this.eventFromObj),this.initialiseEventForm();let r=this.eventForm.get("name")?.value;this.getServices(r),this.showModal()}else this.alertService.getAlert("alert alert-danger","Failed",n.body?.message?n.body?.message:"")},error:n=>{console.log(n),this.alertService.getAlert("alert alert-danger","Failed!",n.error.message)}})}saveEvent(){let o=this.eventForm.value,{_id:t}=o,n=kt(o,["_id"]);console.log("data to add new service: ",n);let r=new FormData,i=this.eventForm.get("services")?.value;r.append("name",this.eventForm.get("name")?.value),r.append("img",this.eventForm.get("img")?.value),r.append("services",JSON.stringify(i)),this.eventService.createEvent(r).pipe(F(this.destroy$)).subscribe({next:s=>{s.status===201?(this.hideModal(),this.getTotalEvents(),this.getAllEvents(this.searchParams),this.alertService.getAlert("alert alert-success","Success!",s.body?.message?s.body?.message:"")):this.alertService.getAlert("alert alert-danger","Failed",s.body?.message?s.body?.message:"")},error:s=>{this.alertService.getAlert("alert alert-danger","Register User Failed",s.error.message)}})}editEvent(t){let a=this.eventForm.value,{_id:n}=a,i=kt(a,["_id"]);console.log("updated event data:",i);let o=new FormData,s=this.eventForm.get("services")?.value;o.append("name",this.eventForm.get("name")?.value),o.append("img",this.eventForm.get("img")?.value||i.img),o.append("services",JSON.stringify(s)),console.log("edited event data: ",o),o.forEach((l,d)=>{console.log(d,l)}),this.eventService.editEvent(o,t).pipe(F(this.destroy$)).subscribe({next:l=>{l.status===200?(console.log("update event response: ",l.body),this.alertService.getAlert("alert alert-success","Success!",l.body?.message||"Service updated"),this.hideModal(),this.getTotalEvents(),this.getAllEvents(this.searchParams)):(console.log("could not get event",l.body?.message||""),this.alertService.getAlert("alert alert-danger","Failed!",l.body?.message||""))},error:l=>{console.log(l),this.alertService.getAlert("alert alert-danger","Failed!",l.error.message)}})}deleteEvent(t){this.eventService.deleteEvent(t).pipe(F(this.destroy$)).subscribe({next:n=>{n.status===200?(this.alertService.getAlert("alert alert-success","Success!",n.body?.message||""),this.getTotalEvents(),this.getAllEvents(this.searchParams)):(console.log(n.body?.message),this.alertService.getAlert("alert alert-danger","Failed",n.body?.message||""))},error:n=>{this.alertService.getAlert("alert alert-danger","Delete Service Failed",n.error.message)}})}onPageChange(t){this.currentPage=t,this.searchFilterFormObj.pageNumber=t.toString(),this.searchParams=this.searchParams.set("pageNumber",this.searchFilterFormObj.pageNumber),this.getAllEvents(this.searchParams)}getTotalPages(){let t=Math.ceil(this.totalEvents/Number(this.searchFilterFormObj.pageSize));return Array(t).fill(0).map((n,r)=>r+1)}getLastpage(){return Math.ceil(this.totalEvents/Number(this.searchFilterFormObj.pageSize))}showModal(){this.formModal.nativeElement.style.display="block"}hideModal(){this.formModal.nativeElement.style.display="none",this.imgUrl="",this.eventForm.reset(),this.eventFromObj=new Os,this.initialiseEventForm(),this.isAddEvent=!0,this.eventServicesList.set([]),this.eventImgInput.nativeElement.value="",console.log("on closing the model eventForm value: ",this.eventForm.value)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=H({type:e,selectors:[["app-admin-events"]],viewQuery:function(n,r){if(n&1&&(st(RM,5),st(PM,5)),n&2){let i;Qe(i=Ye())&&(r.formModal=i.first),Qe(i=Ye())&&(r.eventImgInput=i.first)}},standalone:!0,features:[W],decls:93,vars:25,consts:[["modal",""],["eventImgInput",""],[1,"container","mt-4","p-3"],[1,"row","mb-2"],[1,"col-md-8","text-dark","fs-3","fw-bold"],[1,"col-md-4","text-end"],[3,"onBtnClick","click","btnClass"],[1,"row","d-flex","flex-row",3,"formGroup"],[1,"col-md-3"],["for",""],["type","text","formControlName","eventName",1,"form-control"],[3,"onBtnClick","btnClass"],[1,"col-md-3","align-item-left","mt-4","mb-4"],["formControlName","pageSize",3,"change"],["value","2"],["value","3"],["value","5"],["value","10"],["value","20"],["value","50"],["value","100"],[1,"bg-light","rounded","h-100","p-4"],[1,"mb-4"],[1,"table-responsive"],[1,"table","table-striped"],["scope","col"],["scope","col","role","button",3,"click"],[1,"pagination"],[1,"page-item"],["role","button",1,"page-link",3,"click"],[1,"modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","staticBackdropLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],[3,"label","tooltip","Validation"],["formControlName","name",1,"form-select",3,"change"],[3,"value"],["alt","","width","50","height","50",3,"src"],["type","file","placeholder","Upload an image of your service",1,"form-control",3,"change"],["id","services","formArrayName","services"],[1,"d-grid","gap-2","d-md-block"],[3,"btnClass"],["scope","row"],[3,"onBtnClick","btnTitle"],[1,"fa-solid","fa-pen-to-square"],[1,"fa-solid","fa-eye"],[1,"fa-solid","fa-eye-slash"],[1,"fa-solid","fa-trash-can"],["type","checkbox",3,"change","value","checked"]],template:function(n,r){if(n&1){let i=U();c(0,"section",2)(1,"div",3)(2,"div",4)(3,"p"),p(4,"Service Management"),u()(),c(5,"div",5)(6,"app-button",6),E("onBtnClick",function(){return S(i),D(r.showModal())})("click",function(){return S(i),D(r.isAddEvent=!0)}),p(7,"Add Event"),u()()(),c(8,"div",7)(9,"div",8)(10,"label",9),p(11," Name: "),u(),C(12,"input",10),u(),c(13,"div",8)(14,"app-button",11),E("onBtnClick",function(){return S(i),D(r.onSearch())}),p(15,"Search"),u(),c(16,"app-button",11),E("onBtnClick",function(){return S(i),D(r.onRefresh())}),p(17,"Refresh"),u()(),c(18,"div",12)(19,"select",13),E("change",function(){return S(i),D(r.onSearch())}),c(20,"option",14),p(21,"2"),u(),c(22,"option",15),p(23,"3"),u(),c(24,"option",16),p(25,"5"),u(),c(26,"option",17),p(27,"10"),u(),c(28,"option",18),p(29,"20"),u(),c(30,"option",19),p(31,"50"),u(),c(32,"option",20),p(33,"100"),u()()()(),c(34,"div"),C(35,"app-alert"),u(),c(36,"div",21)(37,"h6",22),p(38,"Events"),u(),c(39,"div",23)(40,"table",24)(41,"thead")(42,"tr")(43,"th",25),p(44,"Sl.No"),u(),c(45,"th",26),E("click",function(){return S(i),D(r.onSort("name"))}),p(46,"Name"),u(),c(47,"th",26),E("click",function(){return S(i),D(r.onSort("provider"))}),p(48,"Events"),u(),c(49,"th",26),E("click",function(){return S(i),D(r.onSort("isActive"))}),p(50,"Status"),u(),c(51,"th",25),p(52,"Actions"),u()()(),c(53,"tbody"),G(54,$M,19,7,"tr",null,z),u()()(),c(56,"nav")(57,"ul",27)(58,"li",28)(59,"a",29),E("click",function(){return S(i),D(r.onPageChange(r.currentPage-1))}),p(60,"Previous"),u()(),G(61,HM,3,3,"li",28,z),c(63,"li",28)(64,"a",29),E("click",function(){return S(i),D(r.onPageChange(r.currentPage+1))}),p(65,"Next"),u()()()()(),c(66,"div",30,0)(68,"div",31)(69,"div",32)(70,"div",33),k(71,zM,2,0,"h1",34)(72,GM,2,0,"h1",34),c(73,"button",35),E("click",function(){return S(i),D(r.hideModal())}),u()(),c(74,"div",36)(75,"form",37)(76,"app-form",38)(77,"select",39),E("change",function(s){return S(i),D(r.getEventServices(s))}),G(78,qM,2,2,"option",40,z),u()(),c(80,"app-form",38),C(81,"img",41),c(82,"input",42,1),E("change",function(s){return S(i),D(r.onImageUpload(s))}),u()(),c(84,"div",43)(85,"app-form",38),G(86,WM,5,3,"div",null,z),u()(),c(88,"div",44),k(89,ZM,2,1,"app-button",45)(90,QM,2,1,"app-button",45),c(91,"app-button",11),E("onBtnClick",function(){return S(i),D(r.hideModal())}),p(92,"Cancel"),u()()()()()()()()}n&2&&(f(6),g("btnClass","btn-dark"),f(2),g("formGroup",r.searchFilterForm),f(6),g("btnClass","btn-dark mt-4 rounded-pill"),f(2),g("btnClass","btn-dark mt-4 ms-3 rounded-pill"),f(38),q(r.events()),f(4),qe("disabled",r.currentPage===1),f(3),q(r.getTotalPages()),f(3),qe("disabled",r.currentPage===r.getLastpage()),f(7),T(r.isAddEvent?71:72),f(4),g("formGroup",r.eventForm),f(),g("label","Name of event:")("tooltip","Select Event")("Validation",r.eventForm.controls.name.touched&&r.eventForm.controls.name.errors?r.eventForm.controls.name.errors:ee(22,nh)),f(2),q(r.eventOptions),f(2),g("label","Image of service:")("tooltip","Select img")("Validation",r.eventForm.controls.img.touched&&r.eventForm.controls.img.errors?r.eventForm.controls.img.errors:ee(23,nh)),f(),g("src",r.imgUrl?r.imgUrl:r.eventForm.controls.img.value,X),f(4),g("label","Service options:")("tooltip","Enter service option details")("Validation",r.eventForm.controls.services.touched&&r.eventForm.controls.services.errors?r.eventForm.controls.services.errors:ee(24,nh)),f(),q(r.eventServicesList()),f(3),T(r.isAddEvent?89:90),f(2),g("btnClass","btn-info m-3"))},dependencies:[ke,nt,$t,Ht,Ae,St,je,Be,Me,Le,Rn,We,Ne,ht]})};var zc=class e{destroy$=new V;eventService=b(vo);alertService=b(ae);dataService=b(Pn);searchParams=new Ie;events=ge([]);router=b(Ue);ngOnInit(){}getEventService(t){this.eventService.getEventByName(t).pipe(F(this.destroy$)).subscribe({next:n=>{n.status===200?(console.log(`events by the name ${t}`,n.body?.data),console.log(`services for ${t}`,n.body?.extra),this.events.set(n.body?.data),this.dataService.setEventServiceData(n.body?.extra),this.router.navigate(["events/details"])):(console.log(n.body?.message),this.alertService.getAlert("alert alert-danger","Register User Failed",n.body?.message||"Could not get data!"))},error:n=>{console.log(n.message),this.alertService.getAlert("alert alert-danger","Register User Failed",n.error.message||n.statusText)}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=H({type:e,selectors:[["app-user-events"]],standalone:!0,features:[W],decls:46,vars:3,consts:[[1,"container"],[1,"row"],[1,"col-md-12","p-2"],[1,"m-4","text-center"],[1,"col-md-9","p-2"],[1,"m-2","subtitle"],[1,"m-2"],[3,"onBtnClick","btnClass"],[1,"col-md-3","p-2"],["src","https://i.ytimg.com/vi/Wuod2zevTxY/hqdefault.jpg","alt","","width","300","height","300"],["src","https://7xweddings.com/images/services/food-and-beverage.jpg","alt","","width","300","height","300"],["src","https://static.vecteezy.com/system/resources/thumbnails/027/945/125/small_2x/magical-moments-birthday-cake-and-colorful-balloons-generative-ai-photo.jpg","alt","","width","300","height","300"]],template:function(n,r){n&1&&(c(0,"div",0)(1,"div",1),C(2,"app-alert"),c(3,"div",2)(4,"h1",3),p(5,"Events"),u()(),c(6,"div",1)(7,"div",4)(8,"h2",5),p(9,"Weddings"),u(),c(10,"p",6)(11,"i"),p(12,"Create the magical day you've always dreamed of!"),u(),p(13," At "),c(14,"strong")(15,"i"),p(16,"Dream Events"),u()(),p(17,", we specialize in turning your wedding vision into a breathtaking reality. From stunning venue setups and floral arrangements to seamless coordination and personal touches, we ensure every detail reflects your love story. Whether you're planning an intimate ceremony or a grand celebration, our dedicated team is here to make your big day unforgettable. Let's create timeless memories together. "),u(),c(18,"app-button",7),E("onBtnClick",function(){return r.getEventService("Marriage")}),p(19,"Know More"),u()(),c(20,"div",8),C(21,"img",9),u()(),c(22,"div",1)(23,"div",8),C(24,"img",10),u(),c(25,"div",4)(26,"h2",5),p(27,"Engagements"),u(),c(28,"p",6)(29,"i"),p(30,"Create the magical day you've always dreamed of!"),u(),p(31," An engagement is a cherished milestone, and we're here to make it extraordinary. Whether you dream of a cozy gathering with close family or a lively party with friends, we offer tailored planning services to suit your style. From elegant decor to delightful catering and entertainment, we\u2019ll handle it all, leaving you free to enjoy every magical moment with your loved ones. Start your journey to forever with us! "),u(),c(32,"app-button",7),E("onBtnClick",function(){return r.getEventService("Engagement")}),p(33,"Know More"),u()()(),c(34,"div",1)(35,"div",4)(36,"h2",5),p(37,"Birthdays"),u(),c(38,"p",6)(39,"i"),p(40,"Make every birthday an unforgettable celebration!"),u(),p(41," Every birthday is special, and we are here to make yours shine. Whether it's a themed party for kids, a milestone celebration, or a stylish soir\xE9e, we create events that leave lasting impressions. From unique decorations and entertainment to delicious cakes and customized activities, we'll make sure your birthday is one to remember. Let's make your special day a fun-filled experience for everyone! "),u(),c(42,"app-button",7),E("onBtnClick",function(){return r.getEventService("Birthday")}),p(43,"Know More"),u()(),c(44,"div",8),C(45,"img",11),u()()()()),n&2&&(f(18),g("btnClass","btn-dark btn-sm rounded-pill m-2"),f(14),g("btnClass","btn-dark btn-sm rounded-pill m-2"),f(10),g("btnClass","btn-dark btn-sm rounded-pill m-2"))},dependencies:[We,Ne]})};function YM(e,t){e&1&&C(0,"app-admin-events")}function KM(e,t){e&1&&C(0,"app-user-events")}var Gc=class e{constructor(t,n){this.userService=t;this.alertService=n}destroy$=new V;user;role="";ngOnInit(){this.userService.loggedUser$.pipe(F(this.destroy$)).subscribe({next:t=>{t&&(this.role=t?.role,this.user=t)},error:t=>{this.alertService.getAlert("alert alert-danger","Failed",t.message)}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(n){return new(n||e)(J(se),J(ae))};static \u0275cmp=H({type:e,selectors:[["app-events"]],standalone:!0,features:[W],decls:2,vars:1,template:function(n,r){n&1&&k(0,YM,1,0,"app-admin-events")(1,KM,1,0,"app-user-events"),n&2&&T(r.role==="admin"?0:r.role==="user"?1:-1)},dependencies:[Hc,zc]})};var Ln=class{_id;userId;user;serviceId;providerId;event;style;services;deliveryDate;venue;totalCount;constructor(){this._id="",this.userId="",this.user="",this.serviceId="",this.event="",this.style="",this.providerId="",this.services=[],this.deliveryDate=new Date,this.venue={building:"",street:"",city:"",district:"",state:"",pbNo:0},this.totalCount=0}},qc=class{userName;pageNumber;pageSize;sortBy;sortOrder;constructor(){this.userName="",this.pageNumber="1",this.pageSize="2",this.sortBy="",this.sortOrder="asc"}};var Vr={Kerala:["Alappuzha","Ernakulam","Idukki","Kannur","Kasaragod","Kollam","Kottayam","Kozhikode","Malappuram","Palakkad","Pathanamthitta","Thiruvananthapuram","Thrissur","Wayanad"]};var Vn=class e{http=b(wn);baseUrl=tt.apiBookingUrl;constructor(){}createBooking(t){return this.http.post(`${this.baseUrl}new`,t,{observe:"response"})}getTotalBookings(){return this.http.get(`${this.baseUrl}bookings/count`,{observe:"response"})}getAllBookings(t){return this.http.get(`${this.baseUrl}bookings`,{observe:"response",params:t})}getBookingsByUserId(t){return this.http.get(`${this.baseUrl}user/${t}`,{observe:"response"})}getBookingsById(t){return this.http.get(`${this.baseUrl}${t}`,{observe:"response"})}getBookingsByName(t){return this.http.get(`${this.baseUrl}bookings/${t}`,{observe:"response"})}getServicesByNameAndProvider(t,n){return this.http.get(`${this.baseUrl}service/${t}/${n}`,{observe:"response"})}getServicesByEvent(t){return this.http.get(`${this.baseUrl}events/service/${t}`,{observe:"response"})}getAllEvents(){return this.http.get(`${this.baseUrl}events`,{observe:"response"})}editBooking(t,n){return this.http.patch(`${this.baseUrl}${n}`,t,{observe:"response"})}editStatus(t){return this.http.patch(`${this.baseUrl}status`,{id:t},{observe:"response"})}deleteBooking(t){return this.http.delete(`${this.baseUrl}${t}`,{observe:"response"})}deleteBookedServices(t,n,r){return this.http.delete(`${this.baseUrl}service/${t}/${n}/${r}`,{observe:"response"})}static \u0275fac=function(n){return new(n||e)};static \u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})};var JM=["modal"],Ur=()=>({});function XM(e,t){if(e&1&&(c(0,"h6"),p(1),u()),e&2){let n=t.$implicit;f(),$("* ",n,"")}}function ek(e,t){if(e&1&&(c(0,"h5",38),p(1),u(),c(2,"li",37)(3,"div",39)(4,"div",40),C(5,"img",41),u(),c(6,"div",42)(7,"h6"),p(8),u(),c(9,"h6"),p(10),u()()()()),e&2){let n=v().$implicit;f(),N(n.choiceName),f(4),g("src",n.choiceImg,X),f(3),N(n.choiceType),f(2),$("\u20B9 ",n.choicePrice,"")}}function tk(e,t){if(e&1&&(c(0,"li",37)(1,"div",39)(2,"div",40),C(3,"img",41),u(),c(4,"div",42)(5,"h6"),p(6),u(),c(7,"h6"),p(8),u()()()()),e&2){let n=v().$implicit;f(3),g("src",n.choiceImg,X),f(3),N(n.choiceName),f(2),N(n.choicePrice)}}function nk(e,t){if(e&1&&k(0,ek,11,4)(1,tk,9,3,"li",37),e&2){let n=t.$implicit;T(n.choiceType?0:1)}}function rk(e,t){if(e&1){let n=U();c(0,"div",5)(1,"div",30),C(2,"img",31),c(3,"div",32)(4,"h5",33),p(5),u(),c(6,"div",34)(7,"div",35)(8,"h5"),p(9," Available for: "),u(),G(10,XM,2,1,"h6",null,z),u(),c(12,"h5"),p(13,"Options"),u(),c(14,"ul",36),G(15,nk,2,1,null,null,z),u()(),c(17,"app-button",29),E("onBtnClick",function(){let i=S(n).$implicit,o=v();return D(o.bookService(i.name,i._id,i.provider))}),p(18,"Book Now"),u()()()()}if(e&2){let n=t.$implicit;f(2),g("src",n.img,X),f(3),N(n.name),f(5),q(n.events),f(5),q(n.choices),f(2),g("btnClass","btn-dark btn-sm rounded-pill m-2")}}function ik(e,t){if(e&1&&(c(0,"label",44),p(1),u()),e&2){let n=v().$implicit;f(),zf(" ",n.choiceName,"-",n.choiceType,"-\u20B9 ",n.choicePrice,"")}}function ok(e,t){if(e&1&&(c(0,"label",44),p(1),u()),e&2){let n=v().$implicit;f(),Yt(" ",n.choiceName,"-\u20B9 ",n.choicePrice,"")}}function sk(e,t){if(e&1){let n=U();c(0,"input",43),E("change",function(i){let o=S(n),s=o.$implicit,a=o.$index,l=v();return D(l.setChoices(i,a,s.choiceName,s.choiceType,s.choicePrice))}),u(),k(1,ik,2,3,"label",44)(2,ok,2,2,"label",44),C(3,"br")}if(e&2){let n=t.$implicit,r=v();g("checked",r.isOption(n.choiceName,n.choiceType,n.choiceImg)),f(),T(n.choiceType?1:2)}}function ak(e,t){if(e&1&&(c(0,"option",24),p(1),u()),e&2){let n=t.$implicit;g("value",n),f(),N(n)}}function lk(e,t){if(e&1&&(c(0,"option",24),p(1),u()),e&2){let n=t.$implicit;g("value",n),f(),N(n)}}var Wc=class e{destroy$=new V;activatedRoute=b(gt);router=b(Ue);bookingService=b(Vn);userService=b(se);alertService=b(ae);bookingFromObj=new Ln;bookingForm=new Z({});formModal;statesList=Object.keys(Vr);districtsList=[];dataService=b(Pn);service="";servicesByName=ge([]);selectedService={};optionArray=[];serviceImgUrl=tt.serviceImgUrl;step=ge(1);ngOnInit(){this.service=this.dataService.getServiceName(),this.servicesByName.set(this.dataService.getServiceData()),this.initialiseBookingForm(),this.userService.loggedUser$.pipe(F(this.destroy$)).subscribe(t=>{console.log("user from service:",t),this.bookingForm.get("user")?.setValue(t?.user),this.bookingForm.get("userId")?.setValue(t?.id)})}initialiseBookingForm(){this.bookingForm=new Z({_id:new w(this.bookingFromObj._id),user:new w(this.bookingFromObj.user,[A.required]),userId:new w(this.bookingFromObj.userId,[A.required]),serviceId:new w(this.bookingFromObj.serviceId,[A.required]),providerId:new w(this.bookingFromObj.providerId,[A.required]),event:new w(this.bookingFromObj.event,[A.required]),services:new fn(this.bookingFromObj.services.map(t=>new Z({choiceName:new w(t.choiceName),choiceType:new w(t.choiceType),choicePrice:new w(t.choicePrice)}))),deliveryDate:new w(this.bookingFromObj.deliveryDate,[A.required]),venue:new Z({building:new w(this.bookingFromObj.venue.building,[A.required]),street:new w(this.bookingFromObj.venue.street,[A.required]),city:new w(this.bookingFromObj.venue.city,[A.required]),district:new w(this.bookingFromObj.venue.district,[A.required]),state:new w(this.bookingFromObj.venue.state,[A.required]),pbNo:new w(this.bookingFromObj.venue.pbNo===0?null:this.bookingFromObj.venue.pbNo,[A.required])}),totalCount:new w(this.bookingFromObj.totalCount===0?null:this.bookingFromObj.totalCount,[A.required])})}bookService(t,n,r){console.log("id to book service: ",n,r),this.bookingForm.get("serviceId")?.setValue(n),this.bookingForm.get("providerId")?.setValue(r),this.bookingService.getServicesByNameAndProvider(t,r).pipe(F(this.destroy$)).subscribe({next:i=>{console.log("selected service details: ",i.body?.data),this.selectedService=i.body?.data,this.optionArray=this.selectedService?.choices||[]},error:i=>{console.log("service booking error: ",i.error.message,i)}}),this.showModal()}getDistricts(t){console.log(t);let n=t.target.value;console.log(Vr[n]),this.districtsList=Vr[n]}saveBooking(){debugger;console.log("service booking form values: ",this.bookingForm.value),console.log("is service booking form valid: ",this.bookingForm.valid),this.bookingService.createBooking(this.bookingForm.value).pipe(F(this.destroy$)).subscribe({next:t=>{console.log("saveBooking response from backend: ",t),t.status===201?(console.log("service booking response: ",t.body?.data),this.alertService.getAlert("alert alert-success","Success!",t.body?.message||""),this.hideModal()):(console.log(t.body?.message),this.alertService.getAlert("alert alert-danger","Failed",t.body?.message||""))},error:t=>{console.log("service booking error: ",t.error.message,t),this.alertService.getAlert("alert alert-danger","Failed!",t.error.message)}})}isOption(t,n,r){console.log("choiceName to check isOption: ",t,n,r);let i=this.bookingForm.get("services");console.log("serviceArray: ",i);let o=i.value.some(s=>s.choiceName===t&&s.choiceType===n&&s.choiceImg===r);return console.log("value of isOption: ",o),o}setChoices(t,n,r,i,o){let s=t.target;console.log("setChoices target value:",s,s?.checked),console.log("setChoices index value:",n);let a=this.bookingForm.get("services");if(s?.checked)a.push(new Z({choiceName:new w(r),choiceType:new w(i),choicePrice:new w(o)}));else{let l=a.controls.findIndex(d=>d.get("choiceName")?.value===r&&d.get("choiceType")?.value===i&&d.get("choicePrice")?.value===o);l!==-1&&a.removeAt(l)}}formNext(){this.step.set(this.step()+1),console.log("step 1 from value: ",this.bookingForm.value),this.dataService.setBookingFormData(this.bookingForm.value),this.bookingFromObj=this.dataService.getBookingFormData(),this.initialiseBookingForm()}formPrevious(){this.step.set(this.step()-1),console.log("step 2 from value: ",this.bookingForm.value),this.dataService.setBookingFormData(this.bookingForm.value),this.bookingFromObj=this.dataService.getBookingFormData(),this.initialiseBookingForm();let t=this.bookingForm.get("services");console.log("step 2 formArray value: ",t.value)}showModal(){this.formModal.nativeElement.style.display="block"}hideModal(){this.formModal.nativeElement.style.display="none",this.bookingForm.reset(),this.bookingFromObj=new Ln,this.initialiseBookingForm()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=H({type:e,selectors:[["app-user-service-details"]],viewQuery:function(n,r){if(n&1&&st(JM,5),n&2){let i;Qe(i=Ye())&&(r.formModal=i.first)}},standalone:!0,features:[W],decls:68,vars:42,consts:[["modal",""],[1,"container","mt-4","p-3"],[1,"row"],[1,"col-md-12","p-2"],[1,"m-3"],[1,"col-md-4"],[1,"modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","staticBackdropLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],[3,"formArrayName"],[3,"label","tooltip"],[3,"label","tooltip","Validation"],["type","date","placeholder","Enter service delivery date","formControlName","deliveryDate",1,"form-control"],["type","number","placeholder","Enter total guests","formControlName","totalCount",1,"form-control"],["id","choices",3,"formGroupName"],["type","string","placeholder","Enter building / house name","formControlName","building",1,"form-control"],["type","string","placeholder","Enter street name","formControlName","street",1,"form-control"],["name","","id","","formControlName","state",1,"form-control",3,"change"],["value","","selected","","disabled",""],[3,"value"],["name","","id","","formControlName","district",1,"form-control"],["type","string","placeholder","Enter city","formControlName","city",1,"form-control"],["type","number","placeholder","Enter post box number","formControlName","pbNo",1,"form-control"],[1,"d-grid","gap-2","d-md-block"],[3,"onBtnClick","btnClass"],[1,"card",2,"width","20rem"],["alt","...",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card"],[1,"card-header"],[1,"list-group","list-group-flush"],[1,"list-group-item"],[1,"text-center"],[1,"row","border"],[1,"col-md-4","mt-2","p-2"],["alt","","width","100%","height","20",1,"img-fluid",3,"src"],[1,"col-md-7","mt-2","p-2"],["type","checkbox",3,"change","checked"],["for","",1,"ms-1"]],template:function(n,r){if(n&1){let i=U();c(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h1"),p(5),u()(),C(6,"hr"),c(7,"div",2),G(8,rk,19,3,"div",5,z),C(10,"br")(11,"hr"),u()()(),c(12,"div",6,0)(14,"div",7)(15,"div",8)(16,"div",9)(17,"h1",10),p(18,"Book Service"),u(),c(19,"button",11),E("click",function(){return S(i),D(r.hideModal())}),u()(),c(20,"div",12)(21,"form",13)(22,"div")(23,"h2"),p(24,"Service Details"),u(),C(25,"br"),c(26,"h5"),p(27),u(),C(28,"hr"),c(29,"div",14)(30,"app-form",15),C(31,"br"),G(32,sk,4,2,null,null,z),u()()(),C(34,"br"),c(35,"div")(36,"h2"),p(37,"Booking Details"),u(),c(38,"app-form",16),C(39,"input",17),u(),c(40,"app-form",16),C(41,"input",18),u(),c(42,"div",19)(43,"app-form",16),C(44,"input",20),u(),c(45,"app-form",16),C(46,"input",21),u(),c(47,"app-form",16)(48,"select",22),E("change",function(s){return S(i),D(r.getDistricts(s))}),c(49,"option",23),p(50,"Select state"),u(),G(51,ak,2,2,"option",24,z),u()(),c(53,"app-form",16)(54,"select",25)(55,"option",23),p(56,"Select District"),u(),G(57,lk,2,2,"option",24,z),u()(),c(59,"app-form",16),C(60,"input",26),u(),c(61,"app-form",16),C(62,"input",27),u()(),c(63,"div",28)(64,"app-button",29),E("onBtnClick",function(){return S(i),D(r.saveBooking())}),p(65,"Continue"),u(),c(66,"app-button",29),E("onBtnClick",function(){return S(i),D(r.hideModal())}),p(67,"Cancel"),u()()()()()()()()()}if(n&2){let i,o,s,a,l,d;f(5),N(r.service),f(3),q(r.servicesByName()),f(13),g("formGroup",r.bookingForm),f(6),Yt("You have selected ",r.selectedService.name," by ",r.selectedService.provider,""),f(2),g("formArrayName","services"),f(),g("label","Select service options:")("tooltip","Select option"),f(2),q(r.optionArray),f(6),g("label","Date of service Delivery:")("tooltip","Select Date")("Validation",r.bookingForm.controls.deliveryDate.touched&&r.bookingForm.controls.deliveryDate.errors?r.bookingForm.controls.deliveryDate.errors:ee(34,Ur)),f(2),g("label","Number of guests:")("tooltip","Enter guests count")("Validation",r.bookingForm.controls.totalCount.touched&&r.bookingForm.controls.totalCount.errors?r.bookingForm.controls.totalCount.errors:ee(35,Ur)),f(2),g("formGroupName","venue"),f(),g("label","Building:")("tooltip","Enter building / house name")("Validation",(i=r.bookingForm.get("venue.building"))!=null&&i.touched&&((i=r.bookingForm.get("venue.building"))!=null&&i.errors)?(i=r.bookingForm.get("venue.building"))==null?null:i.errors:ee(36,Ur)),f(2),g("label","Street:")("tooltip","Enter street")("Validation",(o=r.bookingForm.get("venue.street"))!=null&&o.touched&&r.bookingForm.get("venue.street")?(o=r.bookingForm.get("venue.street"))==null?null:o.errors:ee(37,Ur)),f(2),g("label","State:")("tooltip","Enter state")("Validation",(s=r.bookingForm.get("venue.state"))!=null&&s.touched&&((s=r.bookingForm.get("venue.state"))!=null&&s.errors)?(s=r.bookingForm.get("venue.state"))==null?null:s.errors:ee(38,Ur)),f(4),q(r.statesList),f(2),g("label","District:")("tooltip","Enter district")("Validation",(a=r.bookingForm.get("venue.district"))!=null&&a.touched&&((a=r.bookingForm.get("venue.district"))!=null&&a.errors)?(a=r.bookingForm.get("venue.district"))==null?null:a.errors:ee(39,Ur)),f(4),q(r.districtsList),f(2),g("label","City:")("tooltip","Enter city")("Validation",(l=r.bookingForm.get("venue.city"))!=null&&l.touched&&((l=r.bookingForm.get("venue.city"))!=null&&l.errors)?(l=r.bookingForm.get("venue.city"))==null?null:l.errors:ee(40,Ur)),f(2),g("label","Post Box:")("tooltip","Enter post box number")("Validation",(d=r.bookingForm.get("venue.pbNo"))!=null&&d.touched&&((d=r.bookingForm.get("venue.pbNo"))!=null&&d.errors)?(d=r.bookingForm.get("venue.pbNo"))==null?null:d.errors:ee(41,Ur)),f(3),g("btnClass","btn-success m-3"),f(2),g("btnClass","btn-info m-3")}},dependencies:[We,ke,nt,$t,Ht,Ae,pi,St,je,Be,Me,Le,pn,Rn,ht]})};var ck=["modal"],jr=()=>({});function uk(e,t){if(e&1&&(c(0,"h6"),p(1),u()),e&2){let n=v().$implicit;f(),N(n.choiceType)}}function dk(e,t){if(e&1&&(c(0,"li",43)(1,"div",44)(2,"div",45),C(3,"img",46),u(),c(4,"div",47)(5,"h6"),p(6),u(),k(7,uk,2,1,"h6"),c(8,"h6"),p(9),u()()()()),e&2){let n=t.$implicit;f(3),g("src",n.choiceImg,X),f(3),N(n.choiceName),f(),T(n.choiceType?7:-1),f(2),$("\u20B9 ",n.choicePrice,"")}}function fk(e,t){if(e&1&&(c(0,"div",37)(1,"div",38),C(2,"img",39),c(3,"div",40)(4,"div",41)(5,"h5"),p(6,"Options"),u(),C(7,"hr"),c(8,"ul",42),G(9,dk,10,4,"li",43,z),u()()()()()),e&2){let n=t.$implicit;f(2),g("src",n.img,X),f(7),q(n.choices)}}function pk(e,t){if(e&1&&(c(0,"div",36)(1,"h1"),p(2),u()(),C(3,"br")(4,"hr"),G(5,fk,11,1,"div",37,z),C(7,"br")(8,"hr")),e&2){let n=t.$implicit,r=v();f(2),N(n),f(3),q(r.servicesData()[n])}}function hk(e,t){if(e&1&&(c(0,"option",17),p(1),u()),e&2){let n=t.$implicit;g("value",n),f(),N(n)}}function mk(e,t){if(e&1&&(c(0,"option",17),p(1),u()),e&2){let n=t.$implicit;g("value",n.name),Ft("data-extra",n.providerId),f(),Yt("",n.name,"-\u20B9 ",n.price,"")}}function gk(e,t){if(e&1){let n=U();c(0,"app-form",14),C(1,"br"),c(2,"select",48),E("change",function(i){S(n);let o=v();return D(o.setServiceDropdowns(i,"decor"))}),c(3,"option",16),p(4,"Select Decor"),u(),G(5,mk,2,4,"option",17,z),u()()}if(e&2){let n=v();g("label","Select Decor:")("tooltip","Select option"),f(5),q(n.decor)}}function vk(e,t){if(e&1&&(c(0,"option",17),p(1),u()),e&2){let n=t.$implicit;g("value",n.name),Ft("data-extra",n.providerId),f(),Yt("",n.name,"-\u20B9 ",n.price,"")}}function yk(e,t){if(e&1){let n=U();c(0,"app-form",14),C(1,"br"),c(2,"select",48),E("change",function(i){S(n);let o=v();return D(o.setServiceDropdowns(i,"dining"))}),c(3,"option",16),p(4,"Select Dining"),u(),G(5,vk,2,4,"option",17,z),u()()}if(e&2){let n=v();g("label","Select Dining:")("tooltip","Select option"),f(5),q(n.dining)}}function _k(e,t){if(e&1){let n=U();c(0,"input",49),E("change",function(){let i=S(n).$implicit,o=v(2);return D(o.setServiceCheckboxes(i.name,i.price,i.providerId,"cuisine"))}),u(),c(1,"label",50),p(2),u(),C(3,"br")}if(e&2){let n=t.$implicit;g("value",n.name),f(2),Yt("",n.name,"-\u20B9 ",n.price,"")}}function Ck(e,t){if(e&1&&(c(0,"app-form",14),C(1,"br"),G(2,_k,4,3,null,null,z),u()),e&2){let n=v();g("label","Select Cuisine:")("tooltip","Select option"),f(2),q(n.cuisine)}}function bk(e,t){if(e&1){let n=U();c(0,"input",49),E("change",function(){let i=S(n).$implicit,o=v(2);return D(o.setServiceCheckboxes(i.name,i.price,i.providerId,"cuisine"))}),u(),c(1,"label",50),p(2),u(),C(3,"br")}if(e&2){let n=t.$implicit;g("value",n.name),f(2),Yt("",n.name,"-\u20B9 ",n.price,"")}}function Ek(e,t){if(e&1&&(c(0,"app-form",14),C(1,"br"),G(2,bk,4,3,null,null,z),u()),e&2){let n=v();g("label","Select Event Coverage:")("tooltip","Select option"),f(2),q(n.coverage)}}function wk(e,t){if(e&1&&(c(0,"option",17),p(1),u()),e&2){let n=t.$implicit;g("value",n),f(),N(n)}}function Sk(e,t){if(e&1&&(c(0,"option",17),p(1),u()),e&2){let n=t.$implicit;g("value",n),f(),N(n)}}var Zc=class e{destroy$=new V;activatedRoute=b(gt);dataService=b(Pn);bookingService=b(Vn);userService=b(se);alertService=b(ae);bookingFromObj=new Ln;bookingForm=new Z({});formModal;servicesData=ge({});serviceNames=[];step=ge(1);statesList=Object.keys(Vr);districtsList=[];selectedService={};optionArray=[];eventsList=[];eventsArray=[];decor=[];dining=[];cuisine=[];coverage=[];serviceImgUrl=tt.serviceImgUrl;ngOnInit(){this.servicesData.set(this.dataService.getEventServiceData()),this.serviceNames=Object.keys(this.servicesData()),this.initialiseBookingForm(),this.userService.loggedUser$.pipe(F(this.destroy$)).subscribe(t=>{this.bookingForm.get("user")?.setValue(t?.user),this.bookingForm.get("userId")?.setValue(t?.id)}),this.bookingService.getAllEvents().pipe(F(this.destroy$)).subscribe({next:t=>{console.log("getAllEvents response: ",t.body?.data),this.eventsList=t.body?.data,this.eventsArray=t.body?.extra},error:t=>{console.log("getAllEvents error: ",t.error.message,t)}})}initialiseBookingForm(){this.bookingForm=new Z({_id:new w(this.bookingFromObj._id),user:new w(this.bookingFromObj.user,[A.required]),userId:new w(this.bookingFromObj.userId,[A.required]),serviceId:new w(this.bookingFromObj.serviceId,[A.required]),providerId:new w(this.bookingFromObj.providerId,[A.required]),event:new w(this.bookingFromObj.event,[A.required]),style:new w(this.bookingFromObj.style,[A.required]),services:new fn(this.bookingFromObj.services.map(t=>new Z({providerId:new w(t.providerId),serviceName:new w(t.serviceName),choiceName:new w(t.choiceName),choiceType:new w(t.choiceType),choicePrice:new w(t.choicePrice)}))),deliveryDate:new w(this.bookingFromObj.deliveryDate,[A.required]),venue:new Z({building:new w(this.bookingFromObj.venue.building,[A.required]),street:new w(this.bookingFromObj.venue.street,[A.required]),city:new w(this.bookingFromObj.venue.city,[A.required]),district:new w(this.bookingFromObj.venue.district,[A.required]),state:new w(this.bookingFromObj.venue.state,[A.required]),pbNo:new w(this.bookingFromObj.venue.pbNo===0?null:this.bookingFromObj.venue.pbNo,[A.required])}),totalCount:new w(this.bookingFromObj.totalCount===0?null:this.bookingFromObj.totalCount,[A.required])})}get services(){return this.bookingForm.get("services")}bookEvent(t,n){this.showModal()}getServices(t){console.log(t.target.value);let n=t.target.value;this.bookingService.getServicesByEvent(n).pipe(F(this.destroy$)).subscribe({next:r=>{console.log("getServicesByEvent response: ",r.body?.data,r.body?.extra);let i=r.body?.extra;this.decor=i.decor,this.dining=i.dining,this.cuisine=i.cuisine,this.coverage=i.coverage},error:r=>{console.log("getAllEvents error: ",r.error.message,r)}})}getDistricts(t){console.log(t);let n=t.target.value;console.log(Vr[n]),this.districtsList=Vr[n]}saveBooking(){console.log("event booking form values: ",this.bookingForm.value),console.log("is event booking form valid: ",this.bookingForm.valid),this.bookingService.createBooking(this.bookingForm.value).pipe(F(this.destroy$)).subscribe({next:t=>{t.status===201?(console.log("service booking response: ",t.body?.data),this.alertService.getAlert("alert alert-success","Success!",t.body?.message||""),this.hideModal()):(console.log(t.body?.message),this.alertService.getAlert("alert alert-danger","Failed",t.body?.message||""))},error:t=>{console.log("service booking error: ",t.error.message,t),this.alertService.getAlert("alert alert-danger","Failed!",t.error.message)}})}isOption(t){return this.bookingForm.get("services").value.some(i=>i.choiceName===t)}setServiceCheckboxes(t,n,r,i){let o=this.bookingForm.get("services"),s="",a="",l=0,d="",h=this.cuisine.filter(m=>m.providerId===r&&m.name===t);if(console.log("selectedServiceArray value: ",h),i==="cuisine")s="Menu",a=h[0].name,l=h[0].price,d="Catering";else if(i==="coverage"){let m=this.coverage.filter(y=>y.providerId===r&&y.name===t);s=m[0].name,l=m[0].price,d="Event Coverage"}o.push(new Z({serviceName:new w(d),providerId:new w(r),choiceName:new w(s),choiceType:new w(a),choicePrice:new w(l)})),console.log("choiceArray value: ",o)}setServiceDropdowns(t,n){let r=t.target,i=r.options[r.selectedIndex];console.log("setChoices target value:",r,i.value,i.getAttribute("data-extra"));let o=i.getAttribute("data-extra"),s=this.bookingForm.get("services"),a="",l="",d=0,h="";if(n==="decor"){let m=this.decor.filter(y=>y.providerId===o&&y.name===r.value);a=m[0].name,d=m[0].price,h="Decor"}else if(n==="dining"){let m=this.dining.filter(y=>y.providerId===o&&y.name===r.value);a="Dining",l=m[0].name,d=m[0].price,h="Catering"}s.push(new Z({serviceName:new w(h),providerId:new w(o),choiceName:new w(a),choiceType:new w(l),choicePrice:new w(d)}))}formNext(){this.step.set(this.step()+1),console.log("step 1 from value: ",this.bookingForm.value),this.dataService.setBookingFormData(this.bookingForm.value),this.bookingFromObj=this.dataService.getBookingFormData(),this.initialiseBookingForm()}formPrevious(){this.step.set(this.step()-1),console.log("step 2 from value: ",this.bookingForm.value),this.dataService.setBookingFormData(this.bookingForm.value),this.bookingFromObj=this.dataService.getBookingFormData(),this.initialiseBookingForm();let t=this.bookingForm.get("services");console.log("step 2 formArray value: ",t.value)}showModal(){this.formModal.nativeElement.style.display="block"}hideModal(){this.formModal.nativeElement.style.display="none",this.bookingForm.reset(),this.bookingFromObj=new Ln,this.initialiseBookingForm()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=H({type:e,selectors:[["app-user-event-details"]],viewQuery:function(n,r){if(n&1&&st(ck,5),n&2){let i;Qe(i=Ye())&&(r.formModal=i.first)}},standalone:!0,features:[W],decls:82,vars:46,consts:[["modal",""],[1,"container"],[1,"text-end","mt-4"],[3,"onBtnClick","btnClass"],[1,"row"],[1,"col-md-12","p-2"],[1,"modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","staticBackdropLabel",1,"modal-title","fs-1"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],[3,"label","tooltip"],["formControlName","event",1,"form-select",3,"change"],["selected","","disabled",""],[3,"value"],["formControlName","style",1,"form-select"],["value","Hindu"],["value","Muslim"],["value","Christian"],["value","General"],[3,"formArrayName"],[3,"label","tooltip","Validation"],["type","date","placeholder","Enter service delivery date","formControlName","deliveryDate",1,"form-select"],["type","number","placeholder","Enter total guests","formControlName","totalCount",1,"form-select"],["id","choices",3,"formGroupName"],["type","string","placeholder","Enter building / house name","formControlName","building",1,"form-select"],["type","string","placeholder","Enter street name","formControlName","street",1,"form-select"],["name","","id","","formControlName","state",1,"form-select",3,"change"],["value","","selected","","disabled",""],["name","","id","","formControlName","district",1,"form-select"],["type","string","placeholder","Enter city","formControlName","city",1,"form-select"],["type","number","placeholder","Enter post box number","formControlName","pbNo",1,"form-select"],[1,"d-grid","gap-2","d-md-block"],[1,"m-3"],[1,"col-md-4"],[1,"card",2,"width","20rem"],["alt","...",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card"],[1,"list-group","list-group-flush"],[1,"list-group-item"],[1,"row","border"],[1,"col-md-4","mt-2","p-2"],["alt","","width","100%","height","20",1,"img-fluid",3,"src"],[1,"col-md-7","mt-2","p-2"],[1,"form-select",3,"change"],["type","checkbox",1,"form-check-input",3,"change","value"],["for","",1,"form-check-label"]],template:function(n,r){if(n&1){let i=U();c(0,"div",1)(1,"div",2)(2,"app-button",3),E("onBtnClick",function(){return S(i),D(r.showModal())}),p(3,"Book Now"),u()(),c(4,"div",4)(5,"div",5)(6,"div",4),G(7,pk,9,1,null,null,z),u()()(),c(9,"div",6,0)(11,"div",7)(12,"div",8)(13,"div",9)(14,"h1",10),p(15,"Book Event"),u(),c(16,"button",11),E("click",function(){return S(i),D(r.hideModal())}),u()(),c(17,"div",12)(18,"form",13)(19,"div")(20,"h2"),p(21,"Event Details"),u(),C(22,"hr"),c(23,"app-form",14),C(24,"br"),c(25,"select",15),E("change",function(s){return S(i),D(r.getServices(s))}),c(26,"option",16),p(27,"Select Event"),u(),G(28,hk,2,2,"option",17,z),u()(),c(30,"app-form",14),C(31,"br"),c(32,"select",18)(33,"option",16),p(34,"Select Style"),u(),c(35,"option",19),p(36,"Hindu"),u(),c(37,"option",20),p(38,"Muslim"),u(),c(39,"option",21),p(40,"Christian"),u(),c(41,"option",22),p(42,"General"),u()()(),c(43,"div",23),k(44,gk,7,2,"app-form",14)(45,yk,7,2,"app-form",14)(46,Ck,4,2,"app-form",14)(47,Ek,4,2,"app-form",14),u()(),C(48,"br"),c(49,"div")(50,"h2"),p(51,"Booking Details"),u(),c(52,"app-form",24),C(53,"input",25),u(),c(54,"app-form",24),C(55,"input",26),u(),c(56,"div",27)(57,"app-form",24),C(58,"input",28),u(),c(59,"app-form",24),C(60,"input",29),u(),c(61,"app-form",24)(62,"select",30),E("change",function(s){return S(i),D(r.getDistricts(s))}),c(63,"option",31),p(64,"Select state"),u(),G(65,wk,2,2,"option",17,z),u()(),c(67,"app-form",24)(68,"select",32)(69,"option",31),p(70,"Select District"),u(),G(71,Sk,2,2,"option",17,z),u()(),c(73,"app-form",24),C(74,"input",33),u(),c(75,"app-form",24),C(76,"input",34),u()(),c(77,"div",35)(78,"app-button",3),E("onBtnClick",function(){return S(i),D(r.saveBooking())}),p(79,"Continue"),u(),c(80,"app-button",3),E("onBtnClick",function(){return S(i),D(r.hideModal())}),p(81,"Cancel"),u()()()()()()()()()}if(n&2){let i,o,s,a,l,d;f(2),g("btnClass","btn-dark btn-sm rounded-pill m-2"),f(5),q(r.serviceNames),f(11),g("formGroup",r.bookingForm),f(5),g("label","Select Event:")("tooltip","Select Event"),f(5),q(r.eventsArray),f(2),g("label","Select Style:")("tooltip","Select option"),f(13),g("formArrayName","services"),f(),T(r.decor.length>0?44:-1),f(),T(r.dining.length>0?45:-1),f(),T(r.cuisine.length>0?46:-1),f(),T(r.coverage.length>0?47:-1),f(5),g("label","Date of service Delivery:")("tooltip","Select Date")("Validation",r.bookingForm.controls.deliveryDate.touched&&r.bookingForm.controls.deliveryDate.errors?r.bookingForm.controls.deliveryDate.errors:ee(38,jr)),f(2),g("label","Number of guests:")("tooltip","Enter guests count")("Validation",r.bookingForm.controls.totalCount.touched&&r.bookingForm.controls.totalCount.errors?r.bookingForm.controls.totalCount.errors:ee(39,jr)),f(2),g("formGroupName","venue"),f(),g("label","Building:")("tooltip","Enter building / house name")("Validation",(i=r.bookingForm.get("venue.building"))!=null&&i.touched&&((i=r.bookingForm.get("venue.building"))!=null&&i.errors)?(i=r.bookingForm.get("venue.building"))==null?null:i.errors:ee(40,jr)),f(2),g("label","Street:")("tooltip","Enter street")("Validation",(o=r.bookingForm.get("venue.street"))!=null&&o.touched&&r.bookingForm.get("venue.street")?(o=r.bookingForm.get("venue.street"))==null?null:o.errors:ee(41,jr)),f(2),g("label","State:")("tooltip","Enter state")("Validation",(s=r.bookingForm.get("venue.state"))!=null&&s.touched&&((s=r.bookingForm.get("venue.state"))!=null&&s.errors)?(s=r.bookingForm.get("venue.state"))==null?null:s.errors:ee(42,jr)),f(4),q(r.statesList),f(2),g("label","District:")("tooltip","Enter district")("Validation",(a=r.bookingForm.get("venue.district"))!=null&&a.touched&&((a=r.bookingForm.get("venue.district"))!=null&&a.errors)?(a=r.bookingForm.get("venue.district"))==null?null:a.errors:ee(43,jr)),f(4),q(r.districtsList),f(2),g("label","City:")("tooltip","Enter city")("Validation",(l=r.bookingForm.get("venue.city"))!=null&&l.touched&&((l=r.bookingForm.get("venue.city"))!=null&&l.errors)?(l=r.bookingForm.get("venue.city"))==null?null:l.errors:ee(44,jr)),f(2),g("label","Post Box:")("tooltip","Enter post box number")("Validation",(d=r.bookingForm.get("venue.pbNo"))!=null&&d.touched&&((d=r.bookingForm.get("venue.pbNo"))!=null&&d.errors)?(d=r.bookingForm.get("venue.pbNo"))==null?null:d.errors:ee(45,jr)),f(3),g("btnClass","btn-success m-3"),f(2),g("btnClass","btn-info m-3")}},dependencies:[We,ht,ke,nt,$t,Ht,Ae,pi,St,je,Be,Me,Le,pn,Rn]})};function Dk(e,t){if(e&1&&(c(0,"td"),p(1),u()),e&2){let n=v().$implicit;f(),N(n.service)}}function xk(e,t){if(e&1&&(c(0,"td"),p(1),u()),e&2){let n=v().$implicit;f(),N(n.event)}}function Ik(e,t){if(e&1&&(c(0,"p"),p(1),u()),e&2){let n=v().$implicit;f(),$("Service: ",n.service,"")}}function Tk(e,t){if(e&1&&(c(0,"p"),p(1),u()),e&2){let n=v().$implicit;f(),$("Event: ",n.event,"")}}function Fk(e,t){if(e&1&&p(0),e&2){let n=v().$implicit;$(" Style: ",n.style," ")}}function Ak(e,t){if(e&1&&(c(0,"li"),p(1),u()),e&2){let n=v().$implicit;f(),$("",n.choiceType," ")}}function Mk(e,t){if(e&1&&(c(0,"div",36)(1,"p"),p(2),u()(),c(3,"ul")(4,"li"),p(5),u(),k(6,Ak,2,1,"li"),c(7,"li"),p(8),u()()),e&2){let n=t.$implicit;f(2),N(n.serviceName),f(3),$("",n.choiceName," "),f(),T(n.choiceType?6:-1),f(2),N(n.choicePrice)}}function kk(e,t){e&1&&p(0," Booking Confirmed ")}function Nk(e,t){e&1&&p(0," Pending Confirmation ")}function Ok(e,t){e&1&&(c(0,"app-button",34),C(1,"i",37),u()),e&2&&g("btnTitle","Service Approved")("disabled",!0)}function Rk(e,t){if(e&1){let n=U();c(0,"app-button",38),E("onBtnClick",function(){S(n);let i=v().$implicit,o=v();return D(o.confirmBooking(i._id))}),C(1,"i",39),u()}e&2&&g("btnTitle","Approve service")}function Pk(e,t){if(e&1&&(c(0,"tr")(1,"th",27),p(2),u(),c(3,"td"),p(4),u(),k(5,Dk,2,1,"td")(6,xk,2,1,"td"),c(7,"td")(8,"p",28)(9,"button",29),p(10," See Options "),u()(),c(11,"div",30)(12,"div",31)(13,"div",32)(14,"div",33),k(15,Ik,2,1,"p")(16,Tk,2,1,"p"),c(17,"ul"),k(18,Fk,1,1),c(19,"li"),p(20,"Services: "),G(21,Mk,9,4,null,null,z),u(),c(23,"li"),p(24),Ke(25,"date"),u(),c(26,"li"),p(27),u(),c(28,"li"),p(29,"Venue: "),c(30,"p"),p(31),u(),c(32,"p"),p(33),u()()()()()()()(),c(34,"td"),k(35,kk,1,0)(36,Nk,1,0),u(),c(37,"td"),k(38,Ok,2,2,"app-button",34)(39,Rk,2,1,"app-button",35),u()()),e&2){let n=t.$implicit,r=t.$index;f(2),N(r+1),f(2),N(n.user),f(),T(n.service?5:n.event?6:-1),f(4),Ft("data-bs-target","#collapseExample"+r)("aria-controls","collapseExample"+r),f(2),g("id","collapseExample"+r),f(4),T(n.service?15:n.event?16:-1),f(3),T(n.style?18:-1),f(3),q(n.services),f(3),$("Date: ",Je(25,17,n.deliveryDate,"longDate"),""),f(3),$("Guests: ",n.totalCount,""),f(4),N(n.venue.building),f(2),Xo("",n.venue.street,",",n.venue.city,",",n.venue.district,",",n.venue.state,", "),f(2),T(n.isConfirmed?35:36),f(3),T(n.isConfirmed?38:39)}}function Lk(e,t){if(e&1){let n=U();c(0,"li",25)(1,"a",26),E("click",function(){let i=S(n).$implicit,o=v();return D(o.onPageChange(i))}),p(2),u()()}if(e&2){let n=t.$implicit,r=v();f(),qe("active",r.currentPage===n),f(),N(n)}}var Qc=class e{destroy$=new V;bookingFormObj=new Ln;bookingFilterFormObj=new qc;searchFilterForm=new Z({});searchParams=new Ie;bookingService=b(Vn);alertService=b(ae);currentPage=Number(this.bookingFilterFormObj.pageNumber);totalBookings=0;bookings=ge([]);errMessage="Some error occured";constructor(){this.getTotalBookings(),this.initialiseSearchFilterForm()}ngOnInit(){this.searchParams=this.searchParams.set("pageNumber",this.bookingFilterFormObj.pageNumber).set("pageSize",this.bookingFilterFormObj.pageSize),this.getAllBookings(this.searchParams),this.onRefresh()}initialiseSearchFilterForm(){this.searchFilterForm=new Z({userName:new w(this.bookingFilterFormObj.userName),pageNumber:new w(this.bookingFilterFormObj.pageNumber),pageSize:new w(this.bookingFilterFormObj.pageSize),sortBy:new w(this.bookingFilterFormObj.sortBy),sortOrder:new w(this.bookingFilterFormObj.sortOrder)})}getTotalBookings(){this.bookingService.getTotalBookings().pipe(F(this.destroy$)).subscribe({next:t=>{t.status===200?this.totalBookings=t.body?.data:(console.log(t.body?.message),this.alertService.getAlert("alert alert-danger","Failed",t.body?.message?t.body?.message:this.errMessage))},error:t=>{this.alertService.getAlert("alert alert-danger","Register User Failed",t.error.message)}})}onRefresh(){this.searchParams=new Ie,this.searchFilterForm.get("userName")?.setValue(""),this.searchFilterForm.get("isConfirmed")?.setValue(""),this.searchParams=this.searchParams.set("pageNumber",this.bookingFilterFormObj.pageNumber).set("pageSize",this.bookingFilterFormObj.pageSize),this.getAllBookings(this.searchParams)}onSearch(){console.log(this.searchFilterForm.value),this.bookingFilterFormObj=this.searchFilterForm.value,this.searchParams=this.searchParams.set("pageNumber",this.bookingFilterFormObj.pageNumber).set("pageSize",this.bookingFilterFormObj.pageSize).set("sortBy",this.bookingFilterFormObj.sortBy).set("sortOrder",this.bookingFilterFormObj.sortOrder),this.bookingFilterFormObj.userName!==""&&(this.searchParams=this.searchParams.set("userName",this.bookingFilterFormObj.userName)),this.getAllBookings(this.searchParams)}onSort(t){this.bookingFilterFormObj.sortOrder=this.bookingFilterFormObj.sortOrder==="asc"?"desc":"asc",this.searchParams=this.searchParams.set("sortBy",t).set("sortOrder",this.bookingFilterFormObj.sortOrder),console.log(this.searchParams),this.getAllBookings(this.searchParams)}getAllBookings(t){this.bookingService.getAllBookings(t).pipe(F(this.destroy$)).subscribe({next:n=>{n.status===200?(this.bookings.set(n.body?.data),console.log("all services: ",this.bookings())):(console.log("could not get users"),this.alertService.getAlert("alert alert-danger","Failed",n.body?.message?n.body?.message:this.errMessage))},error:n=>{console.log(n),this.alertService.getAlert("alert alert-danger","Failed!",n.error.message)}})}confirmBooking(t){this.bookingService.editStatus(t).pipe(F(this.destroy$)).subscribe({next:n=>{console.log("verify user response: ",n),n.status===200?(this.getAllBookings(this.searchParams),this.alertService.getAlert("alert alert-success","Success!",n.body?.message?n.body?.message:"Service approved successfully")):this.alertService.getAlert("alert alert-danger","Failed",n.body?.message?n.body?.message:this.errMessage)},error:n=>{console.log(n),this.alertService.getAlert("alert alert-danger","Failed!",n.error.message)}})}deleteBooking(t){this.bookingService.deleteBooking(t).pipe(F(this.destroy$)).subscribe({next:n=>{n.status===200?(this.alertService.getAlert("alert alert-success","Success!",n.body?.message?n.body?.message:"Service deleted successfully"),this.getAllBookings(this.searchParams)):(console.log(n.body?.message),this.alertService.getAlert("alert alert-danger","Failed",n.body?.message?n.body?.message:this.errMessage))},error:n=>{this.alertService.getAlert("alert alert-danger","Register User Failed",n.error.message)}})}onPageChange(t){this.currentPage=t,this.bookingFilterFormObj.pageNumber=t.toString(),this.searchParams=this.searchParams.set("pageNumber",this.bookingFilterFormObj.pageNumber),this.getAllBookings(this.searchParams)}getTotalPages(){let t=Math.ceil(this.totalBookings/Number(this.bookingFilterFormObj.pageSize));return Array(t).fill(0).map((n,r)=>r+1)}getLastpage(){return this.totalBookings/Number(this.bookingFilterFormObj.pageSize)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=H({type:e,selectors:[["app-admin-booking"]],standalone:!0,features:[W],decls:65,vars:7,consts:[[1,"container","mt-4","p-3"],[1,"row","mb-2"],[1,"col-md-8","text-dark","fs-3","fw-bold"],[1,"row","d-flex","flex-row",3,"formGroup"],[1,"col-md-3"],["for",""],["type","text","formControlName","userName",1,"form-control"],[3,"onBtnClick","btnClass"],[1,"col-md-3","align-item-left","mt-4","mb-4"],["formControlName","pageSize",3,"change"],["value","2"],["value","3"],["value","5"],["value","10"],["value","20"],["value","50"],["value","100"],[1,"bg-light","rounded","h-100","p-4"],[1,"mb-4"],[1,"table-responsive"],[1,"table","table-striped"],["scope","col"],["scope","col","role","button",3,"click"],["scope","col","role","button"],[1,"pagination"],[1,"page-item"],["role","button",1,"page-link",3,"click"],["scope","row"],[1,"d-inline-flex","gap-1"],["type","button","data-bs-toggle","collapse","aria-expanded","false",1,"btn","btn-primary"],[1,"collapse",3,"id"],[1,"accordion-body"],[1,"row"],[1,"col-md-8","mt-4"],[3,"btnTitle","disabled"],[3,"btnTitle"],[1,"d-flex","justify-content-between"],[1,"fa-regular","fa-thumbs-up"],[3,"onBtnClick","btnTitle"],[1,"fa-regular","fa-thumbs-down"]],template:function(n,r){n&1&&(c(0,"section",0)(1,"div",1)(2,"div",2)(3,"p"),p(4,"Booking Management"),u()()(),c(5,"div",3)(6,"div",4)(7,"label",5),p(8," User: "),u(),C(9,"input",6),u(),c(10,"div",4)(11,"app-button",7),E("onBtnClick",function(){return r.onSearch()}),p(12,"Search"),u(),c(13,"app-button",7),E("onBtnClick",function(){return r.onRefresh()}),p(14,"Refresh"),u()(),c(15,"div",8)(16,"select",9),E("change",function(){return r.onSearch()}),c(17,"option",10),p(18,"2"),u(),c(19,"option",11),p(20,"3"),u(),c(21,"option",12),p(22,"5"),u(),c(23,"option",13),p(24,"10"),u(),c(25,"option",14),p(26,"20"),u(),c(27,"option",15),p(28,"50"),u(),c(29,"option",16),p(30,"100"),u()()()(),c(31,"div"),C(32,"app-alert"),u(),c(33,"div",17)(34,"h6",18),p(35,"Booking"),u(),c(36,"div",19)(37,"table",20)(38,"thead")(39,"tr")(40,"th",21),p(41,"Sl.No"),u(),c(42,"th",22),E("click",function(){return r.onSort("user")}),p(43,"User"),u(),c(44,"th",23),p(45,"Service/Event"),u(),c(46,"th",21),p(47,"Details"),u(),c(48,"th",22),E("click",function(){return r.onSort("isConfirmed")}),p(49,"Status"),u(),c(50,"th",21),p(51,"Actions"),u()()(),c(52,"tbody"),G(53,Pk,40,20,"tr",null,z),u()()(),c(55,"nav")(56,"ul",24)(57,"li",25)(58,"a",26),E("click",function(){return r.onPageChange(r.currentPage-1)}),p(59,"Previous"),u()(),G(60,Lk,3,3,"li",25,z),c(62,"li",25)(63,"a",26),E("click",function(){return r.onPageChange(r.currentPage+1)}),p(64,"Next"),u()()()()()()),n&2&&(f(5),g("formGroup",r.searchFilterForm),f(6),g("btnClass","btn-dark mt-4 rounded-pill"),f(2),g("btnClass","btn-dark mt-4 ms-3 rounded-pill"),f(40),q(r.bookings()),f(4),qe("disabled",r.currentPage===1),f(3),q(r.getTotalPages()),f(3),qe("disabled",r.currentPage===r.getLastpage()))},dependencies:[ke,$t,Ht,Ae,St,je,Be,Me,Le,We,Ne,Mr]})};function Vk(e,t){if(e&1&&(c(0,"p"),p(1),u()),e&2){let n=v().$implicit;f(),N(n.service)}}function Uk(e,t){if(e&1&&(c(0,"p"),p(1),u()),e&2){let n=v().$implicit;f(),N(n.event)}}function jk(e,t){if(e&1&&(c(0,"p"),p(1),u()),e&2){let n=v().$implicit;f(),$("Service: ",n.service,"")}}function Bk(e,t){if(e&1&&(c(0,"p"),p(1),u()),e&2){let n=v().$implicit;f(),$("Event: ",n.event,"")}}function $k(e,t){if(e&1&&p(0),e&2){let n=v().$implicit;$(" Style: ",n.style," ")}}function Hk(e,t){if(e&1&&(c(0,"li"),p(1),u()),e&2){let n=v().$implicit;f(),$("",n.choiceType," ")}}function zk(e,t){if(e&1){let n=U();c(0,"div",13)(1,"p"),p(2),u(),c(3,"app-button",14),E("onBtnClick",function(){let i=S(n).$implicit,o=v().$implicit,s=v();return D(s.deleteChoice(o._id,i.serviceName,i._id))}),p(4,"Delete"),u()(),c(5,"ul")(6,"li"),p(7),u(),k(8,Hk,2,1,"li"),c(9,"li"),p(10),u()()}if(e&2){let n=t.$implicit;f(2),N(n.serviceName),f(),g("btnClass","btn-danger rounded-pill"),f(4),$("",n.choiceName," "),f(),T(n.choiceType?8:-1),f(2),N(n.choicePrice)}}function Gk(e,t){if(e&1){let n=U();c(0,"div",1)(1,"div",2),C(2,"img",3),u(),c(3,"div",4),k(4,Vk,2,1,"p")(5,Uk,2,1,"p"),c(6,"p"),p(7),Ke(8,"date"),u(),c(9,"div",5)(10,"button",6),p(11," View Details "),u(),c(12,"button",7),E("click",function(){let i=S(n).$implicit,o=v();return D(o.deleteBooking(i._id))}),p(13,"Delete"),u()()(),c(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11)(18,"div",12),k(19,jk,2,1,"p")(20,Bk,2,1,"p"),c(21,"ul"),k(22,$k,1,1),c(23,"li"),p(24,"Services: "),G(25,zk,11,5,null,null,z),u(),c(27,"li"),p(28),Ke(29,"date"),u(),c(30,"li"),p(31),u(),c(32,"li"),p(33,"Venue: "),c(34,"p"),p(35),u(),c(36,"p"),p(37),u()()()()()()()()()}if(e&2){let n=t.$implicit,r=t.$index;f(2),g("src",n.img,X),f(2),T(n.service?4:n.event?5:-1),f(3),N(Je(8,15,n.deliveryDate,"longDate")),f(3),Ft("data-bs-target","#collapseOne"+r)("aria-controls","collapseOne"+r),f(5),g("id","collapseOne"+r),f(4),T(n.service?19:n.event?20:-1),f(3),T(n.style?22:-1),f(3),q(n.services),f(3),$("Date: ",Je(29,18,n.deliveryDate,"longDate"),""),f(3),$("Guests: ",n.totalCount,""),f(4),N(n.venue.building),f(2),Xo("",n.venue.street,",",n.venue.city,",",n.venue.district,",",n.venue.state,", ")}}var Yc=class e{destroy$=new V;bookingsList=ge([]);userService=b(se);alertService=b(ae);bookingService=b(Vn);userId="";ngOnInit(){this.userService.loggedUser$.pipe(F(this.destroy$)).subscribe(t=>{this.userId=t.id}),this.getBookingsByUser(this.userId)}getBookingsByUser(t){this.bookingService.getBookingsByUserId(t).pipe(F(this.destroy$)).subscribe({next:n=>{n.status===200?(this.bookingsList.set(n.body?.data),console.log(this.bookingsList)):(console.log(n.body?.message),this.alertService.getAlert("alert alert-danger","Failed",n.body?.message?n.body?.message:""))},error:n=>{this.alertService.getAlert("alert alert-danger","Register User Failed",n.error.message)}})}deleteBooking(t){confirm("Do you want to delete the booking ?")&&this.bookingService.deleteBooking(t).pipe(F(this.destroy$)).subscribe({next:n=>{n.status===200?(console.log(n.body),this.getBookingsByUser(this.userId)):(console.log(n.body?.message),this.alertService.getAlert("alert alert-danger","Failed",n.body?.message?n.body?.message:""))},error:n=>{this.alertService.getAlert("alert alert-danger","Register User Failed",n.error.message)}})}deleteChoice(t,n,r){confirm("Do you want to delete the service ?")&&this.bookingService.deleteBookedServices(t,n,r).pipe(F(this.destroy$)).subscribe({next:i=>{i.status===200?(console.log(i.body),this.getBookingsByUser(this.userId)):(console.log(i.body?.message),this.alertService.getAlert("alert alert-danger","Failed",i.body?.message?i.body?.message:""))},error:i=>{this.alertService.getAlert("alert alert-danger","Register User Failed",i.error.message)}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=H({type:e,selectors:[["app-user-booking"]],standalone:!0,features:[W],decls:6,vars:0,consts:[[1,"container","mt-4","p-3"],[1,"row","border","border-success","rounded","border-4","m-3","mt-4"],[1,"col-md-3"],["width","100%","height","100%","alt","Booking img",3,"src"],[1,"col-md-7","border","m-3","rounded"],["id","accordionExample",1,"accordion"],["type","button","data-bs-toggle","collapse","aria-expanded","true",1,"btn","btn-dark"],[1,"btn","btn-dark","ms-3",3,"click"],[1,"accordion-item"],["data-bs-parent","#accordionExample",1,"accordion-collapse","collapse",3,"id"],[1,"accordion-body"],[1,"row"],[1,"col-md-8","mt-4"],[1,"d-flex","justify-content-between"],[3,"onBtnClick","btnClass"]],template:function(n,r){n&1&&(c(0,"div",0)(1,"h1"),p(2,"Bookings"),u(),C(3,"hr"),G(4,Gk,38,21,"div",1,z),u()),n&2&&(f(4),q(r.bookingsList()))},dependencies:[Mr,We]})};function qk(e,t){e&1&&C(0,"app-admin-booking")}function Wk(e,t){e&1&&C(0,"app-user-booking")}var Kc=class e{constructor(t){this.userService=t}destroy$=new V;user;role="";ngOnInit(){this.userService.loggedUser$.subscribe(t=>{t&&(this.user=t,this.role=t.role)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(n){return new(n||e)(J(se))};static \u0275cmp=H({type:e,selectors:[["app-booking"]],standalone:!0,features:[W],decls:3,vars:1,template:function(n,r){n&1&&(c(0,"section"),k(1,qk,1,0,"app-admin-booking")(2,Wk,1,0,"app-user-booking"),u()),n&2&&(f(),T(r.role==="admin"?1:r.role==="user"?2:-1))},dependencies:[Qc,Yc]})};var yo=class{_id;userId;roomId;chats;constructor(){this._id="",this.userId="",this.roomId="",this.chats={message:"",type:"d",date:new Date,sender:"",receiver:""}}},_o=class{userName;pageNumber;pageSize;sortBy;sortOrder;constructor(){this.userName="",this.pageNumber="1",this.pageSize="2",this.sortBy="",this.sortOrder="asc"}};var yh={};zh(yh,{Fetch:()=>js,Manager:()=>yi,NodeWebSocket:()=>fr,NodeXHR:()=>dr,Socket:()=>gi,WebSocket:()=>fr,WebTransport:()=>mi,XHR:()=>dr,connect:()=>_i,default:()=>_i,io:()=>_i,protocol:()=>gh});var Dn=Object.create(null);Dn.open="0";Dn.close="1";Dn.ping="2";Dn.pong="3";Dn.message="4";Dn.upgrade="5";Dn.noop="6";var Rs=Object.create(null);Object.keys(Dn).forEach(e=>{Rs[Dn[e]]=e});var Ps={type:"error",data:"parser error"};var G_=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",q_=typeof ArrayBuffer=="function",W_=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Ls=({type:e,data:t},n,r)=>G_&&t instanceof Blob?n?r(t):H_(t,r):q_&&(t instanceof ArrayBuffer||W_(t))?n?r(t):H_(new Blob([t]),r):r(Dn[e]+(t||"")),H_=(e,t)=>{let n=new FileReader;return n.onload=function(){let r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function z_(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}var rh;function Z_(e,t){if(G_&&e.data instanceof Blob)return e.data.arrayBuffer().then(z_).then(t);if(q_&&(e.data instanceof ArrayBuffer||W_(e.data)))return t(z_(e.data));Ls(e,!1,n=>{rh||(rh=new TextEncoder),t(rh.encode(n))})}var Q_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vs=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Q_.length;e++)Vs[Q_.charCodeAt(e)]=e;var Y_=e=>{let t=e.length*.75,n=e.length,r,i=0,o,s,a,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);let d=new ArrayBuffer(t),h=new Uint8Array(d);for(r=0;r<n;r+=4)o=Vs[e.charCodeAt(r)],s=Vs[e.charCodeAt(r+1)],a=Vs[e.charCodeAt(r+2)],l=Vs[e.charCodeAt(r+3)],h[i++]=o<<2|s>>4,h[i++]=(s&15)<<4|a>>2,h[i++]=(a&3)<<6|l&63;return d};var Zk=typeof ArrayBuffer=="function",Us=(e,t)=>{if(typeof e!="string")return{type:"message",data:K_(e,t)};let n=e.charAt(0);return n==="b"?{type:"message",data:Qk(e.substring(1),t)}:Rs[n]?e.length>1?{type:Rs[n],data:e.substring(1)}:{type:Rs[n]}:Ps},Qk=(e,t)=>{if(Zk){let n=Y_(e);return K_(n,t)}else return{base64:!0,data:e}},K_=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}};var J_="",X_=(e,t)=>{let n=e.length,r=new Array(n),i=0;e.forEach((o,s)=>{Ls(o,!1,a=>{r[s]=a,++i===n&&t(r.join(J_))})})},eC=(e,t)=>{let n=e.split(J_),r=[];for(let i=0;i<n.length;i++){let o=Us(n[i],t);if(r.push(o),o.type==="error")break}return r};function tC(){return new TransformStream({transform(e,t){Z_(e,n=>{let r=n.length,i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);let o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{i=new Uint8Array(9);let o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(n)})}})}var ih;function Jc(e){return e.reduce((t,n)=>t+n.length,0)}function Xc(e,t){if(e[0].length===t)return e.shift();let n=new Uint8Array(t),r=0;for(let i=0;i<t;i++)n[i]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function nC(e,t){ih||(ih=new TextDecoder);let n=[],r=0,i=-1,o=!1;return new TransformStream({transform(s,a){for(n.push(s);;){if(r===0){if(Jc(n)<1)break;let l=Xc(n,1);o=(l[0]&128)===128,i=l[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(Jc(n)<2)break;let l=Xc(n,2);i=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),r=3}else if(r===2){if(Jc(n)<8)break;let l=Xc(n,8),d=new DataView(l.buffer,l.byteOffset,l.length),h=d.getUint32(0);if(h>Math.pow(2,21)-1){a.enqueue(Ps);break}i=h*Math.pow(2,32)+d.getUint32(4),r=3}else{if(Jc(n)<i)break;let l=Xc(n,i);a.enqueue(Us(o?l:ih.decode(l),t)),r=0}if(i===0||i>e){a.enqueue(Ps);break}}}})}var oh=4;function $e(e){if(e)return Yk(e)}function Yk(e){for(var t in $e.prototype)e[t]=$e.prototype[t];return e}$e.prototype.on=$e.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};$e.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};$e.prototype.off=$e.prototype.removeListener=$e.prototype.removeAllListeners=$e.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+e],this};$e.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this};$e.prototype.emitReserved=$e.prototype.emit;$e.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};$e.prototype.hasListeners=function(e){return!!this.listeners(e).length};var lr=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),Mt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),rC="arraybuffer";function eu(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}var Kk=Mt.setTimeout,Jk=Mt.clearTimeout;function cr(e,t){t.useNativeTimers?(e.setTimeoutFn=Kk.bind(Mt),e.clearTimeoutFn=Jk.bind(Mt)):(e.setTimeoutFn=Mt.setTimeout.bind(Mt),e.clearTimeoutFn=Mt.clearTimeout.bind(Mt))}var Xk=1.33;function iC(e){return typeof e=="string"?eN(e):Math.ceil((e.byteLength||e.size)*Xk)}function eN(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function tu(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function oC(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function sC(e){let t={},n=e.split("&");for(let r=0,i=n.length;r<i;r++){let o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}var nu=class extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}},ur=class extends $e{constructor(t){super(),this.writable=!1,cr(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new nu(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){let n=Us(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){let t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){let n=oC(t);return n.length?"?"+n:""}};var Co=class extends ur{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";let n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){let n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};eC(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){let t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,X_(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=tu()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}};var aC=!1;try{aC=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var lC=aC;function tN(){}var sh=class extends Co{constructor(t){if(super(t),typeof location<"u"){let n=location.protocol==="https:",r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){let r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){let t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}},ru=(()=>{class e extends $e{constructor(n,r,i){super(),this.createRequest=n,cr(this,i),this._opts=i,this._method=i.method||"GET",this._uri=r,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var n;let r=eu(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;let i=this._xhr=this.createRequest(r);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&i.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(n=this._opts.cookieJar)===null||n===void 0||n.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var o;i.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=e.requestsCount++,e.requests[this._index]=this)}_onError(n){this.emitReserved("error",n,this._xhr),this._cleanup(!0)}_cleanup(n){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=tN,n)try{this._xhr.abort()}catch{}typeof document<"u"&&delete e.requests[this._index],this._xhr=null}}_onLoad(){let n=this._xhr.responseText;n!==null&&(this.emitReserved("data",n),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return e.requestsCount=0,e.requests={},e})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",cC);else if(typeof addEventListener=="function"){let e="onpagehide"in Mt?"pagehide":"unload";addEventListener(e,cC,!1)}}function cC(){for(let e in ru.requests)ru.requests.hasOwnProperty(e)&&ru.requests[e].abort()}var nN=function(){let e=uC({xdomain:!1});return e&&e.responseType!==null}(),dr=class extends sh{constructor(t){super(t);let n=t&&t.forceBase64;this.supportsBinary=nN&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new ru(uC,this.uri(),t)}};function uC(e){let t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||lC))return new XMLHttpRequest}catch{}if(!t)try{return new Mt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}var dC=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",lh=class extends ur{get name(){return"websocket"}doOpen(){let t=this.uri(),n=this.opts.protocols,r=dC?{}:eu(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){let r=t[n],i=n===t.length-1;Ls(r,this.supportsBinary,o=>{try{this.doWrite(r,o)}catch{}i&&lr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=tu()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}},ah=Mt.WebSocket||Mt.MozWebSocket,fr=class extends lh{createSocket(t,n,r){return dC?new ah(t,n,r):n?new ah(t,n):new ah(t)}doWrite(t,n){this.ws.send(n)}};var mi=class extends ur{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{let n=nC(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),i=tC();i.readable.pipeTo(t.writable),this._writer=i.writable.getWriter();let o=()=>{r.read().then(({done:a,value:l})=>{a||(this.onPacket(l),o())}).catch(a=>{})};o();let s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){let r=t[n],i=n===t.length-1;this._writer.write(r).then(()=>{i&&lr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}};var ch={websocket:fr,webtransport:mi,polling:dr};var rN=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,iN=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function bo(e){if(e.length>8e3)throw"URI too long";let t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=rN.exec(e||""),o={},s=14;for(;s--;)o[iN[s]]=i[s]||"";return n!=-1&&r!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=oN(o,o.path),o.queryKey=sN(o,o.query),o}function oN(e,t){let n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function sN(e,t){let n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(n[i]=o)}),n}var uh=typeof addEventListener=="function"&&typeof removeEventListener=="function",iu=[];uh&&addEventListener("offline",()=>{iu.forEach(e=>e())},!1);var ou=(()=>{class e extends $e{constructor(n,r){if(super(),this.binaryType=rC,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,n&&typeof n=="object"&&(r=n,n=null),n){let i=bo(n);r.hostname=i.host,r.secure=i.protocol==="https"||i.protocol==="wss",r.port=i.port,i.query&&(r.query=i.query)}else r.host&&(r.hostname=bo(r.host).host);cr(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(i=>{let o=i.prototype.name;this.transports.push(o),this._transportsByName[o]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=sC(this.opts.query)),uh&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},iu.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(n){let r=Object.assign({},this.opts.query);r.EIO=oh,r.transport=n,this.id&&(r.sid=this.id);let i=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[n]);return new this._transportsByName[n](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let n=this.opts.rememberUpgrade&&e.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";let r=this.createTransport(n);r.open(),this.setTransport(r)}setTransport(n){this.transport&&this.transport.removeAllListeners(),this.transport=n,n.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",e.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",n),this.emitReserved("heartbeat"),n.type){case"open":this.onHandshake(JSON.parse(n.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let r=new Error("server error");r.code=n.data,this._onError(r);break;case"message":this.emitReserved("data",n.data),this.emitReserved("message",n.data);break}}onHandshake(n){this.emitReserved("handshake",n),this.id=n.sid,this.transport.query.sid=n.sid,this._pingInterval=n.pingInterval,this._pingTimeout=n.pingTimeout,this._maxPayload=n.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let n=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+n,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},n),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let n=this._getWritablePackets();this.transport.send(n),this._prevBufferLen=n.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){let o=this.writeBuffer[i].data;if(o&&(r+=iC(o)),i>0&&r>this._maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let n=Date.now()>this._pingTimeoutTime;return n&&(this._pingTimeoutTime=0,lr(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),n}write(n,r,i){return this._sendPacket("message",n,r,i),this}send(n,r,i){return this._sendPacket("message",n,r,i),this}_sendPacket(n,r,i,o){if(typeof r=="function"&&(o=r,r=void 0),typeof i=="function"&&(o=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;let s={type:n,data:r,options:i};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),o&&this.once("flush",o),this.flush()}close(){let n=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),n()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():n()}):this.upgrading?i():n()),this}_onError(n){if(e.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",n),this._onClose("transport error",n)}_onClose(n,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),uh&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let i=iu.indexOf(this._offlineEventListener);i!==-1&&iu.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",n,r),this.writeBuffer=[],this._prevBufferLen=0}}}return e.protocol=oh,e})(),su=class extends ou{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;ou.priorWebsocketSuccess=!1;let i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",m=>{if(!r)if(m.type==="pong"&&m.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;ou.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(h(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{let y=new Error("probe error");y.transport=n.name,this.emitReserved("upgradeError",y)}}))};function o(){r||(r=!0,h(),n.close(),n=null)}let s=m=>{let y=new Error("probe error: "+m);y.transport=n.name,o(),this.emitReserved("upgradeError",y)};function a(){s("transport closed")}function l(){s("socket closed")}function d(m){n&&m.name!==n.name&&o()}let h=()=>{n.removeListener("open",i),n.removeListener("error",s),n.removeListener("close",a),this.off("close",l),this.off("upgrading",d)};n.once("open",i),n.once("error",s),n.once("close",a),this.once("close",l),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){let n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}},Eo=class extends su{constructor(t,n={}){let r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>ch[i]).filter(i=>!!i)),super(t,r)}};var js=class extends Co{doPoll(){this._fetch().then(t=>{if(!t.ok)return this.onError("fetch read error",t.status,t);t.text().then(n=>this.onData(n))}).catch(t=>{this.onError("fetch read error",t)})}doWrite(t,n){this._fetch(t).then(r=>{if(!r.ok)return this.onError("fetch write error",r.status,r);n()}).catch(r=>{this.onError("fetch write error",r)})}_fetch(t){var n;let r=t!==void 0,i=new Headers(this.opts.extraHeaders);return r&&i.set("content-type","text/plain;charset=UTF-8"),(n=this.socket._cookieJar)===null||n===void 0||n.appendCookies(i),fetch(this.uri(),{method:r?"POST":"GET",body:r?t:null,headers:i,credentials:this.opts.withCredentials?"include":"omit"}).then(o=>{var s;return(s=this.socket._cookieJar)===null||s===void 0||s.parseCookies(o.headers.getSetCookie()),o})}};var $7=Eo.protocol;function fC(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=bo(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";let o=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+t,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}var vh={};zh(vh,{Decoder:()=>hh,Encoder:()=>ph,PacketType:()=>Ee,protocol:()=>gh});var aN=typeof ArrayBuffer=="function",lN=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,pC=Object.prototype.toString,cN=typeof Blob=="function"||typeof Blob<"u"&&pC.call(Blob)==="[object BlobConstructor]",uN=typeof File=="function"||typeof File<"u"&&pC.call(File)==="[object FileConstructor]";function $s(e){return aN&&(e instanceof ArrayBuffer||lN(e))||cN&&e instanceof Blob||uN&&e instanceof File}function Bs(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(Bs(e[n]))return!0;return!1}if($s(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Bs(e.toJSON(),!0);for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Bs(e[n]))return!0;return!1}function hC(e){let t=[],n=e.data,r=e;return r.data=dh(n,t),r.attachments=t.length,{packet:r,buffers:t}}function dh(e,t){if(!e)return e;if($s(e)){let n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){let n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=dh(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){let n={};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=dh(e[r],t));return n}return e}function mC(e,t){return e.data=fh(e.data,t),delete e.attachments,e}function fh(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=fh(e[n],t);else if(typeof e=="object")for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=fh(e[n],t));return e}var dN=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],gh=5,Ee=function(e){return e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK",e}(Ee||{}),ph=class{constructor(t){this.replacer=t}encode(t){return(t.type===Ee.EVENT||t.type===Ee.ACK)&&Bs(t)?this.encodeAsBinary({type:t.type===Ee.EVENT?Ee.BINARY_EVENT:Ee.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===Ee.BINARY_EVENT||t.type===Ee.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){let n=hC(t),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}};function gC(e){return Object.prototype.toString.call(e)==="[object Object]"}var hh=class e extends $e{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);let r=n.type===Ee.BINARY_EVENT;r||n.type===Ee.BINARY_ACK?(n.type=r?Ee.EVENT:Ee.ACK,this.reconstructor=new mh(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if($s(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0,r={type:Number(t.charAt(0))};if(Ee[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Ee.BINARY_EVENT||r.type===Ee.BINARY_ACK){let o=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);let s=t.substring(o,n);if(s!=Number(s)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(s)}if(t.charAt(n+1)==="/"){let o=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(o,n)}else r.nsp="/";let i=t.charAt(n+1);if(i!==""&&Number(i)==i){let o=n+1;for(;++n;){let s=t.charAt(n);if(s==null||Number(s)!=s){--n;break}if(n===t.length)break}r.id=Number(t.substring(o,n+1))}if(t.charAt(++n)){let o=this.tryParse(t.substr(n));if(e.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case Ee.CONNECT:return gC(n);case Ee.DISCONNECT:return n===void 0;case Ee.CONNECT_ERROR:return typeof n=="string"||gC(n);case Ee.EVENT:case Ee.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&dN.indexOf(n[0])===-1);case Ee.ACK:case Ee.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},mh=class{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){let n=mC(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function tn(e,t,n){return e.on(t,n),function(){e.off(t,n)}}var fN=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),gi=class extends $e{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let t=this.io;this.subs=[tn(t,"open",this.onopen.bind(this)),tn(t,"packet",this.onpacket.bind(this)),tn(t,"error",this.onerror.bind(this)),tn(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,i,o;if(fN.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;let s={type:Ee.EVENT,data:n};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){let h=this.ids++,m=n.pop();this._registerAckCallback(h,m),s.id=h}let a=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,l=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!a||(l?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(t,n){var r;let i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[t]=n;return}let o=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===t&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},i),s=(...a)=>{this.io.clearTimeoutFn(o),n.apply(this,a)};s.withError=!0,this.acks[t]=s}emitWithAck(t,...n){return new Promise((r,i)=>{let o=(s,a)=>s?i(s):r(a);o.withError=!0,n.push(o),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());let r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...o)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...o)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;let n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Ee.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){let r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Ee.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ee.EVENT:case Ee.BINARY_EVENT:this.onevent(t);break;case Ee.ACK:case Ee.BINARY_ACK:this.onack(t);break;case Ee.DISCONNECT:this.ondisconnect();break;case Ee.CONNECT_ERROR:this.destroy();let r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){let n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){let n=this._anyListeners.slice();for(let r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){let n=this,r=!1;return function(...i){r||(r=!0,n.packet({type:Ee.ACK,id:t,data:i}))}}onack(t){let n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ee.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){let n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){let n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let n=this._anyOutgoingListeners.slice();for(let r of n)r.apply(this,t.data)}}};function vi(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}vi.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};vi.prototype.reset=function(){this.attempts=0};vi.prototype.setMin=function(e){this.ms=e};vi.prototype.setMax=function(e){this.max=e};vi.prototype.setJitter=function(e){this.jitter=e};var yi=class extends $e{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,cr(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new vi({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;let i=n.parser||vh;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Eo(this.uri,this.opts);let n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;let i=tn(n,"open",function(){r.onopen(),t&&t()}),o=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),t?t(a):this.maybeReconnectOnOpen()},s=tn(n,"error",o);if(this._timeout!==!1){let a=this._timeout,l=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),n.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(i),this.subs.push(s),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let t=this.engine;this.subs.push(tn(t,"ping",this.onping.bind(this)),tn(t,"data",this.ondata.bind(this)),tn(t,"error",this.onerror.bind(this)),tn(t,"close",this.onclose.bind(this)),tn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){lr(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new gi(this,t,n),this.nsps[t]=r),r}_destroy(t){let n=Object.keys(this.nsps);for(let r of n)if(this.nsps[r].active)return;this._close()}_packet(t){let n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let n=this.backoff.duration();this._reconnecting=!0;let r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){let t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}};var Hs={};function _i(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};let n=fC(e,t.path||"/socket.io"),r=n.source,i=n.id,o=n.path,s=Hs[i]&&o in Hs[i].nsps,a=t.forceNew||t["force new connection"]||t.multiplex===!1||s,l;return a?l=new yi(r,t):(Hs[i]||(Hs[i]=new yi(r,t)),l=Hs[i]),n.query&&!t.query&&(t.query=n.queryKey),l.socket(n.path,t)}Object.assign(_i,{Manager:yi,Socket:gi,io:_i,connect:_i});var wo=class e{config;subscribersCounter={};eventObservables$={};namespaces={};ioSocket;emptyConfig={url:"",options:{}};constructor(t){this.config=t,t===void 0&&(t=this.emptyConfig);let n=t.url,r=t.options,i=_i?_i:yh;this.ioSocket=i(n,r)}of(t){if(!t||t==="/")return this;let n=this.namespaces[t];if(n)return n;let a=this.config,{url:r}=a,i=kt(a,["url"]),o=O({url:!r.endsWith("/")&&!t.startsWith("/")?`${r}/${t}`:`${r}${t}`},i),s=new e(o);return this.namespaces[t]=s,s}on(t,n){return this.ioSocket.on(t,n),this}once(t,n){return this.ioSocket.once(t,n),this}connect(){return this.ioSocket.connect(),this}disconnect(){return this.ioSocket.disconnect(),this}emit(t,...n){return this.ioSocket.emit.apply(this.ioSocket,arguments),this}send(...t){return this.ioSocket.send.apply(this.ioSocket,arguments),this}emitWithAck(t,...n){return this.ioSocket.emitWithAck.apply(this.ioSocket,arguments)}removeListener(t,n){return this.ioSocket.removeListener.apply(this.ioSocket,arguments),this}removeAllListeners(t){return this.ioSocket.removeAllListeners.apply(this.ioSocket,arguments),this}fromEvent(t){return this.subscribersCounter[t]||(this.subscribersCounter[t]=0),this.subscribersCounter[t]++,this.eventObservables$[t]||(this.eventObservables$[t]=new _e(n=>{let r=i=>{n.next(i)};return this.ioSocket.on(t,r),()=>{this.subscribersCounter[t]--,this.subscribersCounter[t]===0&&(this.ioSocket.removeListener(t,r),delete this.eventObservables$[t])}}).pipe(zu())),this.eventObservables$[t]}fromOneTimeEvent(t){return new Promise(n=>this.once(t,n))}listeners(t){return this.ioSocket.listeners(t)}listenersAny(){return this.ioSocket.listenersAny()}listenersAnyOutgoing(){return this.ioSocket.listenersAnyOutgoing()}off(t,n){return t?t&&!n?(this.ioSocket.off(t),this):(this.ioSocket.off(t,n),this):(this.ioSocket.offAny(),this)}offAny(t){return this.ioSocket.offAny(t),this}offAnyOutgoing(t){return this.ioSocket.offAnyOutgoing(t),this}onAny(t){return this.ioSocket.onAny(t),this}onAnyOutgoing(t){return this.ioSocket.onAnyOutgoing(t),this}prependAny(t){return this.ioSocket.prependAny(t),this}prependAnyOutgoing(t){return this.ioSocket.prependAnyOutgoing(t),this}timeout(t){return this.ioSocket.timeout(t),this}get volatile(){let t=this.ioSocket.volatile;return this}get active(){return this.ioSocket.active}get connected(){return this.ioSocket.connected}get disconnected(){return this.ioSocket.disconnected}get recovered(){return this.ioSocket.recovered}get id(){return this.ioSocket.id}compress(t){return this.ioSocket.compress(t),this}};function pN(e){return new wo(e)}var vC=new Y("__SOCKET_IO_CONFIG__"),yC=(()=>{class e{static forRoot(n){return{ngModule:e,providers:[{provide:vC,useValue:n},{provide:wo,useFactory:pN,deps:[vC]}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=qn({type:e});static \u0275inj=Gn({})}return e})();var So=class e{socket=b(wo);http=b(wn);baseUrl=tt.apiChatUrl;constructor(){this.socket.on("connect",()=>{console.log("Socket connected to backend")}),this.socket.on("disconnect",()=>{console.log("Socket disconnected")}),this.socket.on("connect_error",t=>{console.error("Socket connection error:",t)})}getChatsByUser(t){return this.http.get(`${this.baseUrl}${t}`,{observe:"response"})}getImgUrlFromCloudinary(t){return this.http.post(`${this.baseUrl}upload`,t,{observe:"response"})}getAudioUrlFromCloudinary(t){return this.http.post(`${this.baseUrl}audioUpload`,t,{observe:"response"})}startChat(t,n){this.socket.emit("startChat",{userName:t,userId:n})}activeUsers(){this.socket.emit("getActiveUsers")}joinRoom(t){this.socket.emit("joinChat",{userId:t})}adminSendMessage(t,n){console.log("chat data from admin component",n),this.socket.emit("adminSentMessage",{userId:t,data:n})}sendMessage(t){console.log("chat data from user component",t),this.socket.emit("sendMessage",t)}typing(t,n){this.socket.emit("typing",{userName:t,userId:n})}leaveRoom(t,n){this.socket.emit("leaveChat",{userName:t,userId:n})}getMessage(){return this.socket.fromEvent("receivedMessage")}getUserMessage(){return this.socket.fromEvent("receiveUserMessage")}getStartChatNotificatrion(){return this.socket.fromEvent("startChatNotification")}getJoiningNotificatrion(){return this.socket.fromEvent("joiningNotification")}getTypingNotificatrion(){return this.socket.fromEvent("typingNotification")}getLeavingNotificatrion(){return this.socket.fromEvent("leavingNotification")}getActiveUsers(){return this.socket.fromEvent("updatedActiveUsers")}static \u0275fac=function(n){return new(n||e)};static \u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})};var hN=["fileInput"];function mN(e,t){if(e&1&&(c(0,"p",9),p(1),u()),e&2){let n=t.$implicit;f(),N(n)}}function gN(e,t){if(e&1){let n=U();C(0,"hr"),c(1,"p",20)(2,"a",21),E("click",function(){S(n);let i=v();return D(i.togglePrevChats())}),p(3),u()(),C(4,"hr")}if(e&2){let n=v();f(3),N(n.oldChats?"Hide previous chats":"Load previous chats")}}function vN(e,t){if(e&1&&C(0,"img",26),e&2){let n=v(3).$implicit;g("src",n.message,X)}}function yN(e,t){if(e&1&&(c(0,"video",27),C(1,"source",31),u()),e&2){let n=v(3).$implicit;f(),g("src",n.message,X)}}function _N(e,t){if(e&1&&(c(0,"audio",27),C(1,"source",32),u()),e&2){let n=v(3).$implicit;f(),g("src",n.message,X)}}function CN(e,t){if(e&1&&p(0),e&2){let n=v(3).$implicit;$(" ",n.message," ")}}function bN(e,t){if(e&1&&(c(0,"a",28),p(1),u()),e&2){let n=v(3).$implicit;Qt("download",n.type),g("href",n.message,X),f(),$(" \u{1F4C4} ",n.type||"Download File"," ")}}function EN(e,t){e&1&&(c(0,"p"),p(1,"Unsupported file type"),u())}function wN(e,t){if(e&1&&(c(0,"div")(1,"small",24),p(2),Ke(3,"date"),u()(),c(4,"div",25),k(5,vN,1,1,"img",26)(6,yN,2,1,"video",27)(7,_N,2,1,"audio",27)(8,CN,1,1)(9,bN,2,3,"a",28)(10,EN,2,0,"p"),c(11,"div",29)(12,"small",30),p(13),Ke(14,"date"),u()()()),e&2){let n=v(2).$implicit;f(2),N(Je(3,3,n.date,"longDate")),f(3),T(n.type==="image"?5:n.type==="video"?6:n.type==="audio"?7:n.type==="text"?8:n.type==="raw"?9:10),f(8),N(Je(14,6,n.date,"shortTime"))}}function SN(e,t){if(e&1&&(c(0,"div",22)(1,"div",23),k(2,wN,15,9),u()()),e&2){let n=v().$implicit;f(2),T(n.message!==""?2:-1)}}function DN(e,t){if(e&1&&C(0,"img",26),e&2){let n=v(3).$implicit;g("src",n.message,X)}}function xN(e,t){if(e&1&&(c(0,"video",27),C(1,"source",31),u()),e&2){let n=v(3).$implicit;f(),g("src",n.message,X)}}function IN(e,t){if(e&1&&(c(0,"audio",27),C(1,"source",32),u()),e&2){let n=v(3).$implicit;f(),g("src",n.message,X)}}function TN(e,t){if(e&1&&p(0),e&2){let n=v(3).$implicit;$(" ",n.message," ")}}function FN(e,t){if(e&1&&(c(0,"a",28),p(1),u()),e&2){let n=v(3).$implicit;Qt("download",n.type),g("href",n.message,X),f(),$(" \u{1F4C4} ",n.type||"Download File"," ")}}function AN(e,t){e&1&&(c(0,"p"),p(1,"Unsupported file type"),u())}function MN(e,t){if(e&1&&(c(0,"div")(1,"small",34),p(2),Ke(3,"date"),u()(),c(4,"div",35),k(5,DN,1,1,"img",26)(6,xN,2,1,"video",27)(7,IN,2,1,"audio",27)(8,TN,1,1)(9,FN,2,3,"a",28)(10,AN,2,0,"p"),c(11,"div",36)(12,"small",30),p(13),Ke(14,"date"),u()()()),e&2){let n=v(2).$implicit;f(2),$(" ",Je(3,3,n.date,"longDate"),""),f(3),T(n.type==="image"?5:n.type==="video"?6:n.type==="audio"?7:n.type==="text"?8:n.type==="raw"?9:10),f(8),N(Je(14,6,n.date,"shortTime"))}}function kN(e,t){if(e&1&&(c(0,"div",22)(1,"div",33),k(2,MN,15,9),u()()),e&2){let n=v().$implicit;f(2),T(n.message!==""?2:-1)}}function NN(e,t){if(e&1&&k(0,SN,3,1,"div",22)(1,kN,3,1,"div",22),e&2){let n=t.$implicit,r=v(2);T(n.sender===r.userName?0:-1),f(),T(n.sender!==r.userName?1:-1)}}function ON(e,t){if(e&1&&G(0,NN,2,2,null,null,z),e&2){let n=v();q(n.messages)}}function RN(e,t){if(e&1&&C(0,"img",26),e&2){let n=v(3).$implicit;g("src",n.chats.message,X)}}function PN(e,t){if(e&1&&(c(0,"video",27),C(1,"source",31),u()),e&2){let n=v(3).$implicit;f(),g("src",n.chats.message,X)}}function LN(e,t){if(e&1&&(c(0,"audio",27),C(1,"source",32),u()),e&2){let n=v(3).$implicit;f(),g("src",n.chats.message,X)}}function VN(e,t){if(e&1&&p(0),e&2){let n=v(3).$implicit;$(" ",n.chats.message," ")}}function UN(e,t){if(e&1&&(c(0,"a",28),p(1),u()),e&2){let n=v(3).$implicit;Qt("download",n.type),g("href",n.message,X),f(),$(" \u{1F4C4} ",n.type||"Download File"," ")}}function jN(e,t){e&1&&(c(0,"p"),p(1,"Unsupported file type"),u())}function BN(e,t){if(e&1&&(c(0,"div")(1,"small",24),p(2),Ke(3,"date"),u()(),c(4,"div",38),k(5,RN,1,1,"img",26)(6,PN,2,1,"video",27)(7,LN,2,1,"audio",27)(8,VN,1,1)(9,UN,2,3,"a",28)(10,jN,2,0,"p"),c(11,"div",29)(12,"small",30),p(13),Ke(14,"date"),u()()()),e&2){let n=v(2).$implicit;f(2),N(Je(3,3,n.chats.date,"longDate")),f(3),T(n.chats.type==="image"?5:n.chats.type==="video"?6:n.chats.type==="audio"?7:n.chats.type==="text"?8:n.type==="raw"?9:10),f(8),N(Je(14,6,n.chats.date,"shortTime"))}}function $N(e,t){if(e&1&&(c(0,"div",22)(1,"div",37),k(2,BN,15,9),u()()),e&2){let n=v().$implicit;f(2),T(n.chats.message!==""?2:-1)}}function HN(e,t){if(e&1&&C(0,"img",26),e&2){let n=v(3).$implicit;g("src",n.chats.message,X)}}function zN(e,t){if(e&1&&(c(0,"video",27),C(1,"source",31),u()),e&2){let n=v(3).$implicit;f(),g("src",n.chats.message,X)}}function GN(e,t){if(e&1&&(c(0,"audio",27),C(1,"source",32),u()),e&2){let n=v(3).$implicit;f(),g("src",n.chats.message,X)}}function qN(e,t){if(e&1&&p(0),e&2){let n=v(3).$implicit;$(" ",n.chats.message," ")}}function WN(e,t){if(e&1&&(c(0,"a",28),p(1),u()),e&2){let n=v(3).$implicit;Qt("download",n.type),g("href",n.message,X),f(),$(" \u{1F4C4} ",n.type||"Download File"," ")}}function ZN(e,t){e&1&&(c(0,"p"),p(1,"Unsupported file type"),u())}function QN(e,t){if(e&1&&(c(0,"div")(1,"small",34),p(2),Ke(3,"date"),u()(),c(4,"div",35),k(5,HN,1,1,"img",26)(6,zN,2,1,"video",27)(7,GN,2,1,"audio",27)(8,qN,1,1)(9,WN,2,3,"a",28)(10,ZN,2,0,"p"),c(11,"div",36)(12,"small",30),p(13),Ke(14,"date"),u()()()),e&2){let n=v(2).$implicit;f(2),N(Je(3,3,n.chats.date,"longDate")),f(3),T(n.chats.type==="image"?5:n.chats.type==="video"?6:n.chats.type==="audio"?7:n.chats.type==="text"?8:n.type==="raw"?9:10),f(8),N(Je(14,6,n.chats.date,"shortTime"))}}function YN(e,t){if(e&1&&(c(0,"div",22)(1,"div",33),k(2,QN,15,9),u()()),e&2){let n=v().$implicit;f(2),T(n.chats.message!==""?2:-1)}}function KN(e,t){if(e&1&&k(0,$N,3,1,"div",22)(1,YN,3,1,"div",22),e&2){let n=t.$implicit,r=v(2);T(n.chats.sender===r.userName?0:-1),f(),T(n.chats.sender!==r.userName?1:-1)}}function JN(e,t){if(e&1&&G(0,KN,2,2,null,null,z),e&2){let n=v();q(n.newChats)}}function XN(e,t){if(e&1){let n=U();c(0,"button",14),E("click",function(){S(n);let i=v();return D(i.startRecording())}),p(1," \u{1F3A4} "),u()}}function eO(e,t){if(e&1){let n=U();c(0,"span",39),p(1,"\u{1F534} Recording..."),u(),c(2,"button",14),E("click",function(){S(n);let i=v();return D(i.stopRecording())}),p(3," \u23F9\uFE0F "),u()}}function tO(e,t){if(e&1){let n=U();c(0,"div")(1,"emoji-picker",40),E("emoji-click",function(i){S(n);let o=v();return D(o.addEmoji(i))}),u()()}}var au=class e{fileInput;destroy$=new V;chatService=b(So);alertService=b(ae);chatFormObj=new yo;searchFilterFormObj=new _o;chatForm=new Z({});searchFilterForm=new Z({});searchParams=new Ie;chats=ge([]);userService=b(se);notification=[];messages=[];newChats=[];typing="";roomId="";userName="";userId="";oldChats=!1;isLeftChat=!1;showEmojiPicker=!1;recording=!1;mediaRecorder;recordedChunks=[];ngOnInit(){this.initialiseChatForm(),this.userService.loggedUser$.pipe(F(this.destroy$)).subscribe(t=>{t&&(console.log(t),this.userName=t.user,this.userId=t.id,this.chatForm.get("userId")?.setValue(t.id),t.role!=="admin"?this.chatForm.get("chats")?.patchValue({sender:t.user,receiver:"Admin"}):this.chatForm.get("chats")?.patchValue({sender:t.user}))}),this.startChat(),this.getMessage(),this.getAllChats(),this.getJoiningNotification(),this.getLeavingNotification,this.getTypingNotification()}initialiseChatForm(){this.chatForm=new Z({userId:new w(this.chatFormObj.userId,[A.required]),roomId:new w(this.chatFormObj.roomId,[A.required]),chats:new Z({sender:new w(this.chatFormObj.chats.sender,[A.required]),receiver:new w(this.chatFormObj.chats.receiver,[A.required]),message:new w(this.chatFormObj.chats.message,[A.required]),type:new w(this.chatFormObj.chats.type,[A.required]),date:new w(new Date)})})}initialiseSearchFilterForm(){this.searchFilterForm=new Z({userName:new w(this.searchFilterFormObj.userName),pageNumber:new w(this.searchFilterFormObj.pageNumber),pageSize:new w(this.searchFilterFormObj.pageSize),sortBy:new w(this.searchFilterFormObj.sortBy),sortOrder:new w(this.searchFilterFormObj.sortOrder)})}getAllChats(){this.chatService.getChatsByUser(this.userId).pipe(F(this.destroy$)).subscribe({next:t=>{if(t.status===200){console.log("user chats from db:",t.body.data);let n=t.body.data;this.messages=[];for(let r of n.chats)this.messages.push(r);console.log("user messages array:",this.messages)}else console.log(t.body?.message),this.alertService.getAlert("alert alert-danger","Failed",t.body?.message?t.body?.message:"")},error:t=>{console.log("error from getMessage:",t.message)}})}togglePrevChats(){this.oldChats=!this.oldChats,this.getAllChats()}startChat(){this.oldChats=!1,this.isLeftChat=!1,this.chatService.startChat(this.userName,this.userId)}sendMessage(){this.chatForm.get("chats.type")?.setValue("text"),this.chatForm.get("chats.date")?.setValue(new Date),console.log(this.chatForm.value),this.chatService.sendMessage(this.chatForm.value),this.chatForm.get("chats.message")?.setValue(""),this.typing=""}startedTyping(){this.chatService.typing(this.userName,this.userId)}leaveChat(){this.isLeftChat=!0,this.chatService.leaveRoom(this.userName,this.userId)}getMessage(){this.chatService.getMessage().pipe(F(this.destroy$)).subscribe({next:t=>{console.log("sent message from server:",t),this.messages.push(t.chats),this.newChats.push(t),console.log("user messages array:",this.messages)},error:t=>{console.log("error from getMessage:",t.message)}})}getTypingNotification(){this.chatService.getTypingNotificatrion().pipe(F(this.destroy$)).subscribe({next:t=>{console.log("TypingNotificatrion from server:",t),this.typing=t},error:t=>{console.log("error from getMessage:",t.message)}})}getJoiningNotification(){this.chatService.getJoiningNotificatrion().pipe(F(this.destroy$)).subscribe({next:t=>{console.log("JoiningNotificatrion from server:",t),this.notification.push(t.message)},error:t=>{console.log("error from getMessage:",t.message)}})}getStartChatNotification(){this.chatService.getStartChatNotificatrion().pipe(F(this.destroy$)).subscribe({next:t=>{console.log("start chat notificatrion from server:",t),this.roomId=t.roomId,console.log("user room id from start chat notificatrion: ",this.roomId),this.chatForm.patchValue({roomId:this.roomId}),this.notification.push(t.message)},error:t=>{console.log("error from getMessage:",t.message)}})}getLeavingNotification(){this.chatService.getLeavingNotificatrion().pipe(F(this.destroy$)).subscribe({next:t=>{console.log("LeavingNotificatrion from server:",t),this.notification.push(t)},error:t=>{console.log("error from getMessage:",t.message)}})}toggleEmojiPicker(){this.showEmojiPicker=!this.showEmojiPicker}triggerFileInput(){this.fileInput.nativeElement.click()}handleFileUpload(t){let n=t.target;if(n.files&&n.files.length>0){console.log("File(s) selected:",n,n.files[0]);let r=new FormData,i=n.files[0];r.append("img",i),this.chatService.getImgUrlFromCloudinary(r).pipe(F(this.destroy$)).subscribe({next:o=>{o.status===200?(console.log(o.body?.data),this.chatForm.get("chats.message")?.setValue(o.body?.data.imgUrl),this.chatForm.get("chats.type")?.setValue(o.body?.data.type),this.chatService.sendMessage(this.chatForm.value),console.log(this.chatForm.value),this.chatForm.get("chats.message")?.setValue("")):(console.log(o.body?.message),this.alertService.getAlert("alert alert-danger","Failed",o.body?.message?o.body?.message:""))},error:o=>{console.log(o,o.error.message)}})}}startRecording(){if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){console.log("Your browser does not support audio recording.");return}navigator.mediaDevices.getUserMedia({audio:!0}).then(t=>{this.mediaRecorder=new MediaRecorder(t),this.recording=!0,this.recordedChunks=[],this.mediaRecorder.ondataavailable=n=>{n.data.size>0&&this.recordedChunks.push(n.data)},this.mediaRecorder.onstop=()=>{this.recording=!1;let n=new Blob(this.recordedChunks,{type:"audio/ogg"});console.log("audioBlob: ",n);let r=new FormData;r.append("audio",n),this.chatService.getAudioUrlFromCloudinary(r).pipe(F(this.destroy$)).subscribe({next:i=>{i.status===200?(console.log(i.body?.data),this.chatForm.get("chats.message")?.setValue(i.body?.data.imgUrl),this.chatForm.get("chats.type")?.setValue(i.body?.data.type),this.chatService.sendMessage(this.chatForm.value),console.log(this.chatForm.value),this.chatForm.get("chats.message")?.setValue("")):(console.log(i.body?.message),this.alertService.getAlert("alert alert-danger","Failed",i.body?.message?i.body?.message:""))},error:i=>{console.log(i,i.error.message)}})},this.mediaRecorder.start()})}stopRecording(){this.mediaRecorder&&this.mediaRecorder.stop()}addEmoji(t){console.log("emoji click event: ",t,t.detail.unicode);let n=this.chatForm.get("chats.message"),r=n?.value||"";n?.setValue(`${r}${t.detail.unicode}`),console.log(n?.value)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=H({type:e,selectors:[["app-user-chat"]],viewQuery:function(n,r){if(n&1&&st(hN,5),n&2){let i;Qe(i=Ye())&&(r.fileInput=i.first)}},standalone:!0,features:[W],decls:36,vars:8,consts:[["fileInput",""],[1,"container-fluid"],[1,"row"],[1,"col-md-10"],[1,"chat-container"],[1,"chat-header"],["src","","alt","",1,"avatar"],[1,"username"],[1,"chat-body"],[1,"text-info","text-center"],[1,"chat-footer"],[3,"formGroup"],[1,"row","align-items-center"],[1,"col-auto"],["type","button",1,"btn","btn-light","btn-sm",3,"click"],["type","file","id","fileInput","hidden","",3,"change"],["type","button",1,"btn","btn-light","btn-sm"],["formGroupName","chats",1,"col"],["type","text","placeholder","Type a message","formControlName","message",1,"form-control",3,"input"],["type","submit",1,"btn","btn-primary","btn-sm","px-3","rounded-pill",3,"click"],[1,"text-center"],[1,"link-underline-opacity-0","text-info",3,"click"],[1,"row","pt-2"],[1,"col-md-6","offset-md-6","position-relative"],[1,"col-12","d-block","text-end","text-muted",2,"font-size","0.75em"],[1,"alert","alert-success","d-inline-block","float-end"],["alt","",1,"img-fluid",3,"src"],["controls",""],["target","_blank",1,"btn","btn-link",3,"href","download"],[1,"position-absolute","bottom-0","end-0"],[1,"float-end","text-muted","p-1",2,"font-size","0.55em"],["type","video/mp4",3,"src"],["type","audio/ogg",3,"src"],[1,"col-md-6"],[1,"col-12","d-block","text-start","text-muted",2,"font-size","0.75em"],["role","alert",1,"alert","alert-primary","d-inline-block"],[1,"position-absolute","bottom-0","start-0"],[1,"col-md-6","offset-md-6"],["role","alert",1,"alert","alert-success","d-inline-block","float-end"],[1,"recording-indicator"],[3,"emoji-click"]],template:function(n,r){if(n&1){let i=U();c(0,"div",1)(1,"div"),C(2,"app-alert"),u(),c(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5),C(7,"img",6),c(8,"p",7),p(9),u()(),c(10,"div",8),G(11,mN,2,1,"p",9,z),k(13,gN,5,1)(14,ON,2,0)(15,JN,2,0),u(),c(16,"div",10)(17,"form",11)(18,"div",12)(19,"div",13)(20,"button",14),E("click",function(){return S(i),D(r.toggleEmojiPicker())}),p(21," \u{1F60A} "),u()(),c(22,"div",13)(23,"input",15,0),E("change",function(s){return S(i),D(r.handleFileUpload(s))}),u(),c(25,"button",14),E("click",function(){return S(i),D(r.triggerFileInput())}),p(26," \u{1F4CE} "),u()(),c(27,"div",13),k(28,XN,2,0,"button",16)(29,eO,4,0),u(),c(30,"div",17)(31,"input",18),E("input",function(){return S(i),D(r.startedTyping())}),u()(),c(32,"div",13)(33,"button",19),E("click",function(){return S(i),D(r.sendMessage())}),p(34," Send "),u()()()(),k(35,tO,2,0,"div"),u()()()()()}n&2&&(f(9),N(r.userName),f(2),q(r.notification),f(2),T(r.messages.length>0?13:-1),f(),T(r.oldChats?14:-1),f(),T(r.oldChats?-1:15),f(2),g("formGroup",r.chatForm),f(11),T(r.recording?-1:28),f(),T(r.recording?29:-1),f(6),T(r.showEmojiPicker?35:-1))},dependencies:[ke,nt,Ae,je,Be,Me,Le,pn,Mr,Ne],styles:["#header[_ngcontent-%COMP%]{height:50px}#chatArea[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;height:calc(100vh - 120px)}#submit[_ngcontent-%COMP%]{height:70px}body[_ngcontent-%COMP%]{background-color:#e5e5e5}.container-fluid[_ngcontent-%COMP%]{padding:50px 200px;overflow:hidden}.user-list-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;box-shadow:0 10px 30px #0000000d;height:calc(100vh - 100px);padding:10px}.user-card[_ngcontent-%COMP%]{display:flex;padding:10px;cursor:pointer}.user-card.active[_ngcontent-%COMP%]{background-color:#ededed}.user-card[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{height:50px;width:50px;border-radius:50%;overflow:hidden;margin:0 15px 0 0}.user-card[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{font-size:20px;font-weight:500;display:flex;justify-content:center;align-items:center}.user-card[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #bbbbbb}.chat-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;box-shadow:0 10px 30px #0000000d;height:calc(100vh - 100px);position:relative;overflow:hidden}.chat-container[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]{height:70px;background-color:#ededed;display:flex;justify-content:flex-start;align-items:center}.chat-container[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{height:30px;width:30px;border-radius:50%;overflow:hidden;margin:0 20px}.chat-container[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{font-size:14px;font-weight:500;display:flex;justify-content:center;align-items:center}.chat-container[_ngcontent-%COMP%]   .chat-body[_ngcontent-%COMP%]{background-image:url(https://png.pngtree.com/background/20210710/original/pngtree-vector-banner-or-flyer-template-with-white-background-picture-image_984649.jpg);background-repeat:no-repeat;background-size:cover;height:calc(100vh - 125px);padding:30px 30px 100px;overflow-y:auto;display:flex;flex-direction:column;justify-content:flex-start}.chat-container[_ngcontent-%COMP%]   .chat-body[_ngcontent-%COMP%]   .message-container[_ngcontent-%COMP%]{background-color:#fff;padding:7px;border-radius:5px;width:fit-content;max-width:90%;margin-bottom:15px}.chat-container[_ngcontent-%COMP%]   .chat-body[_ngcontent-%COMP%]   .same-user[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.chat-container[_ngcontent-%COMP%]   .chat-body[_ngcontent-%COMP%]   .same-user[_ngcontent-%COMP%]   .message-container[_ngcontent-%COMP%]{background-color:#87cefa}.chat-container[_ngcontent-%COMP%]   .chat-footer[_ngcontent-%COMP%]{position:sticky;bottom:0;left:0;right:0;background-color:#ededed;padding:10px 20px}.chat-container[_ngcontent-%COMP%]   .chat-footer[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #D8DDEC;border-radius:20px;font-size:1rem;color:#000}emoji-picker[_ngcontent-%COMP%]{width:100%}"]})};var nO=["fileInput"];function rO(e,t){if(e&1){let n=U();c(0,"div",5),C(1,"img",9),c(2,"p",10),E("click",function(){let i=S(n).$implicit,o=v();return D(o.joinChat(i.userId))}),p(3),u()()}if(e&2){let n=t.$implicit;f(3),N(n.userName)}}function iO(e,t){if(e&1&&(c(0,"p",14),p(1),u()),e&2){let n=t.$implicit;f(),N(n)}}function oO(e,t){if(e&1){let n=U();C(0,"hr"),c(1,"p",25)(2,"a",26),E("click",function(){S(n);let i=v(2);return D(i.togglePrevChats())}),p(3),u()(),C(4,"hr")}if(e&2){let n=v(2);f(3),N(n.oldChats?"Hide previous chats":"Load previous chats")}}function sO(e,t){if(e&1&&C(0,"img",31),e&2){let n=v(3).$implicit;g("src",n.message,X)}}function aO(e,t){if(e&1&&(c(0,"video",32),C(1,"source",36),u()),e&2){let n=v(3).$implicit;f(),g("src",n.message,X)}}function lO(e,t){if(e&1&&(c(0,"audio",32),C(1,"source",37),u()),e&2){let n=v(3).$implicit;f(),g("src",n.message,X)}}function cO(e,t){if(e&1&&p(0),e&2){let n=v(3).$implicit;$(" ",n.message," ")}}function uO(e,t){if(e&1&&(c(0,"a",33),p(1),u()),e&2){let n=v(3).$implicit;Qt("download",n.type),g("href",n.message,X),f(),$(" \u{1F4C4} ",n.type||"Download File"," ")}}function dO(e,t){e&1&&(c(0,"p"),p(1,"Unsupported file type"),u())}function fO(e,t){if(e&1&&(c(0,"div")(1,"small",29),p(2),Ke(3,"date"),u()(),c(4,"div",30),k(5,sO,1,1,"img",31)(6,aO,2,1,"video",32)(7,lO,2,1,"audio",32)(8,cO,1,1)(9,uO,2,3,"a",33)(10,dO,2,0,"p"),c(11,"div",34)(12,"small",35),p(13),Ke(14,"date"),u()()()),e&2){let n=v(2).$implicit;f(2),N(Je(3,3,n.date,"longDate")),f(3),T(n.type==="image"?5:n.type==="video"?6:n.type==="audio"?7:n.type==="text"?8:n.type==="raw"?9:10),f(8),N(Je(14,6,n.date,"shortTime"))}}function pO(e,t){if(e&1&&(c(0,"div",27)(1,"div",28),k(2,fO,15,9),u()()),e&2){let n=v().$implicit;f(2),T(n.message!==""?2:-1)}}function hO(e,t){if(e&1&&C(0,"img",31),e&2){let n=v(3).$implicit;g("src",n.message,X)}}function mO(e,t){if(e&1&&(c(0,"video",32),C(1,"source",36),u()),e&2){let n=v(3).$implicit;f(),g("src",n.message,X)}}function gO(e,t){if(e&1&&(c(0,"audio",32),C(1,"source",37),u()),e&2){let n=v(3).$implicit;f(),g("src",n.message,X)}}function vO(e,t){if(e&1&&p(0),e&2){let n=v(3).$implicit;$(" ",n.message," ")}}function yO(e,t){if(e&1&&(c(0,"a",33),p(1),u()),e&2){let n=v(3).$implicit;Qt("download",n.type),g("href",n.message,X),f(),$(" \u{1F4C4} ",n.type||"Download File"," ")}}function _O(e,t){e&1&&(c(0,"p"),p(1,"Unsupported file type"),u())}function CO(e,t){if(e&1&&(c(0,"div")(1,"small",39),p(2),Ke(3,"date"),u()(),c(4,"div",40),k(5,hO,1,1,"img",31)(6,mO,2,1,"video",32)(7,gO,2,1,"audio",32)(8,vO,1,1)(9,yO,2,3,"a",33)(10,_O,2,0,"p"),c(11,"div",41)(12,"small",35),p(13),Ke(14,"date"),u()()()),e&2){let n=v(2).$implicit;f(2),N(Je(3,3,n.date,"longDate")),f(3),T(n.type==="image"?5:n.type==="video"?6:n.type==="audio"?7:n.type==="text"?8:n.type==="raw"?9:10),f(8),N(Je(14,6,n.date,"shortTime"))}}function bO(e,t){if(e&1&&(c(0,"div",27)(1,"div",38),k(2,CO,15,9),u()()),e&2){let n=v().$implicit;f(2),T(n.message!==""?2:-1)}}function EO(e,t){if(e&1&&k(0,pO,3,1,"div",27)(1,bO,3,1,"div",27),e&2){let n=t.$implicit,r=v(3);T(n.sender===r.userName?0:-1),f(),T(n.sender!==r.userName?1:-1)}}function wO(e,t){if(e&1&&G(0,EO,2,2,null,null,z),e&2){let n=v(2);q(n.messages)}}function SO(e,t){if(e&1&&C(0,"img",31),e&2){let n=v(3).$implicit;g("src",n.chats.message,X)}}function DO(e,t){if(e&1&&(c(0,"video",32),C(1,"source",36),u()),e&2){let n=v(3).$implicit;f(),g("src",n.chats.message,X)}}function xO(e,t){if(e&1&&(c(0,"audio",32),C(1,"source",37),u()),e&2){let n=v(3).$implicit;f(),g("src",n.chats.message,X)}}function IO(e,t){if(e&1&&p(0),e&2){let n=v(3).$implicit;$(" ",n.chats.message," ")}}function TO(e,t){if(e&1&&(c(0,"a",33),p(1),u()),e&2){let n=v(3).$implicit;Qt("download",n.type),g("href",n.message,X),f(),$(" \u{1F4C4} ",n.type||"Download File"," ")}}function FO(e,t){e&1&&(c(0,"p"),p(1,"Unsupported file type"),u())}function AO(e,t){if(e&1&&(c(0,"div")(1,"small",29),p(2),Ke(3,"date"),u()(),c(4,"div",30),k(5,SO,1,1,"img",31)(6,DO,2,1,"video",32)(7,xO,2,1,"audio",32)(8,IO,1,1)(9,TO,2,3,"a",33)(10,FO,2,0,"p"),c(11,"div",34)(12,"small",35),p(13),Ke(14,"date"),u()()()),e&2){let n=v(2).$implicit;f(2),N(Je(3,3,n.chats.date,"longDate")),f(3),T(n.chats.type==="image"?5:n.chats.type==="video"?6:n.chats.type==="audio"?7:n.chats.type==="text"?8:n.type==="raw"?9:10),f(8),N(Je(14,6,n.chats.date,"shortTime"))}}function MO(e,t){if(e&1&&(c(0,"div",27)(1,"div",28),k(2,AO,15,9),u()()),e&2){let n=v().$implicit;f(2),T(n.chats.message!==""?2:-1)}}function kO(e,t){if(e&1&&C(0,"img",31),e&2){let n=v(3).$implicit;g("src",n.chats.message,X)}}function NO(e,t){if(e&1&&(c(0,"video",32),C(1,"source",36),u()),e&2){let n=v(3).$implicit;f(),g("src",n.chats.message,X)}}function OO(e,t){if(e&1&&(c(0,"audio",32),C(1,"source",37),u()),e&2){let n=v(3).$implicit;f(),g("src",n.chats.message,X)}}function RO(e,t){if(e&1&&p(0),e&2){let n=v(3).$implicit;$(" ",n.chats.message," ")}}function PO(e,t){if(e&1&&(c(0,"a",33),p(1),u()),e&2){let n=v(3).$implicit;Qt("download",n.type),g("href",n.message,X),f(),$(" \u{1F4C4} ",n.type||"Download File"," ")}}function LO(e,t){e&1&&(c(0,"p"),p(1,"Unsupported file type"),u())}function VO(e,t){if(e&1&&(c(0,"div")(1,"small",39),p(2),Ke(3,"date"),u()(),c(4,"div",40),k(5,kO,1,1,"img",31)(6,NO,2,1,"video",32)(7,OO,2,1,"audio",32)(8,RO,1,1)(9,PO,2,3,"a",33)(10,LO,2,0,"p"),c(11,"div",41)(12,"small",35),p(13),Ke(14,"date"),u()()()),e&2){let n=v(2).$implicit;f(2),N(Je(3,3,n.chats.date,"longDate")),f(3),T(n.chats.type==="image"?5:n.chats.type==="video"?6:n.chats.type==="audio"?7:n.chats.type==="text"?8:n.type==="raw"?9:10),f(8),N(Je(14,6,n.chats.date,"shortTime"))}}function UO(e,t){if(e&1&&(c(0,"div",27)(1,"div",38),k(2,VO,15,9),u()()),e&2){let n=v().$implicit;f(2),T(n.chats.message!==""?2:-1)}}function jO(e,t){if(e&1&&k(0,MO,3,1,"div",27)(1,UO,3,1,"div",27),e&2){let n=t.$implicit,r=v(3);T(n.chats.sender===r.userName?0:-1),f(),T(n.chats.sender!==r.userName?1:-1)}}function BO(e,t){if(e&1&&G(0,jO,2,2,null,null,z),e&2){let n=v(2);q(n.newChats)}}function $O(e,t){if(e&1){let n=U();c(0,"button",19),E("click",function(){S(n);let i=v(2);return D(i.startRecording())}),p(1," \u{1F3A4} "),u()}}function HO(e,t){if(e&1){let n=U();c(0,"span",42),p(1,"\u{1F534} Recording..."),u(),c(2,"button",19),E("click",function(){S(n);let i=v(2);return D(i.stopRecording())}),p(3," \u23F9\uFE0F "),u()}}function zO(e,t){if(e&1){let n=U();c(0,"div")(1,"emoji-picker",43),E("emojiClick",function(i){S(n);let o=v(2);return D(o.addEmoji(i))}),u()()}}function GO(e,t){if(e&1){let n=U();c(0,"div",7)(1,"div",11),C(2,"img",9),c(3,"p",12),p(4),u()(),c(5,"div",13),G(6,iO,2,1,"p",14,z),k(8,oO,5,1)(9,wO,2,0)(10,BO,2,0),u(),c(11,"div",15)(12,"form",16)(13,"div",17)(14,"div",18)(15,"button",19),E("click",function(){S(n);let i=v();return D(i.toggleEmojiPicker())}),p(16," \u{1F60A} "),u()(),c(17,"div",18)(18,"input",20,0),E("change",function(i){S(n);let o=v();return D(o.handleFileUpload(i))}),u(),c(20,"button",19),E("click",function(){S(n);let i=v();return D(i.triggerFileInput())}),p(21," \u{1F4CE} "),u()(),c(22,"div",18),k(23,$O,2,0,"button",21)(24,HO,4,0),u(),c(25,"div",22)(26,"input",23),E("input",function(){S(n);let i=v();return D(i.startedTyping())}),u()(),c(27,"div",18)(28,"button",24),E("click",function(){S(n);let i=v();return D(i.sendMessage())}),p(29," Send "),u()()()(),k(30,zO,2,0,"div"),u()()}if(e&2){let n=v();f(4),N(n.userName),f(2),q(n.notification),f(2),T(n.messages.length>0?8:-1),f(),T(n.oldChats?9:-1),f(),T(n.oldChats?-1:10),f(2),g("formGroup",n.chatForm),f(11),T(n.recording?-1:23),f(),T(n.recording?24:-1),f(6),T(n.showEmojiPicker?30:-1)}}function qO(e,t){e&1&&(c(0,"div",8),p(1,"Start chat ...."),u())}var lu=class e{fileInput;destroy$=new V;chatFormObj=new yo;searchFilterFormObj=new _o;chatForm=new Z({});searchFilterForm=new Z({});searchParams=new Ie;chats=ge([]);chatService=b(So);userService=b(se);alertService=b(ae);notification=[];activeUsers=ge([]);messages=[];newChats=[];typing="";roomId="";userName="";userId="";isJoinedChat=!1;activeUser="";oldChats=!1;showEmojiPicker=!1;recording=!1;mediaRecorder;recordedChunks=[];ngOnInit(){this.initialiseChatForm(),this.userService.loggedUser$.pipe(F(this.destroy$)).subscribe(t=>{t&&(console.log(t),this.userName=t.user,this.userId=t.id,this.chatForm.get("userId")?.setValue(t.id),t.role!=="admin"?this.chatForm.get("chats")?.patchValue({sender:t.user,receiver:"Admin"}):this.chatForm.get("chats")?.patchValue({sender:t.user}))}),this.requestActiveUsers(),this.getActiveUsers(),this.getMessage(),this.getAllChats(),this.getJoiningNotification(),this.getLeavingNotification(),this.getTypingNotification()}initialiseChatForm(){this.chatForm=new Z({userId:new w(this.chatFormObj.userId,[A.required]),roomId:new w(this.chatFormObj.roomId,[A.required]),chats:new Z({sender:new w(this.chatFormObj.chats.sender,[A.required]),receiver:new w(this.chatFormObj.chats.receiver,[A.required]),message:new w(this.chatFormObj.chats.message,[A.required]),type:new w(this.chatFormObj.chats.type,[A.required]),date:new w(new Date)})})}initialiseSearchFilterForm(){this.searchFilterForm=new Z({userName:new w(this.searchFilterFormObj.userName),pageNumber:new w(this.searchFilterFormObj.pageNumber),pageSize:new w(this.searchFilterFormObj.pageSize),sortBy:new w(this.searchFilterFormObj.sortBy),sortOrder:new w(this.searchFilterFormObj.sortOrder)})}joinChat(t){this.isJoinedChat=!0,this.activeUser=t,this.getAllChats(),this.chatService.joinRoom(t),this.getUserMessages()}requestActiveUsers(){this.chatService.activeUsers()}getAllChats(){this.chatService.getChatsByUser(this.activeUser).pipe(F(this.destroy$)).subscribe({next:t=>{if(t.status===200){console.log("user chats from db:",t.body?.data);let n=t.body?.data;this.messages=[];for(let r of n.chats)this.messages.push(r);console.log("user messages array:",this.messages)}else console.log(t.body?.message),this.alertService.getAlert("alert alert-danger","Failed",t.body?.message?t.body?.message:"")},error:t=>{console.log("error from getMessage:",t.message)}})}togglePrevChats(){this.oldChats=!this.oldChats,this.getAllChats()}sendMessage(){debugger;this.chatForm.get("chats.type")?.setValue("text"),this.chatForm.get("chats.date")?.setValue(new Date),console.log(this.chatForm.value),this.chatService.adminSendMessage(this.activeUser,this.chatForm.value),this.chatForm.get("chats.message")?.setValue(""),this.typing=""}startedTyping(){this.chatService.typing(this.userName,this.activeUser)}leaveChat(){this.isJoinedChat=!1,this.chatService.leaveRoom(this.userName,this.activeUser)}getMessage(){this.chatService.getMessage().pipe(F(this.destroy$)).subscribe({next:t=>{console.log("sent message from server:",t),this.messages.push(t.chats),this.newChats.push(t),console.log("user messages array:",this.messages)},error:t=>{console.log("error from getMessage:",t.message)}})}getUserMessages(){this.chatService.getUserMessage().pipe(F(this.destroy$)).subscribe({next:t=>{console.log("user chats from socket:",t),this.newChats=t,console.log("user messages array:",this.newChats)},error:t=>{console.log("error from getMessage:",t.message)}})}getActiveUsers(){this.chatService.getActiveUsers().pipe(F(this.destroy$)).subscribe({next:t=>{console.log("ActiveUsers from server:",t),this.activeUsers.set(t)},error:t=>{console.log("error from getMessage:",t.message)}})}getTypingNotification(){this.chatService.getTypingNotificatrion().pipe(F(this.destroy$)).subscribe({next:t=>{console.log("TypingNotificatrion from server:",t),this.typing=t},error:t=>{console.log("error from getMessage:",t.message)}})}getJoiningNotification(){this.chatService.getJoiningNotificatrion().pipe(F(this.destroy$)).subscribe({next:t=>{console.log("JoiningNotificatrion from server:",t),this.roomId=t.roomId,console.log("admin joined room id from start JoiningNotificatrion:",this.roomId),this.chatForm.patchValue({roomId:this.roomId}),this.notification.push(t.message)},error:t=>{console.log("error from getMessage:",t.message)}})}getStartChatNotification(){this.chatService.getStartChatNotificatrion().pipe(F(this.destroy$)).subscribe({next:t=>{console.log("JoiningNotificatrion from server:",t),this.roomId=t.roomId,this.notification.push(t.message)},error:t=>{console.log("error from getMessage:",t.message)}})}getLeavingNotification(){this.chatService.getLeavingNotificatrion().pipe(F(this.destroy$)).subscribe({next:t=>{console.log("LeavingNotificatrion from server:",t),this.notification.push(t)},error:t=>{console.log("error from getMessage:",t.message)}})}toggleEmojiPicker(){this.showEmojiPicker=!this.showEmojiPicker}triggerFileInput(){this.fileInput.nativeElement.click()}handleFileUpload(t){let n=t.target;if(n.files&&n.files.length>0){console.log("File(s) selected:",n,n.files[0]);let r=new FormData,i=n.files[0];r.append("img",i),this.chatService.getImgUrlFromCloudinary(r).pipe(F(this.destroy$)).subscribe({next:o=>{o.status===200?(console.log(o.body?.data),this.chatForm.get("chats.message")?.setValue(o.body?.data.imgUrl),this.chatForm.get("chats.type")?.setValue(o.body?.data.type),this.chatService.sendMessage(this.chatForm.value),console.log(this.chatForm.value),this.chatForm.get("chats.message")?.setValue("")):(console.log(o.body?.message),this.alertService.getAlert("alert alert-danger","Failed",o.body?.message?o.body?.message:""))},error:o=>{console.log(o,o.error.message)}})}}startRecording(){if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){console.log("Your browser does not support audio recording.");return}navigator.mediaDevices.getUserMedia({audio:!0}).then(t=>{this.mediaRecorder=new MediaRecorder(t),this.recording=!0,this.recordedChunks=[],this.mediaRecorder.ondataavailable=n=>{n.data.size>0&&this.recordedChunks.push(n.data)},this.mediaRecorder.onstop=()=>{this.recording=!1;let n=new Blob(this.recordedChunks,{type:"audio/ogg"});console.log("audioBlob: ",n);let r=new FormData;r.append("audio",n),this.chatService.getAudioUrlFromCloudinary(r).pipe(F(this.destroy$)).subscribe({next:i=>{i.status===200?(console.log(i.body?.data),this.chatForm.get("chats.message")?.setValue(i.body?.data.imgUrl),this.chatForm.get("chats.type")?.setValue(i.body?.data.type),this.chatService.sendMessage(this.chatForm.value),console.log(this.chatForm.value),this.chatForm.get("chats.message")?.setValue("")):(console.log(i.body?.message),this.alertService.getAlert("alert alert-danger","Failed",i.body?.message?i.body?.message:""))},error:i=>{console.log(i,i.error.message)}})},this.mediaRecorder.start()})}stopRecording(){this.mediaRecorder&&this.mediaRecorder.stop()}addEmoji(t){console.log("emoji click event: ",t,t.detail.unicode);let n=this.chatForm.get("chats.message"),r=n?.value||"";n?.setValue(`${r}${t.detail.unicode}`),console.log(n?.value)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=H({type:e,selectors:[["app-admin-chat"]],viewQuery:function(n,r){if(n&1&&st(nO,5),n&2){let i;Qe(i=Ye())&&(r.fileInput=i.first)}},standalone:!0,features:[W],decls:13,vars:1,consts:[["fileInput",""],[1,"container-fluid"],[1,"row"],[1,"col-md-4"],[1,"user-list-card"],[1,"user-card"],[1,"col-md-8"],[1,"chat-container"],[1,"m-auto"],["src","","alt","",1,"avatar"],[1,"username",3,"click"],[1,"chat-header"],[1,"username"],[1,"chat-body"],[1,"text-info","text-center"],[1,"chat-footer"],[3,"formGroup"],[1,"row","align-items-center"],[1,"col-auto"],["type","button",1,"btn","btn-light","btn-sm",3,"click"],["type","file","id","fileInput","hidden","",3,"change"],["type","button",1,"btn","btn-light","btn-sm"],["formGroupName","chats",1,"col"],["type","text","placeholder","Type a message","formControlName","message",1,"form-control",3,"input"],["type","submit",1,"btn","btn-primary","btn-sm","px-3","rounded-pill",3,"click"],[1,"text-center"],[1,"link-underline-opacity-0","text-info",3,"click"],[1,"row","pt-2"],[1,"col-md-6","offset-md-6"],[1,"col-12","d-block","text-end","text-muted",2,"font-size","0.75em"],["role","alert",1,"alert","alert-success","d-inline-block","float-end"],["alt","",1,"img-fluid",3,"src"],["controls",""],["target","_blank",1,"btn","btn-link",3,"href","download"],[1,"position-absolute","bottom-0","end-0"],[1,"float-end","text-muted","p-1",2,"font-size","0.55em"],["type","video/mp4",3,"src"],["type","audio/ogg",3,"src"],[1,"col-md-6"],[1,"col-12","d-block","text-start","text-muted",2,"font-size","0.75em"],["role","alert",1,"alert","alert-primary","d-inline-block"],[1,"position-absolute","bottom-0","start-0"],[1,"recording-indicator"],[3,"emojiClick"]],template:function(n,r){n&1&&(c(0,"section",1)(1,"div"),C(2,"app-alert"),u(),c(3,"div",2)(4,"div",3)(5,"div",4)(6,"h2"),p(7,"Active Users"),u(),G(8,rO,4,1,"div",5,z),u()(),c(10,"div",6),k(11,GO,31,8,"div",7)(12,qO,2,0,"div",8),u()()()),n&2&&(f(8),q(r.activeUsers()),f(3),T(r.isJoinedChat?11:12))},dependencies:[ke,nt,Ae,je,Be,Me,Le,pn,Mr,Ne],styles:["#header[_ngcontent-%COMP%]{height:50px}#chatArea[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;height:calc(100vh - 120px)}#submit[_ngcontent-%COMP%]{height:70px}body[_ngcontent-%COMP%]{background-color:#e5e5e5}.container-fluid[_ngcontent-%COMP%]{padding:50px 200px;overflow:hidden}.user-list-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;box-shadow:0 10px 30px #0000000d;height:calc(100vh - 100px);padding:10px}.user-card[_ngcontent-%COMP%]{display:flex;padding:10px;cursor:pointer}.user-card.active[_ngcontent-%COMP%]{background-color:#ededed}.user-card[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{height:50px;width:50px;border-radius:50%;overflow:hidden;margin:0 15px 0 0}.user-card[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{font-size:20px;font-weight:500;display:flex;justify-content:center;align-items:center}.user-card[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #bbbbbb}.chat-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;box-shadow:0 10px 30px #0000000d;height:calc(100vh - 100px);position:relative;overflow:hidden}.chat-container[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]{height:70px;background-color:#ededed;display:flex;justify-content:flex-start;align-items:center}.chat-container[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{height:30px;width:30px;border-radius:50%;overflow:hidden;margin:0 20px}.chat-container[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{font-size:14px;font-weight:500;display:flex;justify-content:center;align-items:center}.chat-container[_ngcontent-%COMP%]   .chat-body[_ngcontent-%COMP%]{background-repeat:no-repeat;background-size:cover;height:calc(100vh - 125px);padding:30px 30px 100px;overflow-y:auto;display:flex;flex-direction:column;justify-content:flex-start}.chat-container[_ngcontent-%COMP%]   .chat-body[_ngcontent-%COMP%]   .message-container[_ngcontent-%COMP%]{background-color:#fff;padding:7px;border-radius:5px;width:fit-content;max-width:90%;margin-bottom:15px}.chat-container[_ngcontent-%COMP%]   .chat-body[_ngcontent-%COMP%]   .same-user[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.chat-container[_ngcontent-%COMP%]   .chat-body[_ngcontent-%COMP%]   .same-user[_ngcontent-%COMP%]   .message-container[_ngcontent-%COMP%]{background-color:#87cefa}.chat-container[_ngcontent-%COMP%]   .chat-footer[_ngcontent-%COMP%]{position:sticky;bottom:0;left:0;right:0;background-color:#ededed;padding:10px 20px}.chat-container[_ngcontent-%COMP%]   .chat-footer[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #D8DDEC;border-radius:20px;font-size:1rem;color:#000}emoji-picker[_ngcontent-%COMP%]{width:100%}"]})};function WO(e,t){e&1&&C(0,"app-admin-chat")}function ZO(e,t){e&1&&C(0,"app-user-chat")}var cu=class e{destroy$=new V;userService=b(se);role="";ngOnInit(){this.userService.loggedUser$.pipe(F(this.destroy$)).subscribe(t=>{t&&(console.log(t),this.role=t.role)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=H({type:e,selectors:[["app-chat"]],standalone:!0,features:[W],decls:3,vars:1,template:function(n,r){n&1&&(c(0,"section"),k(1,WO,1,0,"app-admin-chat")(2,ZO,1,0,"app-user-chat"),u()),n&2&&(f(),T(r.role==="admin"?1:r.role==="user"||r.role==="provider"?2:-1))},dependencies:[au,lu]})};var _C=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:wc},{path:"googleLogin/callback",component:Rc},{path:"reset/:token",component:Fc},{path:"verifyEmail",component:Oc},{path:"otp/:id",component:Ac},{path:"",component:Sc,children:[{path:"dashboard",component:Tc,canActivate:[ar]},{path:"users",component:Nc,canActivate:[ar]},{path:"services",component:Bc,canActivate:[ar]},{path:"events",component:Gc,canActivate:[ar]},{path:"booking",component:Kc,canActivate:[ar]},{path:"services/details",component:Wc,canActivate:[ar]},{path:"events/details",component:Zc,canActivate:[ar]},{path:"chat",component:cu,canActivate:[ar]}]},{path:"**",redirectTo:"login"}];var CC=(e,t)=>{let n=b(se),r=b(Ue),i=b(ae);return t(e).pipe(Dt(o=>o.status===401?n.refreshToken().pipe(Ct(s=>(console.log("Entered refreshtoken",s.body.data),n.setLoggedUser(s.body.data),t(e))),Dt(s=>(console.log("Entered refreshtoken catcherror"),r.navigateByUrl("login"),i.getAlert("alert alert-danger","Authentication failed","Please try to login again"),rn(()=>s)))):o.status===403?n.userLogout().pipe(it(()=>{console.log("Entered user blocked interceptor"),r.navigateByUrl("login"),i.getAlert("alert alert-danger","Login failed","Your account has been blocked. Contact admin for more details.")}),re(()=>new li({status:403})),Dt(s=>(r.navigateByUrl("login"),i.getAlert("alert alert-danger","",s),rn(()=>s)))):rn(()=>o)))};var QO={url:tt.socketBackendUrl,options:{transports:["websocket","polling"]}},bC={providers:[my(gy([CC])),H0({eventCoalescing:!0}),l_(_C),lf(yC.forRoot(QO))]};var uu=class e{title="frontend";static \u0275fac=function(n){return new(n||e)};static \u0275cmp=H({type:e,selectors:[["app-root"]],standalone:!0,features:[W],decls:1,vars:0,template:function(n,r){n&1&&C(0,"router-outlet")},dependencies:[Ds,ke]})};function du(e){if(typeof e!="string"||!e)throw new Error("expected a non-empty string, got: "+e)}function _h(e){if(typeof e!="number")throw new Error("expected a number, got: "+e)}var YO=1,KO=1,bi="emoji",xo="keyvalue",wh="favorites",JO="tokens",DC="tokens",XO="unicode",xC="count",eR="group",tR="order",IC="group-order",Ch="eTag",hu="url",EC="skinTone",Io="readonly",Sh="readwrite",TC="skinUnicodes",nR="skinUnicodes",rR="https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",iR="en";function oR(e,t){let n=new Set,r=[];for(let i of e){let o=t(i);n.has(o)||(n.add(o),r.push(i))}return r}function wC(e){return oR(e,t=>t.unicode)}function sR(e){function t(n,r,i){let o=r?e.createObjectStore(n,{keyPath:r}):e.createObjectStore(n);if(i)for(let[s,[a,l]]of Object.entries(i))o.createIndex(s,a,{multiEntry:l});return o}t(xo),t(bi,XO,{[DC]:[JO,!0],[IC]:[[eR,tR]],[TC]:[nR,!0]}),t(wh,void 0,{[xC]:[""]})}var bh={},pu={},mu={};function FC(e,t,n){n.onerror=()=>t(n.error),n.onblocked=()=>t(new Error("IDB blocked")),n.onsuccess=()=>e(n.result)}function aR(e){return te(this,null,function*(){let t=yield new Promise((n,r)=>{let i=indexedDB.open(e,YO);bh[e]=i,i.onupgradeneeded=o=>{o.oldVersion<KO&&sR(i.result)},FC(n,r,i)});return t.onclose=()=>Dh(e),t})}function lR(e){return pu[e]||(pu[e]=aR(e)),pu[e]}function pr(e,t,n,r){return new Promise((i,o)=>{let s=e.transaction(t,n,{durability:"relaxed"}),a=typeof t=="string"?s.objectStore(t):t.map(d=>s.objectStore(d)),l;r(a,s,d=>{l=d}),s.oncomplete=()=>i(l),s.onerror=()=>o(s.error)})}function Dh(e){let t=bh[e],n=t&&t.result;if(n){n.close();let r=mu[e];if(r)for(let i of r)i()}delete bh[e],delete pu[e],delete mu[e]}function cR(e){return new Promise((t,n)=>{Dh(e);let r=indexedDB.deleteDatabase(e);FC(t,n,r)})}function uR(e,t){let n=mu[e];n||(n=mu[e]=[]),n.push(t)}var dR=new Set([":D","XD",":'D","O:)",":X",":P",";P","XP",":L",":Z",":j","8D","XO","8)",":B",":O",":S",":'o","Dx","X(","D:",":C",">0)",":3","</3","<3","\\M/",":E","8#"]);function Do(e){return e.split(/[\s_]+/).map(t=>!t.match(/\w/)||dR.has(t)?t.toLowerCase():t.replace(/[)(:,]/g,"").replace(/’/g,"'").toLowerCase()).filter(Boolean)}var fR=2;function AC(e){return e.filter(Boolean).map(t=>t.toLowerCase()).filter(t=>t.length>=fR)}function pR(e){return e.map(({annotation:n,emoticon:r,group:i,order:o,shortcodes:s,skins:a,tags:l,emoji:d,version:h})=>{let m=[...new Set(AC([...(s||[]).map(Do).flat(),...(l||[]).map(Do).flat(),...Do(n),r]))].sort(),y={annotation:n,group:i,order:o,tags:l,tokens:m,unicode:d,version:h};if(r&&(y.emoticon=r),s&&(y.shortcodes=s),a){y.skinTones=[],y.skinUnicodes=[],y.skinVersions=[];for(let{tone:_,emoji:x,version:M}of a)y.skinTones.push(_),y.skinUnicodes.push(x),y.skinVersions.push(M)}return y})}function MC(e,t,n,r){e[t](n).onsuccess=i=>r&&r(i.target.result)}function Ci(e,t,n){MC(e,"get",t,n)}function kC(e,t,n){MC(e,"getAll",t,n)}function xh(e){e.commit&&e.commit()}function hR(e,t){let n=e[0];for(let r=1;r<e.length;r++){let i=e[r];t(n)>t(i)&&(n=i)}return n}function NC(e,t){let n=hR(e,i=>i.length),r=[];for(let i of n)e.some(o=>o.findIndex(s=>t(s)===t(i))===-1)||r.push(i);return r}function mR(e){return te(this,null,function*(){return!(yield Ih(e,xo,hu))})}function gR(e,t,n){return te(this,null,function*(){let[r,i]=yield Promise.all([Ch,hu].map(o=>Ih(e,xo,o)));return r===n&&i===t})}function vR(e,t){return te(this,null,function*(){return pr(e,bi,Io,(r,i,o)=>{let s,a=()=>{r.getAll(s&&IDBKeyRange.lowerBound(s,!0),50).onsuccess=l=>{let d=l.target.result;for(let h of d)if(s=h.unicode,t(h))return o(h);if(d.length<50)return o();a()}};a()})})}function OC(e,t,n,r){return te(this,null,function*(){try{let i=pR(t);yield pr(e,[bi,xo],Sh,([o,s],a)=>{let l,d,h=0;function m(){++h===2&&y()}function y(){if(!(l===r&&d===n)){o.clear();for(let _ of i)o.put(_);s.put(r,Ch),s.put(n,hu),xh(a)}}Ci(s,Ch,_=>{l=_,m()}),Ci(s,hu,_=>{d=_,m()})})}finally{}})}function yR(e,t){return te(this,null,function*(){return pr(e,bi,Io,(n,r,i)=>{let o=IDBKeyRange.bound([t,0],[t+1,0],!1,!0);kC(n.index(IC),o,i)})})}function RC(e,t){return te(this,null,function*(){let n=AC(Do(t));return n.length?pr(e,bi,Io,(r,i,o)=>{let s=[],a=()=>{s.length===n.length&&l()},l=()=>{let d=NC(s,h=>h.unicode);o(d.sort((h,m)=>h.order<m.order?-1:1))};for(let d=0;d<n.length;d++){let h=n[d],m=d===n.length-1?IDBKeyRange.bound(h,h+"\uFFFF",!1,!0):IDBKeyRange.only(h);kC(r.index(DC),m,y=>{s.push(y),a()})}}):[]})}function _R(e,t){return te(this,null,function*(){let n=yield RC(e,t);return n.length?n.filter(r=>(r.shortcodes||[]).map(o=>o.toLowerCase()).includes(t.toLowerCase()))[0]||null:(yield vR(e,i=>(i.shortcodes||[]).includes(t.toLowerCase())))||null})}function CR(e,t){return te(this,null,function*(){return pr(e,bi,Io,(n,r,i)=>Ci(n,t,o=>{if(o)return i(o);Ci(n.index(TC),t,s=>i(s||null))}))})}function Ih(e,t,n){return pr(e,t,Io,(r,i,o)=>Ci(r,n,o))}function bR(e,t,n,r){return pr(e,t,Sh,(i,o)=>{i.put(r,n),xh(o)})}function ER(e,t){return pr(e,wh,Sh,(n,r)=>Ci(n,t,i=>{n.put((i||0)+1,t),xh(r)}))}function wR(e,t,n){return n===0?[]:pr(e,[wh,bi],Io,([r,i],o,s)=>{let a=[];r.index(xC).openCursor(void 0,"prev").onsuccess=l=>{let d=l.target.result;if(!d)return s(a);function h(_){if(a.push(_),a.length===n)return s(a);d.continue()}let m=d.primaryKey,y=t.byName(m);if(y)return h(y);Ci(i,m,_=>{if(_)return h(_);d.continue()})}})}var fu="";function SR(e,t){let n=new Map;for(let i of e){let o=t(i);for(let s of o){let a=n;for(let d=0;d<s.length;d++){let h=s.charAt(d),m=a.get(h);m||(m=new Map,a.set(h,m)),a=m}let l=a.get(fu);l||(l=[],a.set(fu,l)),l.push(i)}}return(i,o)=>{let s=n;for(let d=0;d<i.length;d++){let h=i.charAt(d),m=s.get(h);if(m)s=m;else return[]}if(o)return s.get(fu)||[];let a=[],l=[s];for(;l.length;){let h=[...l.shift().entries()].sort((m,y)=>m[0]<y[0]?-1:1);for(let[m,y]of h)m===fu?a.push(...y):l.push(y)}return a}}var DR=["name","url"];function xR(e){let t=e&&Array.isArray(e),n=t&&e.length&&(!e[0]||DR.some(r=>!(r in e[0])));if(!t||n)throw new Error("Custom emojis are in the wrong format")}function SC(e){xR(e);let t=(y,_)=>y.name.toLowerCase()<_.name.toLowerCase()?-1:1,n=e.sort(t),i=SR(e,y=>{let _=new Set;if(y.shortcodes)for(let x of y.shortcodes)for(let M of Do(x))_.add(M);return _}),o=y=>i(y,!0),s=y=>i(y,!1),a=y=>{let _=Do(y),x=_.map((M,R)=>(R<_.length-1?o:s)(M));return NC(x,M=>M.name).sort(t)},l=new Map,d=new Map;for(let y of e){d.set(y.name.toLowerCase(),y);for(let _ of y.shortcodes||[])l.set(_.toLowerCase(),y)}return{all:n,search:a,byShortcode:y=>l.get(y.toLowerCase()),byName:y=>d.get(y.toLowerCase())}}var IR=typeof wrappedJSObject<"u";function zs(e){if(!e)return e;if(IR&&(e=structuredClone(e)),delete e.tokens,e.skinTones){let t=e.skinTones.length;e.skins=Array(t);for(let n=0;n<t;n++)e.skins[n]={tone:e.skinTones[n],unicode:e.skinUnicodes[n],version:e.skinVersions[n]};delete e.skinTones,delete e.skinUnicodes,delete e.skinVersions}return e}function PC(e){e||console.warn("emoji-picker-element is more efficient if the dataSource server exposes an ETag header.")}var TR=["annotation","emoji","group","order","version"];function FR(e){if(!e||!Array.isArray(e)||!e[0]||typeof e[0]!="object"||TR.some(t=>!(t in e[0])))throw new Error("Emoji data is in the wrong format")}function LC(e,t){if(Math.floor(e.status/100)!==2)throw new Error("Failed to fetch: "+t+":  "+e.status)}function AR(e){return te(this,null,function*(){let t=yield fetch(e,{method:"HEAD"});LC(t,e);let n=t.headers.get("etag");return PC(n),n})}function Eh(e){return te(this,null,function*(){let t=yield fetch(e);LC(t,e);let n=t.headers.get("etag");PC(n);let r=yield t.json();return FR(r),[n,r]})}function MR(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,i=-1;++i<r;)t+=String.fromCharCode(n[i]);return t}function kR(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=-1;++i<t;)r[i]=e.charCodeAt(i);return n}function VC(e){return te(this,null,function*(){let t=JSON.stringify(e),n=kR(t),r=yield crypto.subtle.digest("SHA-1",n),i=MR(r);return btoa(i)})}function NR(e,t){return te(this,null,function*(){let n,r=yield AR(t);if(!r){let i=yield Eh(t);r=i[0],n=i[1],r||(r=yield VC(n))}(yield gR(e,t,r))||(n||(n=(yield Eh(t))[1]),yield OC(e,n,t,r))})}function OR(e,t){return te(this,null,function*(){let[n,r]=yield Eh(t);n||(n=yield VC(r)),yield OC(e,r,t,n)})}var Gs=class{constructor({dataSource:t=rR,locale:n=iR,customEmoji:r=[]}={}){this.dataSource=t,this.locale=n,this._dbName=`emoji-picker-element-${this.locale}`,this._db=void 0,this._lazyUpdate=void 0,this._custom=SC(r),this._clear=this._clear.bind(this),this._ready=this._init()}_init(){return te(this,null,function*(){let t=this._db=yield lR(this._dbName);uR(this._dbName,this._clear);let n=this.dataSource;(yield mR(t))?yield OR(t,n):this._lazyUpdate=NR(t,n)})}ready(){return te(this,null,function*(){let t=()=>te(this,null,function*(){return this._ready||(this._ready=this._init()),this._ready});yield t(),this._db||(yield t())})}getEmojiByGroup(t){return te(this,null,function*(){return _h(t),yield this.ready(),wC(yield yR(this._db,t)).map(zs)})}getEmojiBySearchQuery(t){return te(this,null,function*(){du(t),yield this.ready();let n=this._custom.search(t),r=wC(yield RC(this._db,t)).map(zs);return[...n,...r]})}getEmojiByShortcode(t){return te(this,null,function*(){du(t),yield this.ready();let n=this._custom.byShortcode(t);return n||zs(yield _R(this._db,t))})}getEmojiByUnicodeOrName(t){return te(this,null,function*(){du(t),yield this.ready();let n=this._custom.byName(t);return n||zs(yield CR(this._db,t))})}getPreferredSkinTone(){return te(this,null,function*(){return yield this.ready(),(yield Ih(this._db,xo,EC))||0})}setPreferredSkinTone(t){return te(this,null,function*(){return _h(t),yield this.ready(),bR(this._db,xo,EC,t)})}incrementFavoriteEmojiCount(t){return te(this,null,function*(){return du(t),yield this.ready(),ER(this._db,t)})}getTopFavoriteEmoji(t){return te(this,null,function*(){return _h(t),yield this.ready(),(yield wR(this._db,this._custom,t)).map(zs)})}set customEmoji(t){this._custom=SC(t)}get customEmoji(){return this._custom.all}_shutdown(){return te(this,null,function*(){yield this.ready();try{yield this._lazyUpdate}catch{}})}_clear(){this._db=this._ready=this._lazyUpdate=void 0}close(){return te(this,null,function*(){yield this._shutdown(),yield Dh(this._dbName)})}delete(){return te(this,null,function*(){yield this._shutdown(),yield cR(this._dbName)})}};var Rh=[[-1,"\u2728","custom"],[0,"\u{1F600}","smileys-emotion"],[1,"\u{1F44B}","people-body"],[3,"\u{1F431}","animals-nature"],[4,"\u{1F34E}","food-drink"],[5,"\u{1F3E0}\uFE0F","travel-places"],[6,"\u26BD","activities"],[7,"\u{1F4DD}","objects"],[8,"\u26D4\uFE0F","symbols"],[9,"\u{1F3C1}","flags"]].map(([e,t,n])=>({id:e,emoji:t,name:n})),Th=Rh.slice(1),RR=2,UC=6,qC=typeof requestIdleCallback=="function"?requestIdleCallback:setTimeout;function jC(e){return e.unicode.includes("\u200D")}var PR={"\u{1FAE9}":16,"\u{1FAE8}":15.1,"\u{1FAE0}":14,"\u{1F972}":13.1,"\u{1F97B}":12.1,"\u{1F970}":11,"\u{1F929}":5,"\u{1F471}\u200D\u2640\uFE0F":4,"\u{1F923}":3,"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F":2,"\u{1F600}":1,"\u{1F610}\uFE0F":.7,"\u{1F603}":.6},LR=1e3,VR="\u{1F590}\uFE0F",UR=8,jR=["\u{1F60A}","\u{1F612}","\u2764\uFE0F","\u{1F44D}\uFE0F","\u{1F60D}","\u{1F602}","\u{1F62D}","\u263A\uFE0F","\u{1F614}","\u{1F629}","\u{1F60F}","\u{1F495}","\u{1F64C}","\u{1F618}"],WC='"Twemoji Mozilla","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji","EmojiOne Color","Android Emoji",sans-serif',BR=(e,t)=>e<t?-1:e>t?1:0,BC=(e,t)=>{let n=document.createElement("canvas");n.width=n.height=1;let r=n.getContext("2d",{willReadFrequently:!0});return r.textBaseline="top",r.font=`100px ${WC}`,r.fillStyle=t,r.scale(.01,.01),r.fillText(e,0,0),r.getImageData(0,0,1,1).data},$R=(e,t)=>{let n=[...e].join(","),r=[...t].join(",");return n===r&&!n.startsWith("0,0,0,")};function HR(e){let t=BC(e,"#000"),n=BC(e,"#fff");return t&&n&&$R(t,n)}function zR(){let e=Object.entries(PR);try{for(let[t,n]of e)if(HR(t))return n}catch{}finally{}return e[0][1]}var Fh,Ah=()=>(Fh||(Fh=new Promise(e=>qC(()=>e(zR())))),Fh),Ph=new Map,GR="\uFE0F",qR="\uD83C",WR="\u200D",ZR=127995,QR=57339;function YR(e,t){if(t===0)return e;let n=e.indexOf(WR);return n!==-1?e.substring(0,n)+String.fromCodePoint(ZR+t-1)+e.substring(n):(e.endsWith(GR)&&(e=e.substring(0,e.length-1)),e+qR+String.fromCodePoint(QR+t-1))}function Un(e){e.preventDefault(),e.stopPropagation()}function Mh(e,t,n){return t+=e?-1:1,t<0?t=n.length-1:t>=n.length&&(t=0),t}function ZC(e,t){let n=new Set,r=[];for(let i of e){let o=t(i);n.has(o)||(n.add(o),r.push(i))}return r}function KR(e,t){let n=r=>{let i={};for(let o of r)typeof o.tone=="number"&&o.version<=t&&(i[o.tone]=o.unicode);return i};return e.map(({unicode:r,skins:i,shortcodes:o,url:s,name:a,category:l,annotation:d})=>({unicode:r,name:a,shortcodes:o,url:s,category:l,annotation:d,id:r||a,skins:i&&n(i)}))}var vu=requestAnimationFrame,JR=typeof ResizeObserver=="function";function XR(e,t,n){let r;JR?(r=new ResizeObserver(n),r.observe(e)):vu(n),t.addEventListener("abort",()=>{r&&r.disconnect()})}function $C(e){{let t=document.createRange();return t.selectNode(e.firstChild),t.getBoundingClientRect().width}}var kh;function e2(e,t,n){let r=!0;for(let i of e){let o=n(i),s=$C(o);typeof kh>"u"&&(kh=$C(t));let a=s/1.8<kh;Ph.set(i.unicode,a),a||(r=!1)}return r}function t2(e){return ZC(e,t=>t)}function n2(e){e&&(e.scrollTop=0)}function qs(e,t,n){let r=e.get(t);return r||(r=n(),e.set(t,r)),r}function HC(e){return""+e}function r2(e){let t=document.createElement("template");return t.innerHTML=e,t}var i2=new WeakMap,o2=new WeakMap,s2=Symbol("un-keyed"),a2="replaceChildren"in Element.prototype;function l2(e,t){a2?e.replaceChildren(...t):(e.innerHTML="",e.append(...t))}function c2(e,t){let n=e.firstChild,r=0;for(;n;){if(t[r]!==n)return!0;n=n.nextSibling,r++}return r!==t.length}function u2(e,t){let{targetNode:n}=t,{targetParentNode:r}=t,i=!1;r?i=c2(r,e):(i=!0,t.targetNode=void 0,t.targetParentNode=r=n.parentNode),i&&l2(r,e)}function d2(e,t){for(let n of t){let{targetNode:r,currentExpression:i,binding:{expressionIndex:o,attributeName:s,attributeValuePre:a,attributeValuePost:l}}=n,d=e[o];if(i!==d)if(n.currentExpression=d,s)r.setAttribute(s,a+HC(d)+l);else{let h;Array.isArray(d)?u2(d,n):d instanceof Element?(h=d,r.replaceWith(h)):r.nodeValue=HC(d),h&&(n.targetNode=h)}}}function f2(e){let t="",n=!1,r=!1,i=-1,o=new Map,s=[];for(let l=0,d=e.length;l<d;l++){let h=e[l];if(t+=h,l===d-1)break;for(let j=0;j<h.length;j++)switch(h.charAt(j)){case"<":{h.charAt(j+1)==="/"?s.pop():(n=!0,s.push(++i));break}case">":{n=!1,r=!1;break}case"=":{r=!0;break}}let m=s[s.length-1],y=qs(o,m,()=>[]),_,x,M;if(r){let j=/(\S+)="?([^"=]*)$/.exec(h);_=j[1],x=j[2],M=/^[^">]*/.exec(e[l+1])[0]}let R={attributeName:_,attributeValuePre:x,attributeValuePost:M,expressionIndex:l};y.push(R),!n&&!r&&(t+=" ")}return{template:r2(t),elementsToBindings:o}}function zC(e,t,n){for(let r=0;r<e.length;r++){let i=e[r],o=i.attributeName?t:t.firstChild,s={binding:i,targetNode:o,targetParentNode:void 0,currentExpression:void 0};n.push(s)}}function p2(e,t){let n=[],r;if(t.size===1&&(r=t.get(0)))zC(r,e,n);else{let i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT),o=e,s=-1;do{let a=t.get(++s);a&&zC(a,o,n)}while(o=i.nextNode())}return n}function h2(e){let{template:t,elementsToBindings:n}=qs(i2,e,()=>f2(e)),r=t.cloneNode(!0).content.firstElementChild,i=p2(r,n);return function(s){return d2(s,i),r}}function m2(e){let t=qs(o2,e,()=>new Map),n=s2;function r(o,...s){let a=qs(t,o,()=>new Map);return qs(a,n,()=>h2(o))(s)}function i(o,s,a){return o.map((l,d)=>{let h=n;n=a(l);try{return s(l,d)}finally{n=h}})}return{map:i,html:r}}function g2(e,t,n,r,i,o,s,a,l){let{labelWithSkin:d,titleForEmoji:h,unicodeWithSkin:m}=n,{html:y,map:_}=m2(t);function x(P,Q,Se){return _(P,(Oe,He)=>y`<button role="${Q?"option":"menuitem"}" aria-selected="${Q?He===t.activeSearchItem:""}" aria-label="${d(Oe,t.currentSkinTone)}" title="${h(Oe)}" class="${"emoji"+(Q&&He===t.activeSearchItem?" active":"")+(Oe.unicode?"":" custom-emoji")}" id="${`${Se}-${Oe.id}`}" style="${Oe.unicode?"":`--custom-emoji-background: url(${JSON.stringify(Oe.url)})`}">${Oe.unicode?m(Oe,t.currentSkinTone):""}</button>`,Oe=>`${Se}-${Oe.id}`)}let R=y`<section data-ref="rootElement" class="picker" aria-label="${t.i18n.regionLabel}" style="${t.pickerStyle||""}"><div class="pad-top"></div><div class="search-row"><div class="search-wrapper"><input id="search" class="search" type="search" role="combobox" enterkeyhint="search" placeholder="${t.i18n.searchLabel}" autocapitalize="none" autocomplete="off" spellcheck="true" aria-expanded="${!!(t.searchMode&&t.currentEmojis.length)}" aria-controls="search-results" aria-describedby="search-description" aria-autocomplete="list" aria-activedescendant="${t.activeSearchItemId?`emo-${t.activeSearchItemId}`:""}" data-ref="searchElement" data-on-input="onSearchInput" data-on-keydown="onSearchKeydown"><label class="sr-only" for="search">${t.i18n.searchLabel}</label> <span id="search-description" class="sr-only">${t.i18n.searchDescription}</span></div><div class="skintone-button-wrapper ${t.skinTonePickerExpandedAfterAnimation?"expanded":""}"><button id="skintone-button" class="emoji ${t.skinTonePickerExpanded?"hide-focus":""}" aria-label="${t.skinToneButtonLabel}" title="${t.skinToneButtonLabel}" aria-describedby="skintone-description" aria-haspopup="listbox" aria-expanded="${t.skinTonePickerExpanded}" aria-controls="skintone-list" data-on-click="onClickSkinToneButton">${t.skinToneButtonText||""}</button></div><span id="skintone-description" class="sr-only">${t.i18n.skinToneDescription}</span><div data-ref="skinToneDropdown" id="skintone-list" class="skintone-list hide-focus ${t.skinTonePickerExpanded?"":"hidden no-animate"}" style="transform:translateY(${t.skinTonePickerExpanded?0:"calc(-1 * var(--num-skintones) * var(--total-emoji-size))"})" role="listbox" aria-label="${t.i18n.skinTonesLabel}" aria-activedescendant="skintone-${t.activeSkinTone}" aria-hidden="${!t.skinTonePickerExpanded}" tabIndex="-1" data-on-focusout="onSkinToneOptionsFocusOut" data-on-click="onSkinToneOptionsClick" data-on-keydown="onSkinToneOptionsKeydown" data-on-keyup="onSkinToneOptionsKeyup">${_(t.skinTones,(P,Q)=>y`<div id="skintone-${Q}" class="emoji ${Q===t.activeSkinTone?"active":""}" aria-selected="${Q===t.activeSkinTone}" role="option" title="${t.i18n.skinTones[Q]}" aria-label="${t.i18n.skinTones[Q]}">${P}</div>`,P=>P)}</div></div><div class="nav" role="tablist" style="grid-template-columns:repeat(${t.groups.length},1fr)" aria-label="${t.i18n.categoriesLabel}" data-on-keydown="onNavKeydown" data-on-click="onNavClick">${_(t.groups,P=>y`<button role="tab" class="nav-button" aria-controls="tab-${P.id}" aria-label="${t.i18n.categories[P.name]}" aria-selected="${!t.searchMode&&t.currentGroup.id===P.id}" title="${t.i18n.categories[P.name]}" data-group-id="${P.id}"><div class="nav-emoji emoji">${P.emoji}</div></button>`,P=>P.id)}</div><div class="indicator-wrapper"><div class="indicator" style="transform:translateX(${(t.isRtl?-1:1)*t.currentGroupIndex*100}%)"></div></div><div class="message ${t.message?"":"gone"}" role="alert" aria-live="polite">${t.message||""}</div><div data-ref="tabpanelElement" class="tabpanel ${!t.databaseLoaded||t.message?"gone":""}" role="${t.searchMode?"region":"tabpanel"}" aria-label="${t.searchMode?t.i18n.searchResultsLabel:t.i18n.categories[t.currentGroup.name]}" id="${t.searchMode?"":`tab-${t.currentGroup.id}`}" tabIndex="0" data-on-click="onEmojiClick"><div data-action="calculateEmojiGridStyle">${_(t.currentEmojisWithCategories,(P,Q)=>y`<div><div id="menu-label-${Q}" class="category ${t.currentEmojisWithCategories.length===1&&t.currentEmojisWithCategories[0].category===""?"gone":""}" aria-hidden="true">${t.searchMode?t.i18n.searchResultsLabel:P.category?P.category:t.currentEmojisWithCategories.length>1?t.i18n.categories.custom:t.i18n.categories[t.currentGroup.name]}</div><div class="emoji-menu ${Q!==0&&!t.searchMode&&t.currentGroup.id===-1?"visibility-auto":""}" style="${`--num-rows: ${Math.ceil(P.emojis.length/t.numColumns)}`}" data-action="updateOnIntersection" role="${t.searchMode?"listbox":"menu"}" aria-labelledby="menu-label-${Q}" id="${t.searchMode?"search-results":""}">${x(P.emojis,t.searchMode,"emo")}</div></div>`,P=>P.category)}</div></div><div class="favorites onscreen emoji-menu ${t.message?"gone":""}" role="menu" aria-label="${t.i18n.favoritesLabel}" data-on-click="onEmojiClick">${x(t.currentFavorites,!1,"fav")}</div><button data-ref="baselineEmoji" aria-hidden="true" tabindex="-1" class="abs-pos hidden emoji baseline-emoji">😀</button></section>`,j=(P,Q)=>{for(let Se of e.querySelectorAll(`[${P}]`))Q(Se,Se.getAttribute(P))};if(l){e.appendChild(R);for(let P of["click","focusout","input","keydown","keyup"])j(`data-on-${P}`,(Q,Se)=>{Q.addEventListener(P,r[Se])});j("data-ref",(P,Q)=>{o[Q]=P}),s.addEventListener("abort",()=>{e.removeChild(R)})}j("data-action",(P,Q)=>{let Se=a.get(Q);Se||a.set(Q,Se=new WeakSet),Se.has(P)||(Se.add(P),i[Q](P))})}var yu=typeof queueMicrotask=="function"?queueMicrotask:e=>Promise.resolve().then(e);function v2(e){let t=!1,n,r=new Map,i=new Set,o,s=()=>{if(t)return;let d=[...i];i.clear();try{for(let h of d)h()}finally{o=!1,i.size&&(o=!0,yu(s))}},a=new Proxy({},{get(d,h){if(n){let m=r.get(h);m||(m=new Set,r.set(h,m)),m.add(n)}return d[h]},set(d,h,m){if(d[h]!==m){d[h]=m;let y=r.get(h);if(y){for(let _ of y)i.add(_);o||(o=!0,yu(s))}}return!0}}),l=d=>{let h=()=>{let m=n;n=h;try{return d()}finally{n=m}};return h()};return e.addEventListener("abort",()=>{t=!0}),{state:a,createEffect:l}}function Nh(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}var GC=new WeakMap;function y2(e,t,n){{let r=e.closest(".tabpanel"),i=GC.get(r);i||(i=new IntersectionObserver(n,{root:r,rootMargin:"50% 0px 50% 0px",threshold:0}),GC.set(r,i),t.addEventListener("abort",()=>{i.disconnect()})),i.observe(e)}}var Oh=[],{assign:gu}=Object;function _2(e,t){let n={},r=new AbortController,i=r.signal,{state:o,createEffect:s}=v2(i),a=new Map;gu(o,{skinToneEmoji:void 0,i18n:void 0,database:void 0,customEmoji:void 0,customCategorySorting:void 0,emojiVersion:void 0}),gu(o,t),gu(o,{initialLoad:!0,currentEmojis:[],currentEmojisWithCategories:[],rawSearchText:"",searchText:"",searchMode:!1,activeSearchItem:-1,message:void 0,skinTonePickerExpanded:!1,skinTonePickerExpandedAfterAnimation:!1,currentSkinTone:0,activeSkinTone:0,skinToneButtonText:void 0,pickerStyle:void 0,skinToneButtonLabel:"",skinTones:[],currentFavorites:[],defaultFavoriteEmojis:void 0,numColumns:UR,isRtl:!1,currentGroupIndex:0,groups:Th,databaseLoaded:!1,activeSearchItemId:void 0}),s(()=>{o.currentGroup!==o.groups[o.currentGroupIndex]&&(o.currentGroup=o.groups[o.currentGroupIndex])});let l=I=>{e.getElementById(I).focus()},d=I=>e.getElementById(`emo-${I.id}`),h=(I,L)=>{n.rootElement.dispatchEvent(new CustomEvent(I,{detail:L,bubbles:!0,composed:!0}))},m=(I,L)=>I.id===L.id,y=(I,L)=>{let{category:le,emojis:ye}=I,{category:mt,emojis:_t}=L;return le!==mt?!1:Nh(ye,_t,m)},_=I=>{Nh(o.currentEmojis,I,m)||(o.currentEmojis=I)},x=I=>{o.searchMode!==I&&(o.searchMode=I)},M=I=>{Nh(o.currentEmojisWithCategories,I,y)||(o.currentEmojisWithCategories=I)},R=(I,L)=>L&&I.skins&&I.skins[L]||I.unicode,Q={labelWithSkin:(I,L)=>t2([I.name||R(I,L),I.annotation,...I.shortcodes||Oh].filter(Boolean)).join(", "),titleForEmoji:I=>I.annotation||(I.shortcodes||Oh).join(", "),unicodeWithSkin:R},Se={onClickSkinToneButton:sb,onEmojiClick:ib,onNavClick:nb,onNavKeydown:rb,onSearchKeydown:tb,onSkinToneOptionsClick:ob,onSkinToneOptionsFocusOut:cb,onSkinToneOptionsKeydown:ab,onSkinToneOptionsKeyup:lb,onSearchInput:ub},Oe={calculateEmojiGridStyle:To,updateOnIntersection:_u},He=!0;s(()=>{g2(e,o,Q,Se,Oe,n,i,a,He),He=!1}),o.emojiVersion||Ah().then(I=>{I||(o.message=o.i18n.emojiUnsupportedMessage)}),s(()=>{function I(){return te(this,null,function*(){let L=!1,le=setTimeout(()=>{L=!0,o.message=o.i18n.loadingMessage},LR);try{yield o.database.ready(),o.databaseLoaded=!0}catch(ye){console.error(ye),o.message=o.i18n.networkErrorMessage}finally{clearTimeout(le),L&&(L=!1,o.message="")}})}o.database&&I()}),s(()=>{o.pickerStyle=`
      --num-groups: ${o.groups.length}; 
      --indicator-opacity: ${o.searchMode?0:1}; 
      --num-skintones: ${UC};`}),s(()=>{o.customEmoji&&o.database&&nn()}),s(()=>{o.customEmoji&&o.customEmoji.length?o.groups!==Rh&&(o.groups=Rh):o.groups!==Th&&(o.currentGroupIndex&&o.currentGroupIndex--,o.groups=Th)}),s(()=>{function I(){return te(this,null,function*(){o.databaseLoaded&&(o.currentSkinTone=yield o.database.getPreferredSkinTone())})}I()}),s(()=>{o.skinTones=Array(UC).fill().map((I,L)=>YR(o.skinToneEmoji,L))}),s(()=>{o.skinToneButtonText=o.skinTones[o.currentSkinTone]}),s(()=>{o.skinToneButtonLabel=o.i18n.skinToneLabel.replace("{skinTone}",o.i18n.skinTones[o.currentSkinTone])}),s(()=>{function I(){return te(this,null,function*(){let{database:L}=o,le=(yield Promise.all(jR.map(ye=>L.getEmojiByUnicodeOrName(ye)))).filter(Boolean);o.defaultFavoriteEmojis=le})}o.databaseLoaded&&I()});function nn(){let{customEmoji:I,database:L}=o,le=I||Oh;L.customEmoji!==le&&(L.customEmoji=le)}s(()=>{function I(){return te(this,null,function*(){nn();let{database:L,defaultFavoriteEmojis:le,numColumns:ye}=o,mt=yield L.getTopFavoriteEmoji(ye),_t=yield Cu(ZC([...mt,...le],hn=>hn.unicode||hn.name).slice(0,ye));o.currentFavorites=_t})}o.databaseLoaded&&o.defaultFavoriteEmojis&&I()});function To(I){XR(I,i,()=>{{let L=getComputedStyle(n.rootElement),le=parseInt(L.getPropertyValue("--num-columns"),10),ye=L.getPropertyValue("direction")==="rtl";o.numColumns=le,o.isRtl=ye}})}function _u(I){y2(I,i,L=>{for(let{target:le,isIntersecting:ye}of L)le.classList.toggle("onscreen",ye)})}s(()=>{function I(){return te(this,null,function*(){let{searchText:L,currentGroup:le,databaseLoaded:ye,customEmoji:mt}=o;if(!ye)o.currentEmojis=[],o.searchMode=!1;else if(L.length>=RR){let _t=yield eb(L);o.searchText===L&&(_(_t),x(!0))}else{let{id:_t}=le;if(_t!==-1||mt&&mt.length){let hn=yield XC(_t);o.currentGroup.id===_t&&(_(hn),x(!1))}}})}I()});let Lh=()=>{vu(()=>n2(n.tabpanelElement))};s(()=>{let{currentEmojis:I,emojiVersion:L}=o,le=I.filter(ye=>ye.unicode).filter(ye=>jC(ye)&&!Ph.has(ye.unicode));if(!L&&le.length)_(I),vu(()=>KC(le));else{let ye=L?I:I.filter(JC);_(ye),Lh()}});function KC(I){e2(I,n.baselineEmoji,d)?Lh():o.currentEmojis=[...o.currentEmojis]}function JC(I){return!I.unicode||!jC(I)||Ph.get(I.unicode)}function Vh(I){return te(this,null,function*(){let L=o.emojiVersion||(yield Ah());return I.filter(({version:le})=>!le||le<=L)})}function Cu(I){return te(this,null,function*(){return KR(I,o.emojiVersion||(yield Ah()))})}function XC(I){return te(this,null,function*(){let L=I===-1?o.customEmoji:yield o.database.getEmojiByGroup(I);return Cu(yield Vh(L))})}function eb(I){return te(this,null,function*(){return Cu(yield Vh(yield o.database.getEmojiBySearchQuery(I)))})}s(()=>{}),s(()=>{function I(){let{searchMode:le,currentEmojis:ye}=o;if(le)return[{category:"",emojis:ye}];let mt=new Map;for(let _t of ye){let hn=_t.category||"",Zs=mt.get(hn);Zs||(Zs=[],mt.set(hn,Zs)),Zs.push(_t)}return[...mt.entries()].map(([_t,hn])=>({category:_t,emojis:hn})).sort((_t,hn)=>o.customCategorySorting(_t.category,hn.category))}let L=I();M(L)}),s(()=>{o.activeSearchItemId=o.activeSearchItem!==-1&&o.currentEmojis[o.activeSearchItem].id}),s(()=>{let{rawSearchText:I}=o;qC(()=>{o.searchText=(I||"").trim(),o.activeSearchItem=-1})});function tb(I){if(!o.searchMode||!o.currentEmojis.length)return;let L=le=>{Un(I),o.activeSearchItem=Mh(le,o.activeSearchItem,o.currentEmojis)};switch(I.key){case"ArrowDown":return L(!1);case"ArrowUp":return L(!0);case"Enter":if(o.activeSearchItem===-1)o.activeSearchItem=0;else return Un(I),Uh(o.currentEmojis[o.activeSearchItem].id)}}function nb(I){let{target:L}=I,le=L.closest(".nav-button");if(!le)return;let ye=parseInt(le.dataset.groupId,10);n.searchElement.value="",o.rawSearchText="",o.searchText="",o.activeSearchItem=-1,o.currentGroupIndex=o.groups.findIndex(mt=>mt.id===ye)}function rb(I){let{target:L,key:le}=I,ye=mt=>{mt&&(Un(I),mt.focus())};switch(le){case"ArrowLeft":return ye(L.previousElementSibling);case"ArrowRight":return ye(L.nextElementSibling);case"Home":return ye(L.parentElement.firstElementChild);case"End":return ye(L.parentElement.lastElementChild)}}function Uh(I){return te(this,null,function*(){let L=yield o.database.getEmojiByUnicodeOrName(I),le=[...o.currentEmojis,...o.currentFavorites].find(mt=>mt.id===I),ye=le.unicode&&R(le,o.currentSkinTone);yield o.database.incrementFavoriteEmojiCount(I),h("emoji-click",O(O({emoji:L,skinTone:o.currentSkinTone},ye&&{unicode:ye}),le.name&&{name:le.name}))})}function ib(I){return te(this,null,function*(){let{target:L}=I;if(!L.classList.contains("emoji"))return;Un(I);let le=L.id.substring(4);Uh(le)})}function bu(I){o.currentSkinTone=I,o.skinTonePickerExpanded=!1,l("skintone-button"),h("skin-tone-change",{skinTone:I}),o.database.setPreferredSkinTone(I)}function ob(I){let{target:{id:L}}=I,le=L&&L.match(/^skintone-(\d)/);if(!le)return;Un(I);let ye=parseInt(le[1],10);bu(ye)}function sb(I){o.skinTonePickerExpanded=!o.skinTonePickerExpanded,o.activeSkinTone=o.currentSkinTone,o.skinTonePickerExpanded&&(Un(I),vu(()=>l("skintone-list")))}s(()=>{o.skinTonePickerExpanded?n.skinToneDropdown.addEventListener("transitionend",()=>{o.skinTonePickerExpandedAfterAnimation=!0},{once:!0}):o.skinTonePickerExpandedAfterAnimation=!1});function ab(I){if(!o.skinTonePickerExpanded)return;let L=le=>te(this,null,function*(){Un(I),o.activeSkinTone=le});switch(I.key){case"ArrowUp":return L(Mh(!0,o.activeSkinTone,o.skinTones));case"ArrowDown":return L(Mh(!1,o.activeSkinTone,o.skinTones));case"Home":return L(0);case"End":return L(o.skinTones.length-1);case"Enter":return Un(I),bu(o.activeSkinTone);case"Escape":return Un(I),o.skinTonePickerExpanded=!1,l("skintone-button")}}function lb(I){if(o.skinTonePickerExpanded)switch(I.key){case" ":return Un(I),bu(o.activeSkinTone)}}function cb(I){return te(this,null,function*(){let{relatedTarget:L}=I;(!L||L.id!=="skintone-list")&&(o.skinTonePickerExpanded=!1)})}function ub(I){o.rawSearchText=I.target.value}return{$set(I){gu(o,I)},$destroy(){r.abort()}}}var C2="https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",b2="en",E2={categoriesLabel:"Categories",emojiUnsupportedMessage:"Your browser does not support color emoji.",favoritesLabel:"Favorites",loadingMessage:"Loading\u2026",networkErrorMessage:"Could not load emoji.",regionLabel:"Emoji picker",searchDescription:"When search results are available, press up or down to select and enter to choose.",searchLabel:"Search",searchResultsLabel:"Search results",skinToneDescription:"When expanded, press up or down to select and enter to choose.",skinToneLabel:"Choose a skin tone (currently {skinTone})",skinTonesLabel:"Skin tones",skinTones:["Default","Light","Medium-Light","Medium","Medium-Dark","Dark"],categories:{custom:"Custom","smileys-emotion":"Smileys and emoticons","people-body":"People and body","animals-nature":"Animals and nature","food-drink":"Food and drink","travel-places":"Travel and places",activities:"Activities",objects:"Objects",symbols:"Symbols",flags:"Flags"}},w2=':host{--emoji-size:1.375rem;--emoji-padding:0.5rem;--category-emoji-size:var(--emoji-size);--category-emoji-padding:var(--emoji-padding);--indicator-height:3px;--input-border-radius:0.5rem;--input-border-size:1px;--input-font-size:1rem;--input-line-height:1.5;--input-padding:0.25rem;--num-columns:8;--outline-size:2px;--border-size:1px;--border-radius:0;--skintone-border-radius:1rem;--category-font-size:1rem;display:flex;width:min-content;height:400px}:host,:host(.light){color-scheme:light;--background:#fff;--border-color:#e0e0e0;--indicator-color:#385ac1;--input-border-color:#999;--input-font-color:#111;--input-placeholder-color:#999;--outline-color:#999;--category-font-color:#111;--button-active-background:#e6e6e6;--button-hover-background:#d9d9d9}:host(.dark){color-scheme:dark;--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}@media (prefers-color-scheme:dark){:host{color-scheme:dark;--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}}:host([hidden]){display:none}button{margin:0;padding:0;border:0;background:0 0;box-shadow:none;-webkit-tap-highlight-color:transparent}button::-moz-focus-inner{border:0}input{padding:0;margin:0;line-height:1.15;font-family:inherit}input[type=search]{-webkit-appearance:none}:focus{outline:var(--outline-color) solid var(--outline-size);outline-offset:calc(-1*var(--outline-size))}:host([data-js-focus-visible]) :focus:not([data-focus-visible-added]){outline:0}:focus:not(:focus-visible){outline:0}.hide-focus{outline:0}*{box-sizing:border-box}.picker{contain:content;display:flex;flex-direction:column;background:var(--background);border:var(--border-size) solid var(--border-color);border-radius:var(--border-radius);width:100%;height:100%;overflow:hidden;--total-emoji-size:calc(var(--emoji-size) + (2 * var(--emoji-padding)));--total-category-emoji-size:calc(var(--category-emoji-size) + (2 * var(--category-emoji-padding)))}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.hidden{opacity:0;pointer-events:none}.abs-pos{position:absolute;left:0;top:0}.gone{display:none!important}.skintone-button-wrapper,.skintone-list{background:var(--background);z-index:3}.skintone-button-wrapper.expanded{z-index:1}.skintone-list{position:absolute;inset-inline-end:0;top:0;z-index:2;overflow:visible;border-bottom:var(--border-size) solid var(--border-color);border-radius:0 0 var(--skintone-border-radius) var(--skintone-border-radius);will-change:transform;transition:transform .2s ease-in-out;transform-origin:center 0}@media (prefers-reduced-motion:reduce){.skintone-list{transition-duration:.001s}}@supports not (inset-inline-end:0){.skintone-list{right:0}}.skintone-list.no-animate{transition:none}.tabpanel{overflow-y:auto;scrollbar-gutter:stable;-webkit-overflow-scrolling:touch;will-change:transform;min-height:0;flex:1;contain:content}.emoji-menu{display:grid;grid-template-columns:repeat(var(--num-columns),var(--total-emoji-size));justify-content:space-around;align-items:flex-start;width:100%}.emoji-menu.visibility-auto{content-visibility:auto;contain-intrinsic-size:calc(var(--num-columns)*var(--total-emoji-size)) calc(var(--num-rows)*var(--total-emoji-size))}.category{padding:var(--emoji-padding);font-size:var(--category-font-size);color:var(--category-font-color)}.emoji,button.emoji{font-size:var(--emoji-size);display:flex;align-items:center;justify-content:center;border-radius:100%;height:var(--total-emoji-size);width:var(--total-emoji-size);line-height:1;overflow:hidden;font-family:var(--emoji-font-family);cursor:pointer}@media (hover:hover) and (pointer:fine){.emoji:hover,button.emoji:hover{background:var(--button-hover-background)}}.emoji.active,.emoji:active,button.emoji.active,button.emoji:active{background:var(--button-active-background)}.onscreen .custom-emoji::after{content:"";width:var(--emoji-size);height:var(--emoji-size);background-repeat:no-repeat;background-position:center center;background-size:contain;background-image:var(--custom-emoji-background)}.nav,.nav-button{align-items:center}.nav{display:grid;justify-content:space-between;contain:content}.nav-button{display:flex;justify-content:center}.nav-emoji{font-size:var(--category-emoji-size);width:var(--total-category-emoji-size);height:var(--total-category-emoji-size)}.indicator-wrapper{display:flex;border-bottom:1px solid var(--border-color)}.indicator{width:calc(100%/var(--num-groups));height:var(--indicator-height);opacity:var(--indicator-opacity);background-color:var(--indicator-color);will-change:transform,opacity;transition:opacity .1s linear,transform .25s ease-in-out}@media (prefers-reduced-motion:reduce){.indicator{will-change:opacity;transition:opacity .1s linear}}.pad-top,input.search{background:var(--background);width:100%}.pad-top{height:var(--emoji-padding);z-index:3}.search-row{display:flex;align-items:center;position:relative;padding-inline-start:var(--emoji-padding);padding-bottom:var(--emoji-padding)}.search-wrapper{flex:1;min-width:0}input.search{padding:var(--input-padding);border-radius:var(--input-border-radius);border:var(--input-border-size) solid var(--input-border-color);color:var(--input-font-color);font-size:var(--input-font-size);line-height:var(--input-line-height)}input.search::placeholder{color:var(--input-placeholder-color)}.favorites{overflow-y:auto;scrollbar-gutter:stable;display:flex;flex-direction:row;border-top:var(--border-size) solid var(--border-color);contain:content}.message{padding:var(--emoji-padding)}',QC=["customEmoji","customCategorySorting","database","dataSource","i18n","locale","skinToneEmoji","emojiVersion"],S2=`:host{--emoji-font-family:${WC}}`,Ws=class extends HTMLElement{constructor(t){super(),this.attachShadow({mode:"open"});let n=document.createElement("style");n.textContent=w2+S2,this.shadowRoot.appendChild(n),this._ctx=O({locale:b2,dataSource:C2,skinToneEmoji:VR,customCategorySorting:BR,customEmoji:null,i18n:E2,emojiVersion:null},t);for(let r of QC)r!=="database"&&Object.prototype.hasOwnProperty.call(this,r)&&(this._ctx[r]=this[r],delete this[r]);this._dbFlush()}connectedCallback(){this._cmp||(this._cmp=_2(this.shadowRoot,this._ctx))}disconnectedCallback(){yu(()=>{if(!this.isConnected&&this._cmp){this._cmp.$destroy(),this._cmp=void 0;let{database:t}=this._ctx;t.close().catch(n=>console.error(n))}})}static get observedAttributes(){return["locale","data-source","skin-tone-emoji","emoji-version"]}attributeChangedCallback(t,n,r){this._set(t.replace(/-([a-z])/g,(i,o)=>o.toUpperCase()),t==="emoji-version"?parseFloat(r):r)}_set(t,n){this._ctx[t]=n,this._cmp&&this._cmp.$set({[t]:n}),["locale","dataSource"].includes(t)&&this._dbFlush()}_dbCreate(){let{locale:t,dataSource:n,database:r}=this._ctx;(!r||r.locale!==t||r.dataSource!==n)&&this._set("database",new Gs({locale:t,dataSource:n}))}_dbFlush(){yu(()=>this._dbCreate())}},YC={};for(let e of QC)YC[e]={get(){return e==="database"&&this._dbCreate(),this._ctx[e]},set(t){if(e==="database")throw new Error("database is read-only");this._set(e,t)}};Object.defineProperties(Ws.prototype,YC);customElements.get("emoji-picker")||customElements.define("emoji-picker",Ws);Sy(uu,bC).catch(e=>console.error(e));
